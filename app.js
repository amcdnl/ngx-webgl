webpackJsonp([1,2],{"./demo/app/app.component.scss":function(t,e,n){var r=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/index.js?sourceMap!./node_modules/sass-loader/lib/loader.js?sourceMap!./demo/app/app.component.scss");t.exports="string"==typeof r?r:r.toString()},"./demo/app/app.component.ts":function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(e,"__esModule",{value:!0});var i=n("./node_modules/@angular/core/@angular/core.es5.js"),o=function(){function t(){this.menuActive=!1}return t}();o=r([i.Component({selector:"app",styles:[n("./demo/app/app.component.scss")],template:'\n    <div>\n      <!-- Header -->\n      <header>\n        <button\n          class="hamburger-menu"\n          (click)="menuActive = !menuActive">\n          <div class="bar" [class.active]="menuActive"></div>\n        </button>\n      </header>\n\n      <!-- Stats -->\n      <ngx-stats></ngx-stats>\n\n      <!-- Page Nav -->\n      <nav *ngIf="menuActive">\n        <ul>\n          <li>\n            <button\n              (click)="menuActive = false"\n              routerLink="/spheres"\n              routerLinkActive="active">\n              Spheres\n            </button>\n          </li>\n          <li>\n            <button\n              routerLink="/theatre"\n              (click)="menuActive = false"\n              routerLinkActive="active">\n              Theatre\n            </button>\n          </li>\n        </ul>\n      </nav>\n\n      <!-- WebGL Stuff -->\n      <router-outlet></router-outlet>\n    </div>\n  ',changeDetection:i.ChangeDetectionStrategy.OnPush})],o),e.AppComponent=o},"./demo/app/app.module.ts":function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(e,"__esModule",{value:!0});var i=n("./node_modules/@angular/core/@angular/core.es5.js"),o=n("./node_modules/@angular/platform-browser/@angular/platform-browser.es5.js"),s=n("./node_modules/@angular/router/@angular/router.es5.js"),a=n("./src/index.ts"),u=n("./demo/app/app.component.ts"),c=n("./demo/app/app.routes.ts"),l=n("./demo/app/vr-toggle.component.ts"),p=n("./demo/app/spheres.component.ts"),h=n("./demo/app/theatre.component.ts"),f=function(){function t(){}return t}();f=r([i.NgModule({declarations:[u.AppComponent,p.SpheresComponent,h.TheatreComponent,l.VRToggleComponent],imports:[o.BrowserModule,a.NgxWebGlModule,s.RouterModule.forRoot(c.routes,{useHash:!0})],bootstrap:[u.AppComponent]})],f),e.AppModule=f},"./demo/app/app.routes.ts":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("./demo/app/spheres.component.ts"),i=n("./demo/app/theatre.component.ts");e.routes=[{path:"",redirectTo:"/spheres",pathMatch:"full"},{path:"spheres",component:r.SpheresComponent},{path:"theatre",component:i.TheatreComponent}]},"./demo/app/index.ts":function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n("./demo/app/app.module.ts"))},"./demo/app/spheres.component.ts":function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(e,"__esModule",{value:!0});var i=n("./node_modules/@angular/core/@angular/core.es5.js"),o=function(){function t(){this.count=100,this.balls=this.createSpheres(),this.isVRMode=!1}return t.prototype.createSpheres=function(){for(var t=[],e=0;e<this.count;e++)t.push({x:250*(Math.random()-.5),y:250*(Math.random()-.5),z:250*(Math.random()-.5)});return t},t}();o=r([i.Component({selector:"app-spheres",template:'\n    <div>\n      <!-- The Sphere Component -->\n      <ngx-renderer [vrMode]="isVRMode" class="container">\n        <ngx-orbit-controls\n          [enabled]="!isVRMode">\n        </ngx-orbit-controls>\n        <ngx-vr-controls\n          [enabled]="isVRMode">\n        </ngx-vr-controls>\n        <ngx-scene>\n          <ngx-perspective-camera></ngx-perspective-camera>\n          <ngx-directional-light></ngx-directional-light>\n          <ngx-ambient-light></ngx-ambient-light>\n          <ngx-sphere\n            *ngFor="let ball of balls"\n            [positionY]="ball.y"\n            [positionX]="ball.x"\n            [positionZ]="ball.z">\n          </ngx-sphere>\n        </ngx-scene>\n      </ngx-renderer>\n\n      <!-- Enable VR Mode -->\n      <vr-toggle\n        (toggle)="isVRMode = $event">\n      </vr-toggle>\n    </div>\n  ',changeDetection:i.ChangeDetectionStrategy.OnPush})],o),e.SpheresComponent=o},"./demo/app/theatre.component.ts":function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(e,"__esModule",{value:!0});var i=n("./node_modules/@angular/core/@angular/core.es5.js"),o=function(){function t(){this.isVRMode=!1}return t}();o=r([i.Component({selector:"app-theatre",template:'\n    <div>\n      <!-- The Theatre Component -->\n      <ngx-renderer [vrMode]="isVRMode" class="container">\n        <ngx-orbit-controls\n          [enabled]="!isVRMode">\n        </ngx-orbit-controls>\n        <ngx-vr-controls\n          [enabled]="isVRMode">\n        </ngx-vr-controls>\n        <ngx-scene>\n          <ngx-perspective-camera></ngx-perspective-camera>\n          <ngx-directional-light></ngx-directional-light>\n          <ngx-ambient-light></ngx-ambient-light>\n          <ngx-map-mesh\n            imageSrc="assets/mountains.jpg">\n          </ngx-map-mesh>\n          <ngx-video\n            url="http://stemkoski.github.io/Three.js/videos/sintel.ogv">\n          </ngx-video>\n        </ngx-scene>\n      </ngx-renderer>\n\n      <!-- Enable VR Mode -->\n      <vr-toggle\n        (toggle)="isVRMode = $event">\n      </vr-toggle>\n    </div>\n  ',changeDetection:i.ChangeDetectionStrategy.OnPush})],o),e.TheatreComponent=o},"./demo/app/vr-toggle.component.ts":function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var o=n("./node_modules/@angular/core/@angular/core.es5.js"),s=function(){function t(){this.toggle=new o.EventEmitter,this.vrMode=!1,this.vrAvailable=!1}return t.prototype.ngOnInit=function(){var t=this;navigator.getVRDisplays&&navigator.getVRDisplays().then(function(e){e.length?t.vrAvailable=!0:t.vrAvailable=!1})},t}();r([o.Output(),i("design:type",Object)],s.prototype,"toggle",void 0),s=r([o.Component({selector:"vr-toggle",template:'\n    <div class="vr-toggle">\n      <button\n        class="vr-btn"\n        (click)="toggle.emit(vrMode = !vrMode)">\n      </button>\n      <span\n        *ngIf="!vrAvailable"\n        class="vr-desc">\n        ðŸ˜¢ No VR Devices Found\n      </span>\n    </div>\n  ',changeDetection:o.ChangeDetectionStrategy.OnPush})],s),e.VRToggleComponent=s},"./demo/assets/cardboard.png":function(t,e,n){t.exports=n.p+"56c6ae0fe51cba3d1e8ecdcaccd4568f.png"},"./demo/bootstrap.ts":function(t,e,n){"use strict";function r(){return o.platformBrowserDynamic().bootstrapModule(s.AppModule).catch(function(t){return console.error(t)})}function i(){document.addEventListener("DOMContentLoaded",r)}Object.defineProperty(e,"__esModule",{value:!0});var o=n("./node_modules/@angular/platform-browser-dynamic/@angular/platform-browser-dynamic.es5.js"),s=n("./demo/app/index.ts");e.main=r,e.bootstrapDomReady=i,i()},"./node_modules/@angular/common/@angular/common.es5.js":function(t,e,n){"use strict";function r(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}function i(t){return t.replace(/\/index.html$/,"")}function o(t,e,n){var r="="+t;if(e.indexOf(r)>-1)return r;if(r=n.getPluralCategory(t),e.indexOf(r)>-1)return r;if(e.indexOf("other")>-1)return"other";throw new Error('No plural message found for value "'+t+'"')}function s(t,e){"string"==typeof e&&(e=parseInt(e,10));var n=e,r=n.toString().replace(/^[^.]*\.?/,""),i=Math.floor(Math.abs(n)),o=r.length,s=parseInt(r,10),a=parseInt(n.toString().replace(/^[^.]*\.?|0+$/g,""),10)||0;switch(t.split("-")[0].toLowerCase()){case"af":case"asa":case"az":case"bem":case"bez":case"bg":case"brx":case"ce":case"cgg":case"chr":case"ckb":case"ee":case"el":case"eo":case"es":case"eu":case"fo":case"fur":case"gsw":case"ha":case"haw":case"hu":case"jgo":case"jmc":case"ka":case"kk":case"kkj":case"kl":case"ks":case"ksb":case"ky":case"lb":case"lg":case"mas":case"mgo":case"ml":case"mn":case"nb":case"nd":case"ne":case"nn":case"nnh":case"nyn":case"om":case"or":case"os":case"ps":case"rm":case"rof":case"rwk":case"saq":case"seh":case"sn":case"so":case"sq":case"ta":case"te":case"teo":case"tk":case"tr":case"ug":case"uz":case"vo":case"vun":case"wae":case"xog":return 1===n?G.One:G.Other;case"agq":case"bas":case"cu":case"dav":case"dje":case"dua":case"dyo":case"ebu":case"ewo":case"guz":case"kam":case"khq":case"ki":case"kln":case"kok":case"ksf":case"lrc":case"lu":case"luo":case"luy":case"mer":case"mfe":case"mgh":case"mua":case"mzn":case"nmg":case"nus":case"qu":case"rn":case"rw":case"sbp":case"twq":case"vai":case"yav":case"yue":case"zgh":case"ak":case"ln":case"mg":case"pa":case"ti":return n===Math.floor(n)&&n>=0&&n<=1?G.One:G.Other;case"am":case"as":case"bn":case"fa":case"gu":case"hi":case"kn":case"mr":case"zu":return 0===i||1===n?G.One:G.Other;case"ar":return 0===n?G.Zero:1===n?G.One:2===n?G.Two:n%100===Math.floor(n%100)&&n%100>=3&&n%100<=10?G.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=99?G.Many:G.Other;case"ast":case"ca":case"de":case"en":case"et":case"fi":case"fy":case"gl":case"it":case"nl":case"sv":case"sw":case"ur":case"yi":return 1===i&&0===o?G.One:G.Other;case"be":return n%10==1&&n%100!=11?G.One:n%10===Math.floor(n%10)&&n%10>=2&&n%10<=4&&!(n%100>=12&&n%100<=14)?G.Few:n%10==0||n%10===Math.floor(n%10)&&n%10>=5&&n%10<=9||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=14?G.Many:G.Other;case"br":return n%10==1&&n%100!=11&&n%100!=71&&n%100!=91?G.One:n%10==2&&n%100!=12&&n%100!=72&&n%100!=92?G.Two:n%10===Math.floor(n%10)&&(n%10>=3&&n%10<=4||n%10==9)&&!(n%100>=10&&n%100<=19||n%100>=70&&n%100<=79||n%100>=90&&n%100<=99)?G.Few:0!==n&&n%1e6==0?G.Many:G.Other;case"bs":case"hr":case"sr":return 0===o&&i%10==1&&i%100!=11||s%10==1&&s%100!=11?G.One:0===o&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)||s%10===Math.floor(s%10)&&s%10>=2&&s%10<=4&&!(s%100>=12&&s%100<=14)?G.Few:G.Other;case"cs":case"sk":return 1===i&&0===o?G.One:i===Math.floor(i)&&i>=2&&i<=4&&0===o?G.Few:0!==o?G.Many:G.Other;case"cy":return 0===n?G.Zero:1===n?G.One:2===n?G.Two:3===n?G.Few:6===n?G.Many:G.Other;case"da":return 1===n||0!==a&&(0===i||1===i)?G.One:G.Other;case"dsb":case"hsb":return 0===o&&i%100==1||s%100==1?G.One:0===o&&i%100==2||s%100==2?G.Two:0===o&&i%100===Math.floor(i%100)&&i%100>=3&&i%100<=4||s%100===Math.floor(s%100)&&s%100>=3&&s%100<=4?G.Few:G.Other;case"ff":case"fr":case"hy":case"kab":return 0===i||1===i?G.One:G.Other;case"fil":return 0===o&&(1===i||2===i||3===i)||0===o&&i%10!=4&&i%10!=6&&i%10!=9||0!==o&&s%10!=4&&s%10!=6&&s%10!=9?G.One:G.Other;case"ga":return 1===n?G.One:2===n?G.Two:n===Math.floor(n)&&n>=3&&n<=6?G.Few:n===Math.floor(n)&&n>=7&&n<=10?G.Many:G.Other;case"gd":return 1===n||11===n?G.One:2===n||12===n?G.Two:n===Math.floor(n)&&(n>=3&&n<=10||n>=13&&n<=19)?G.Few:G.Other;case"gv":return 0===o&&i%10==1?G.One:0===o&&i%10==2?G.Two:0!==o||i%100!=0&&i%100!=20&&i%100!=40&&i%100!=60&&i%100!=80?0!==o?G.Many:G.Other:G.Few;case"he":return 1===i&&0===o?G.One:2===i&&0===o?G.Two:0!==o||n>=0&&n<=10||n%10!=0?G.Other:G.Many;case"is":return 0===a&&i%10==1&&i%100!=11||0!==a?G.One:G.Other;case"ksh":return 0===n?G.Zero:1===n?G.One:G.Other;case"kw":case"naq":case"se":case"smn":return 1===n?G.One:2===n?G.Two:G.Other;case"lag":return 0===n?G.Zero:0!==i&&1!==i||0===n?G.Other:G.One;case"lt":return n%10!=1||n%100>=11&&n%100<=19?n%10===Math.floor(n%10)&&n%10>=2&&n%10<=9&&!(n%100>=11&&n%100<=19)?G.Few:0!==s?G.Many:G.Other:G.One;case"lv":case"prg":return n%10==0||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19||2===o&&s%100===Math.floor(s%100)&&s%100>=11&&s%100<=19?G.Zero:n%10==1&&n%100!=11||2===o&&s%10==1&&s%100!=11||2!==o&&s%10==1?G.One:G.Other;case"mk":return 0===o&&i%10==1||s%10==1?G.One:G.Other;case"mt":return 1===n?G.One:0===n||n%100===Math.floor(n%100)&&n%100>=2&&n%100<=10?G.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19?G.Many:G.Other;case"pl":return 1===i&&0===o?G.One:0===o&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)?G.Few:0===o&&1!==i&&i%10===Math.floor(i%10)&&i%10>=0&&i%10<=1||0===o&&i%10===Math.floor(i%10)&&i%10>=5&&i%10<=9||0===o&&i%100===Math.floor(i%100)&&i%100>=12&&i%100<=14?G.Many:G.Other;case"pt":return n===Math.floor(n)&&n>=0&&n<=2&&2!==n?G.One:G.Other;case"ro":return 1===i&&0===o?G.One:0!==o||0===n||1!==n&&n%100===Math.floor(n%100)&&n%100>=1&&n%100<=19?G.Few:G.Other;case"ru":case"uk":return 0===o&&i%10==1&&i%100!=11?G.One:0===o&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)?G.Few:0===o&&i%10==0||0===o&&i%10===Math.floor(i%10)&&i%10>=5&&i%10<=9||0===o&&i%100===Math.floor(i%100)&&i%100>=11&&i%100<=14?G.Many:G.Other;case"shi":return 0===i||1===n?G.One:n===Math.floor(n)&&n>=2&&n<=10?G.Few:G.Other;case"si":return 0===n||1===n||0===i&&1===s?G.One:G.Other;case"sl":return 0===o&&i%100==1?G.One:0===o&&i%100==2?G.Two:0===o&&i%100===Math.floor(i%100)&&i%100>=3&&i%100<=4||0!==o?G.Few:G.Other;case"tzm":return n===Math.floor(n)&&n>=0&&n<=1||n===Math.floor(n)&&n>=11&&n<=99?G.One:G.Other;default:return G.Other}}function a(t){return t.name||typeof t}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function u(t,e){return Error("InvalidPipeArgument: '"+e+"' for pipe '"+n.i(I["Éµstringify"])(t)+"'")}function c(t){return t?t[0].toUpperCase()+t.substr(1).toLowerCase():t}function l(t){return function(e,n){var r=t(e,n);return 1==r.length?"0"+r:r}}function p(t){return function(e,n){return t(e,n).split(" ")[1]}}function h(t){return function(e,n){return t(e,n).split(" ")[0]}}function f(t,e,n){return new Intl.DateTimeFormat(e,n).format(t).replace(/[\u200e\u200f]/g,"")}function d(t){var e={hour:"2-digit",hour12:!1,timeZoneName:t};return function(t,n){var r=f(t,n,e);return r?r.substring(3):""}}function m(t,e){return t.hour12=e,t}function v(t,e){var n={};return n[t]=2===e?"2-digit":"numeric",n}function g(t,e){var n={};return n[t]=e<4?e>1?"short":"narrow":"long",n}function y(t){return Object.assign.apply(Object,[{}].concat(t))}function _(t){return function(e,n){return f(e,n,t)}}function b(t,e,n){var r=_t[t];if(r)return r(e,n);var i=t,o=wt.get(i);if(!o){o=[];var s=void 0;for(yt.exec(t);t;)s=yt.exec(t),s?(o=o.concat(s.slice(1)),t=o.pop()):(o.push(t),t=null);wt.set(i,o)}return o.reduce(function(t,r){var i=bt[r];return t+(i?i(e,n):w(r))},"")}function w(t){return"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}function x(t,e,n,r,i,o,s){if(void 0===o&&(o=null),void 0===s&&(s=!1),null==n)return null;if("number"!=typeof(n="string"==typeof n&&S(n)?+n:n))throw u(t,n);var a,c,l;if(r!==vt.Currency&&(a=1,c=0,l=3),i){var p=i.match(Et);if(null===p)throw new Error(i+" is not a valid digit info for number pipes");null!=p[1]&&(a=E(p[1])),null!=p[3]&&(c=E(p[3])),null!=p[5]&&(l=E(p[5]))}return gt.format(n,e,r,{minimumIntegerDigits:a,minimumFractionDigits:c,maximumFractionDigits:l,currency:o,currencyAsSymbol:s})}function E(t){var e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function S(t){return!isNaN(t-parseFloat(t))}function M(t){return null==t||""===t}function C(t){return t instanceof Date&&!isNaN(t.valueOf())}function T(t){var e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=A(t[9]+t[10]),r=A(t[9]+t[11])),i.call(e,A(t[1]),A(t[2])-1,A(t[3]));var s=A(t[4]||"0")-n,a=A(t[5]||"0")-r,u=A(t[6]||"0"),c=Math.round(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,s,a,u,c),e}function A(t){return parseInt(t,10)}function P(t){return t===kt}function R(t){return t===jt}function O(t){return t===Ft}function L(t){return t===Ut}Object.defineProperty(e,"__esModule",{value:!0});var I=n("./node_modules/@angular/core/@angular/core.es5.js");n.d(e,"NgLocaleLocalization",function(){return z}),n.d(e,"NgLocalization",function(){return H}),n.d(e,"CommonModule",function(){return Dt}),n.d(e,"NgClass",function(){return W}),n.d(e,"NgFor",function(){return Q}),n.d(e,"NgForOf",function(){return Y}),n.d(e,"NgForOfContext",function(){return X}),n.d(e,"NgIf",function(){return K}),n.d(e,"NgIfContext",function(){return J}),n.d(e,"NgPlural",function(){return rt}),n.d(e,"NgPluralCase",function(){return it}),n.d(e,"NgStyle",function(){return ot}),n.d(e,"NgSwitch",function(){return tt}),n.d(e,"NgSwitchCase",function(){return et}),n.d(e,"NgSwitchDefault",function(){return nt}),n.d(e,"NgTemplateOutlet",function(){return st}),n.d(e,"NgComponentOutlet",function(){return q}),n.d(e,"AsyncPipe",function(){return ht}),n.d(e,"DatePipe",function(){return At}),n.d(e,"I18nPluralPipe",function(){return Rt}),n.d(e,"I18nSelectPipe",function(){return Ot}),n.d(e,"JsonPipe",function(){return Lt}),n.d(e,"LowerCasePipe",function(){return ft}),n.d(e,"CurrencyPipe",function(){return Ct}),n.d(e,"DecimalPipe",function(){return St}),n.d(e,"PercentPipe",function(){return Mt}),n.d(e,"SlicePipe",function(){return It}),n.d(e,"UpperCasePipe",function(){return mt}),n.d(e,"TitleCasePipe",function(){return dt}),n.d(e,"ÉµPLATFORM_BROWSER_ID",function(){return kt}),n.d(e,"ÉµPLATFORM_SERVER_ID",function(){return jt}),n.d(e,"ÉµPLATFORM_WORKER_APP_ID",function(){return Ft}),n.d(e,"ÉµPLATFORM_WORKER_UI_ID",function(){return Ut}),n.d(e,"isPlatformBrowser",function(){return P}),n.d(e,"isPlatformServer",function(){return R}),n.d(e,"isPlatformWorkerApp",function(){return O}),n.d(e,"isPlatformWorkerUi",function(){return L}),n.d(e,"VERSION",function(){return Bt}),n.d(e,"PlatformLocation",function(){return D}),n.d(e,"LOCATION_INITIALIZED",function(){return k}),n.d(e,"LocationStrategy",function(){return j}),n.d(e,"APP_BASE_HREF",function(){return F}),n.d(e,"HashLocationStrategy",function(){return B}),n.d(e,"PathLocationStrategy",function(){return V}),n.d(e,"Location",function(){return U}),n.d(e,"Éµa",function(){return at}),n.d(e,"Éµb",function(){return Nt});var N=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},D=function(){function t(){}return t.prototype.getBaseHrefFromDOM=function(){},t.prototype.onPopState=function(t){},t.prototype.onHashChange=function(t){},Object.defineProperty(t.prototype,"pathname",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"search",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hash",{get:function(){return null},enumerable:!0,configurable:!0}),t.prototype.replaceState=function(t,e,n){},t.prototype.pushState=function(t,e,n){},t.prototype.forward=function(){},t.prototype.back=function(){},t}(),k=new I.InjectionToken("Location Initialized"),j=function(){function t(){}return t.prototype.path=function(t){},t.prototype.prepareExternalUrl=function(t){},t.prototype.pushState=function(t,e,n,r){},t.prototype.replaceState=function(t,e,n,r){},t.prototype.forward=function(){},t.prototype.back=function(){},t.prototype.onPopState=function(t){},t.prototype.getBaseHref=function(){},t}(),F=new I.InjectionToken("appBaseHref"),U=function(){function t(e){var n=this;this._subject=new I.EventEmitter,this._platformStrategy=e;var r=this._platformStrategy.getBaseHref();this._baseHref=t.stripTrailingSlash(i(r)),this._platformStrategy.onPopState(function(t){n._subject.emit({url:n.path(!0),pop:!0,type:t.type})})}return t.prototype.path=function(t){return void 0===t&&(t=!1),this.normalize(this._platformStrategy.path(t))},t.prototype.isCurrentPathEqualTo=function(e,n){return void 0===n&&(n=""),this.path()==this.normalize(e+t.normalizeQueryParams(n))},t.prototype.normalize=function(e){return t.stripTrailingSlash(r(this._baseHref,i(e)))},t.prototype.prepareExternalUrl=function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)},t.prototype.go=function(t,e){void 0===e&&(e=""),this._platformStrategy.pushState(null,"",t,e)},t.prototype.replaceState=function(t,e){void 0===e&&(e=""),this._platformStrategy.replaceState(null,"",t,e)},t.prototype.forward=function(){this._platformStrategy.forward()},t.prototype.back=function(){this._platformStrategy.back()},t.prototype.subscribe=function(t,e,n){return void 0===e&&(e=null),void 0===n&&(n=null),this._subject.subscribe({next:t,error:e,complete:n})},t.normalizeQueryParams=function(t){return t&&"?"!==t[0]?"?"+t:t},t.joinWithSlash=function(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e},t.stripTrailingSlash=function(t){return t.replace(/\/$/,"")},t}();U.decorators=[{type:I.Injectable}],U.ctorParameters=function(){return[{type:j}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var B=function(t){function e(e,n){var r=t.call(this)||this;return r._platformLocation=e,r._baseHref="",null!=n&&(r._baseHref=n),r}return N(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e},e.prototype.prepareExternalUrl=function(t){var e=U.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e},e.prototype.pushState=function(t,e,n,r){var i=this.prepareExternalUrl(n+U.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)},e.prototype.replaceState=function(t,e,n,r){var i=this.prepareExternalUrl(n+U.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(j);B.decorators=[{type:I.Injectable}],B.ctorParameters=function(){return[{type:D},{type:void 0,decorators:[{type:I.Optional},{type:I.Inject,args:[F]}]}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var V=function(t){function e(e,n){var r=t.call(this)||this;if(r._platformLocation=e,null==n&&(n=r._platformLocation.getBaseHrefFromDOM()),null==n)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return r._baseHref=n,r}return N(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.prepareExternalUrl=function(t){return U.joinWithSlash(this._baseHref,t)},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.pathname+U.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?""+e+n:e},e.prototype.pushState=function(t,e,n,r){var i=this.prepareExternalUrl(n+U.normalizeQueryParams(r));this._platformLocation.pushState(t,e,i)},e.prototype.replaceState=function(t,e,n,r){var i=this.prepareExternalUrl(n+U.normalizeQueryParams(r));this._platformLocation.replaceState(t,e,i)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(j);V.decorators=[{type:I.Injectable}],V.ctorParameters=function(){return[{type:D},{type:void 0,decorators:[{type:I.Optional},{type:I.Inject,args:[F]}]}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var H=function(){function t(){}return t.prototype.getPluralCategory=function(t){},t}(),z=function(t){function e(e){var n=t.call(this)||this;return n.locale=e,n}return N(e,t),e.prototype.getPluralCategory=function(t){switch(s(this.locale,t)){case G.Zero:return"zero";case G.One:return"one";case G.Two:return"two";case G.Few:return"few";case G.Many:return"many";default:return"other"}},e}(H);z.decorators=[{type:I.Injectable}],z.ctorParameters=function(){return[{type:void 0,decorators:[{type:I.Inject,args:[I.LOCALE_ID]}]}]};var G={};G.Zero=0,G.One=1,G.Two=2,G.Few=3,G.Many=4,G.Other=5,G[G.Zero]="Zero",G[G.One]="One",G[G.Two]="Two",G[G.Few]="Few",G[G.Many]="Many",G[G.Other]="Other";/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var W=function(){function t(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._initialClasses=[]}return Object.defineProperty(t.prototype,"klass",{set:function(t){this._applyInitialClasses(!0),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyInitialClasses(!1),this._applyClasses(this._rawClass,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClass",{set:function(t){this._cleanupClasses(this._rawClass),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(n.i(I["ÉµisListLikeIterable"])(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(this._iterableDiffer){var t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){var e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}},t.prototype._cleanupClasses=function(t){this._applyClasses(t,!0),this._applyInitialClasses(!1)},t.prototype._applyKeyValueChanges=function(t){var e=this;t.forEachAddedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachChangedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachRemovedItem(function(t){t.previousValue&&e._toggleClass(t.key,!1)})},t.prototype._applyIterableChanges=function(t){var e=this;t.forEachAddedItem(function(t){if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+n.i(I["Éµstringify"])(t.item));e._toggleClass(t.item,!0)}),t.forEachRemovedItem(function(t){return e._toggleClass(t.item,!1)})},t.prototype._applyInitialClasses=function(t){var e=this;this._initialClasses.forEach(function(n){return e._toggleClass(n,!t)})},t.prototype._applyClasses=function(t,e){var n=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach(function(t){return n._toggleClass(t,!e)}):Object.keys(t).forEach(function(r){null!=t[r]&&n._toggleClass(r,!e)}))},t.prototype._toggleClass=function(t,e){var n=this;(t=t.trim())&&t.split(/\s+/g).forEach(function(t){n._renderer.setElementClass(n._ngEl.nativeElement,t,!!e)})},t}();W.decorators=[{type:I.Directive,args:[{selector:"[ngClass]"}]}],W.ctorParameters=function(){return[{type:I.IterableDiffers},{type:I.KeyValueDiffers},{type:I.ElementRef},{type:I.Renderer}]},W.propDecorators={klass:[{type:I.Input,args:["class"]}],ngClass:[{type:I.Input}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var q=function(){function t(t){this._viewContainerRef=t,this._componentRef=null,this._moduleRef=null}return t.prototype.ngOnChanges=function(t){if(this._viewContainerRef.clear(),this._componentRef=null,this.ngComponentOutlet){var e=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;if(t.ngComponentOutletNgModuleFactory)if(this._moduleRef&&this._moduleRef.destroy(),this.ngComponentOutletNgModuleFactory){var n=e.get(I.NgModuleRef);this._moduleRef=this.ngComponentOutletNgModuleFactory.create(n.injector)}else this._moduleRef=null;var r=this._moduleRef?this._moduleRef.componentFactoryResolver:e.get(I.ComponentFactoryResolver),i=r.resolveComponentFactory(this.ngComponentOutlet);this._componentRef=this._viewContainerRef.createComponent(i,this._viewContainerRef.length,e,this.ngComponentOutletContent)}},t.prototype.ngOnDestroy=function(){this._moduleRef&&this._moduleRef.destroy()},t}();q.decorators=[{type:I.Directive,args:[{selector:"[ngComponentOutlet]"}]}],q.ctorParameters=function(){return[{type:I.ViewContainerRef}]},q.propDecorators={ngComponentOutlet:[{type:I.Input}],ngComponentOutletInjector:[{type:I.Input}],ngComponentOutletContent:[{type:I.Input}],ngComponentOutletNgModuleFactory:[{type:I.Input}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var X=function(){function t(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}return Object.defineProperty(t.prototype,"first",{get:function(){return 0===this.index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){return this.index===this.count-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"even",{get:function(){return this.index%2==0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"odd",{get:function(){return!this.even},enumerable:!0,configurable:!0}),t}(),Y=function(){function t(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._differ=null}return Object.defineProperty(t.prototype,"ngForTrackBy",{get:function(){return this._trackByFn},set:function(t){n.i(I.isDevMode)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn("trackBy must be a function, but received "+JSON.stringify(t)+". See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngForTemplate",{set:function(t){t&&(this._template=t)},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){if("ngForOf"in t){var e=t.ngForOf.currentValue;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(t){throw new Error("Cannot find a differ supporting object '"+e+"' of type '"+a(e)+"'. NgFor only supports binding to Iterables such as Arrays.")}}},t.prototype.ngDoCheck=function(){if(this._differ){var t=this._differ.diff(this.ngForOf);t&&this._applyChanges(t)}},t.prototype._applyChanges=function(t){var e=this,n=[];t.forEachOperation(function(t,r,i){if(null==t.previousIndex){var o=e._viewContainer.createEmbeddedView(e._template,new X(null,e.ngForOf,null,null),i),s=new Z(t,o);n.push(s)}else if(null==i)e._viewContainer.remove(r);else{var o=e._viewContainer.get(r);e._viewContainer.move(o,i);var s=new Z(t,o);n.push(s)}});for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var r=0,i=this._viewContainer.length;r<i;r++){var o=this._viewContainer.get(r);o.context.index=r,o.context.count=i}t.forEachIdentityChange(function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item})},t.prototype._perViewChange=function(t,e){t.context.$implicit=e.item},t}();Y.decorators=[{type:I.Directive,args:[{selector:"[ngFor][ngForOf]"}]}],Y.ctorParameters=function(){return[{type:I.ViewContainerRef},{type:I.TemplateRef},{type:I.IterableDiffers}]},Y.propDecorators={ngForOf:[{type:I.Input}],ngForTrackBy:[{type:I.Input}],ngForTemplate:[{type:I.Input}]};var Z=function(){function t(t,e){this.record=t,this.view=e}return t}(),Q=Y,K=function(){function t(t,e){this._viewContainer=t,this._context=new J,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}return Object.defineProperty(t.prototype,"ngIf",{set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfThen",{set:function(t){this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfElse",{set:function(t){this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),t.prototype._updateView=function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))},t}();K.decorators=[{type:I.Directive,args:[{selector:"[ngIf]"}]}],K.ctorParameters=function(){return[{type:I.ViewContainerRef},{type:I.TemplateRef}]},K.propDecorators={ngIf:[{type:I.Input}],ngIfThen:[{type:I.Input}],ngIfElse:[{type:I.Input}]};var J=function(){function t(){this.$implicit=null,this.ngIf=null}return t}(),$=function(){function t(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}return t.prototype.create=function(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)},t.prototype.destroy=function(){this._created=!1,this._viewContainerRef.clear()},t.prototype.enforceState=function(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()},t}(),tt=function(){function t(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}return Object.defineProperty(t.prototype,"ngSwitch",{set:function(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)},enumerable:!0,configurable:!0}),t.prototype._addCase=function(){return this._caseCount++},t.prototype._addDefault=function(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)},t.prototype._matchCase=function(t){var e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e},t.prototype._updateDefaultCases=function(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(var e=0;e<this._defaultViews.length;e++){this._defaultViews[e].enforceState(t)}}},t}();tt.decorators=[{type:I.Directive,args:[{selector:"[ngSwitch]"}]}],tt.ctorParameters=function(){return[]},tt.propDecorators={ngSwitch:[{type:I.Input}]};var et=function(){function t(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new $(t,e)}return t.prototype.ngDoCheck=function(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))},t}();et.decorators=[{type:I.Directive,args:[{selector:"[ngSwitchCase]"}]}],et.ctorParameters=function(){return[{type:I.ViewContainerRef},{type:I.TemplateRef},{type:tt,decorators:[{type:I.Host}]}]},et.propDecorators={ngSwitchCase:[{type:I.Input}]};var nt=function(){function t(t,e,n){n._addDefault(new $(t,e))}return t}();nt.decorators=[{type:I.Directive,args:[{selector:"[ngSwitchDefault]"}]}],nt.ctorParameters=function(){return[{type:I.ViewContainerRef},{type:I.TemplateRef},{type:tt,decorators:[{type:I.Host}]}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var rt=function(){function t(t){this._localization=t,this._caseViews={}}return Object.defineProperty(t.prototype,"ngPlural",{set:function(t){this._switchValue=t,this._updateView()},enumerable:!0,configurable:!0}),t.prototype.addCase=function(t,e){this._caseViews[t]=e},t.prototype._updateView=function(){this._clearViews();var t=Object.keys(this._caseViews),e=o(this._switchValue,t,this._localization);this._activateView(this._caseViews[e])},t.prototype._clearViews=function(){this._activeView&&this._activeView.destroy()},t.prototype._activateView=function(t){t&&(this._activeView=t,this._activeView.create())},t}();rt.decorators=[{type:I.Directive,args:[{selector:"[ngPlural]"}]}],rt.ctorParameters=function(){return[{type:H}]},rt.propDecorators={ngPlural:[{type:I.Input}]};var it=function(){function t(t,e,n,r){this.value=t;var i=!isNaN(Number(t));r.addCase(i?"="+t:t,new $(n,e))}return t}();it.decorators=[{type:I.Directive,args:[{selector:"[ngPluralCase]"}]}],it.ctorParameters=function(){return[{type:void 0,decorators:[{type:I.Attribute,args:["ngPluralCase"]}]},{type:I.TemplateRef},{type:I.ViewContainerRef},{type:rt,decorators:[{type:I.Host}]}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var ot=function(){function t(t,e,n){this._differs=t,this._ngEl=e,this._renderer=n}return Object.defineProperty(t.prototype,"ngStyle",{set:function(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(this._differ){var t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}},t.prototype._applyChanges=function(t){var e=this;t.forEachRemovedItem(function(t){return e._setStyle(t.key,null)}),t.forEachAddedItem(function(t){return e._setStyle(t.key,t.currentValue)}),t.forEachChangedItem(function(t){return e._setStyle(t.key,t.currentValue)})},t.prototype._setStyle=function(t,e){var n=t.split("."),r=n[0],i=n[1];e=null!=e&&i?""+e+i:e,this._renderer.setElementStyle(this._ngEl.nativeElement,r,e)},t}();ot.decorators=[{type:I.Directive,args:[{selector:"[ngStyle]"}]}],ot.ctorParameters=function(){return[{type:I.KeyValueDiffers},{type:I.ElementRef},{type:I.Renderer}]},ot.propDecorators={ngStyle:[{type:I.Input}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var st=function(){function t(t){this._viewContainerRef=t}return Object.defineProperty(t.prototype,"ngOutletContext",{set:function(t){this.ngTemplateOutletContext=t},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){this._viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._viewRef)),this.ngTemplateOutlet&&(this._viewRef=this._viewContainerRef.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext))},t}();st.decorators=[{type:I.Directive,args:[{selector:"[ngTemplateOutlet]"}]}],st.ctorParameters=function(){return[{type:I.ViewContainerRef}]},st.propDecorators={ngTemplateOutletContext:[{type:I.Input}],ngTemplateOutlet:[{type:I.Input}],ngOutletContext:[{type:I.Input}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var at=[W,q,Y,K,st,ot,tt,et,nt,rt,it],ut=function(){function t(){}return t.prototype.createSubscription=function(t,e){return t.subscribe({next:e,error:function(t){throw t}})},t.prototype.dispose=function(t){t.unsubscribe()},t.prototype.onDestroy=function(t){t.unsubscribe()},t}(),ct=function(){function t(){}return t.prototype.createSubscription=function(t,e){return t.then(e,function(t){throw t})},t.prototype.dispose=function(t){},t.prototype.onDestroy=function(t){},t}(),lt=new ct,pt=new ut,ht=function(){function t(t){this._ref=t,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}return t.prototype.ngOnDestroy=function(){this._subscription&&this._dispose()},t.prototype.transform=function(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue===this._latestReturnedValue?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,I.WrappedValue.wrap(this._latestValue)):(t&&this._subscribe(t),this._latestReturnedValue=this._latestValue,this._latestValue)},t.prototype._subscribe=function(t){var e=this;this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,function(n){return e._updateLatestValue(t,n)})},t.prototype._selectStrategy=function(e){if(n.i(I["ÉµisPromise"])(e))return lt;if(n.i(I["ÉµisObservable"])(e))return pt;throw u(t,e)},t.prototype._dispose=function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null},t.prototype._updateLatestValue=function(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())},t}();ht.decorators=[{type:I.Pipe,args:[{name:"async",pure:!1}]}],ht.ctorParameters=function(){return[{type:I.ChangeDetectorRef}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var ft=function(){function t(){}return t.prototype.transform=function(e){if(!e)return e;if("string"!=typeof e)throw u(t,e);return e.toLowerCase()},t}();ft.decorators=[{type:I.Pipe,args:[{name:"lowercase"}]}],ft.ctorParameters=function(){return[]};var dt=function(){function t(){}return t.prototype.transform=function(e){if(!e)return e;if("string"!=typeof e)throw u(t,e);return e.split(/\b/g).map(function(t){return c(t)}).join("")},t}();dt.decorators=[{type:I.Pipe,args:[{name:"titlecase"}]}],dt.ctorParameters=function(){return[]};var mt=function(){function t(){}return t.prototype.transform=function(e){if(!e)return e;if("string"!=typeof e)throw u(t,e);return e.toUpperCase()},t}();mt.decorators=[{type:I.Pipe,args:[{name:"uppercase"}]}],mt.ctorParameters=function(){return[]};var vt={};vt.Decimal=0,vt.Percent=1,vt.Currency=2,vt[vt.Decimal]="Decimal",vt[vt.Percent]="Percent",vt[vt.Currency]="Currency";var gt=function(){function t(){}return t.format=function(t,e,n,r){var i=void 0===r?{}:r,o=i.minimumIntegerDigits,s=i.minimumFractionDigits,a=i.maximumFractionDigits,u=i.currency,c=i.currencyAsSymbol,l=void 0!==c&&c,p={minimumIntegerDigits:o,minimumFractionDigits:s,maximumFractionDigits:a,style:vt[n].toLowerCase()};return n==vt.Currency&&(p.currency=u,p.currencyDisplay=l?"symbol":"code"),new Intl.NumberFormat(e,p).format(t)},t}(),yt=/((?:[^yMLdHhmsazZEwGjJ']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|J+|j+|m+|s+|a|z|Z|G+|w+))(.*)/,_t={yMMMdjms:_(y([v("year",1),g("month",3),v("day",1),v("hour",1),v("minute",1),v("second",1)])),yMdjm:_(y([v("year",1),v("month",1),v("day",1),v("hour",1),v("minute",1)])),yMMMMEEEEd:_(y([v("year",1),g("month",4),g("weekday",4),v("day",1)])),yMMMMd:_(y([v("year",1),g("month",4),v("day",1)])),yMMMd:_(y([v("year",1),g("month",3),v("day",1)])),yMd:_(y([v("year",1),v("month",1),v("day",1)])),jms:_(y([v("hour",1),v("second",1),v("minute",1)])),jm:_(y([v("hour",1),v("minute",1)]))},bt={yyyy:_(v("year",4)),yy:_(v("year",2)),y:_(v("year",1)),MMMM:_(g("month",4)),MMM:_(g("month",3)),MM:_(v("month",2)),M:_(v("month",1)),LLLL:_(g("month",4)),L:_(g("month",1)),dd:_(v("day",2)),d:_(v("day",1)),HH:l(h(_(m(v("hour",2),!1)))),H:h(_(m(v("hour",1),!1))),hh:l(h(_(m(v("hour",2),!0)))),h:h(_(m(v("hour",1),!0))),jj:_(v("hour",2)),j:_(v("hour",1)),mm:l(_(v("minute",2))),m:_(v("minute",1)),ss:l(_(v("second",2))),s:_(v("second",1)),sss:_(v("second",3)),EEEE:_(g("weekday",4)),EEE:_(g("weekday",3)),EE:_(g("weekday",2)),E:_(g("weekday",1)),a:p(_(m(v("hour",1),!0))),Z:d("short"),z:d("long"),ww:_({}),w:_({}),G:_(g("era",1)),GG:_(g("era",2)),GGG:_(g("era",3)),GGGG:_(g("era",4))},wt=new Map,xt=function(){function t(){}return t.format=function(t,e,n){return b(n,t,e)},t}(),Et=/^(\d+)?\.((\d+)(-(\d+))?)?$/,St=function(){function t(t){this._locale=t}return t.prototype.transform=function(e,n){return void 0===n&&(n=null),x(t,this._locale,e,vt.Decimal,n)},t}();St.decorators=[{type:I.Pipe,args:[{name:"number"}]}],St.ctorParameters=function(){return[{type:void 0,decorators:[{type:I.Inject,args:[I.LOCALE_ID]}]}]};var Mt=function(){function t(t){this._locale=t}return t.prototype.transform=function(e,n){return void 0===n&&(n=null),x(t,this._locale,e,vt.Percent,n)},t}();Mt.decorators=[{type:I.Pipe,args:[{name:"percent"}]}],Mt.ctorParameters=function(){return[{type:void 0,decorators:[{type:I.Inject,args:[I.LOCALE_ID]}]}]};var Ct=function(){function t(t){this._locale=t}return t.prototype.transform=function(e,n,r,i){return void 0===n&&(n="USD"),void 0===r&&(r=!1),void 0===i&&(i=null),x(t,this._locale,e,vt.Currency,i,n,r)},t}();Ct.decorators=[{type:I.Pipe,args:[{name:"currency"}]}],Ct.ctorParameters=function(){return[{type:void 0,decorators:[{type:I.Inject,args:[I.LOCALE_ID]}]}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var Tt=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,At=function(){function t(t){this._locale=t}return t.prototype.transform=function(e,n){void 0===n&&(n="mediumDate");var r;if(M(e)||e!==e)return null;if("string"==typeof e&&(e=e.trim()),C(e))r=e;else if(S(e))r=new Date(parseFloat(e));else if("string"==typeof e&&/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){var i=e.split("-").map(function(t){return parseInt(t,10)}),o=i[0],s=i[1],a=i[2];r=new Date(o,s-1,a)}else r=new Date(e);if(!C(r)){var c=void 0;if("string"!=typeof e||!(c=e.match(Tt)))throw u(t,e);r=T(c)}return xt.format(r,this._locale,t._ALIASES[n]||n)},t}();At._ALIASES={medium:"yMMMdjms",short:"yMdjm",fullDate:"yMMMMEEEEd",longDate:"yMMMMd",mediumDate:"yMMMd",shortDate:"yMd",mediumTime:"jms",shortTime:"jm"},At.decorators=[{type:I.Pipe,args:[{name:"date",pure:!0}]}],At.ctorParameters=function(){return[{type:void 0,decorators:[{type:I.Inject,args:[I.LOCALE_ID]}]}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var Pt=/#/g,Rt=function(){function t(t){this._localization=t}return t.prototype.transform=function(e,n){if(null==e)return"";if("object"!=typeof n||null===n)throw u(t,n);return n[o(e,Object.keys(n),this._localization)].replace(Pt,e.toString())},t}();Rt.decorators=[{type:I.Pipe,args:[{name:"i18nPlural",pure:!0}]}],Rt.ctorParameters=function(){return[{type:H}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var Ot=function(){function t(){}return t.prototype.transform=function(e,n){if(null==e)return"";if("object"!=typeof n||"string"!=typeof e)throw u(t,n);return n.hasOwnProperty(e)?n[e]:n.hasOwnProperty("other")?n.other:""},t}();Ot.decorators=[{type:I.Pipe,args:[{name:"i18nSelect",pure:!0}]}],Ot.ctorParameters=function(){return[]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var Lt=function(){function t(){}return t.prototype.transform=function(t){return JSON.stringify(t,null,2)},t}();Lt.decorators=[{type:I.Pipe,args:[{name:"json",pure:!1}]}],Lt.ctorParameters=function(){return[]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var It=function(){function t(){}return t.prototype.transform=function(e,n,r){if(null==e)return e;if(!this.supports(e))throw u(t,e);return e.slice(n,r)},t.prototype.supports=function(t){return"string"==typeof t||Array.isArray(t)},t}();It.decorators=[{type:I.Pipe,args:[{name:"slice",pure:!1}]}],It.ctorParameters=function(){return[]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var Nt=[ht,mt,ft,Lt,It,St,Mt,dt,Ct,At,Rt,Ot],Dt=function(){function t(){}return t}();Dt.decorators=[{type:I.NgModule,args:[{declarations:[at,Nt],exports:[at,Nt],providers:[{provide:H,useClass:z}]}]}],Dt.ctorParameters=function(){return[]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var kt="browser",jt="server",Ft="browserWorkerApp",Ut="browserWorkerUi",Bt=new I.Version("4.0.1")},"./node_modules/@angular/compiler/@angular/compiler.es5.js":function(t,e,n){"use strict";function r(t,e,n){void 0===n&&(n=null);var r=[],i=t.visit?function(e){return t.visit(e,n)||e.visit(t,n)}:function(e){return e.visit(t,n)};return e.forEach(function(t){var e=i(t);e&&r.push(e)}),r}function i(t){if(":"!=t[0])return[null,t];var e=t.indexOf(":",1);if(e==-1)throw new Error('Unsupported format "'+t+'" expecting ":namespace:name"');return[t.slice(1,e),t.slice(e+1)]}function o(t){return null===t?null:i(t)[0]}function s(t,e){return t?":"+t+":"+e:e}function a(t){return ci[t.toLowerCase()]||li}function u(t){return t.replace(gi,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t[1].toUpperCase()})}function c(t,e){return p(t,":",e)}function l(t,e){return p(t,".",e)}function p(t,e,n){var r=t.indexOf(e);return r==-1?n:[t.slice(0,r).trim(),t.slice(r+1).trim()]}function h(t,e,n){return Array.isArray(t)?e.visitArray(t,n):m(t)?e.visitStringMap(t,n):null==t||"string"==typeof t||"number"==typeof t||"boolean"==typeof t?e.visitPrimitive(t,n):e.visitOther(t,n)}function f(t){var e=Error(t);return e[bi]=!0,e}function d(t){return t.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function m(t){return"object"==typeof t&&null!==t&&Object.getPrototypeOf(t)===wi}function v(t){for(var e="",n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r>=55296&&r<=56319&&t.length>n+1){var i=t.charCodeAt(n+1);i>=56320&&i<=57343&&(n++,r=(r-55296<<10)+i-56320+65536)}r<=127?e+=String.fromCharCode(r):r<=2047?e+=String.fromCharCode(r>>6&31|192,63&r|128):r<=65535?e+=String.fromCharCode(r>>12|224,r>>6&63|128,63&r|128):r<=2097151&&(e+=String.fromCharCode(r>>18&7|240,r>>12&63|128,r>>6&63|128,63&r|128))}return e}function g(t){return t.replace(/\W/g,"_")}function y(t){if(!t||!t.reference)return null;var e=t.reference;if(e instanceof ii)return e.name;if(e.__anonymousType)return e.__anonymousType;var r=n.i(Vr["Éµstringify"])(e);return r.indexOf("(")>=0?(r="anonymous_"+Ci++,e.__anonymousType=r):r=g(r),r}function _(t){var e=t.reference;return e instanceof ii?e.filePath:Vr["Éµreflector"].importUri(e)}function b(t,e){return"View_"+y({reference:t})+"_"+e}function w(t){return"RenderType_"+y({reference:t})}function x(t){return"HostView_"+y({reference:t})}function E(t){return y({reference:t})+"NgFactory"}function S(t){return null!=t.value?g(t.value):y(t.identifier)}function M(t){return null!=t.identifier?t.identifier.reference:t.value}function C(t,e,n){var r=hi.parse(e.selector)[0].getMatchingElementTemplate();return Ri.create({isHost:!0,type:{reference:t,diDeps:[],lifecycleHooks:[]},template:new Pi({encapsulation:Vr.ViewEncapsulation.None,template:r,templateUrl:"",styles:[],styleUrls:[],ngContentSelectors:[],animations:[],isInline:!0}),changeDetection:Vr.ChangeDetectionStrategy.Default,inputs:[],outputs:[],host:{},isComponent:!0,selector:"*",providers:[],viewProviders:[],queries:[],viewQueries:[],componentViewType:n,rendererType:{id:"__Host__",encapsulation:Vr.ViewEncapsulation.None,styles:[],data:{}}})}function T(t){return t||[]}function A(t){return t.reduce(function(t,e){var n=Array.isArray(e)?A(e):e;return t.concat(n)},[])}function P(t){return t.replace(/(\w+:\/\/[\w:-]+)?(\/+)?/,"ng:///")}function R(t,e,n){var r;return r=n.isInline?e.type.reference instanceof ii?e.type.reference.filePath+"."+e.type.reference.name+".html":y(t)+"/"+y(e.type)+".html":n.templateUrl,P(r)}function O(t,e){var n=t.moduleUrl.split(/\/\\/g);return P("css/"+e+n[n.length-1]+".ngstyle.js")}function L(t){return P(y(t.type)+"/module.ngfactory.js")}function I(t,e){return P(y(t)+"/"+y(e.type)+".ngfactory.js")}function N(t){return t>=lo&&t<=vo||t==cs}function D(t){return Fo<=t&&t<=Uo}function k(t){return t>=Qo&&t<=os||t>=Bo&&t<=Go}function j(t){return t>=Qo&&t<=Jo||t>=Bo&&t<=Ho||D(t)}function F(){return function(t){return t}}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function U(t,e){if(n.i(Vr.isDevMode)()&&null!=e){if(!Array.isArray(e))throw new Error("Expected '"+t+"' to be an array of strings.");for(var r=0;r<e.length;r+=1)if("string"!=typeof e[r])throw new Error("Expected '"+t+"' to be an array of strings.")}}function B(t,e){if(!(null==e||Array.isArray(e)&&2==e.length))throw new Error("Expected '"+t+"' to be an array, [start, end].");if(n.i(Vr.isDevMode)()&&null!=e){var r=e[0],i=e[1];ps.forEach(function(t){if(t.test(r)||t.test(i))throw new Error("['"+r+"', '"+i+"'] contains unusable interpolation symbol.")})}}function V(t,e){return new gs(t,ds.Character,e,String.fromCharCode(e))}function H(t,e){return new gs(t,ds.Identifier,0,e)}function z(t,e){return new gs(t,ds.Keyword,0,e)}function G(t,e){return new gs(t,ds.Operator,0,e)}function W(t,e){return new gs(t,ds.String,0,e)}function q(t,e){return new gs(t,ds.Number,e,"")}function X(t,e){return new gs(t,ds.Error,0,e)}function Y(t){return Qo<=t&&t<=os||Bo<=t&&t<=Go||t==Zo||t==bo}function Z(t){if(0==t.length)return!1;var e=new _s(t);if(!Y(e.peek))return!1;for(e.advance();e.peek!==co;){if(!Q(e.peek))return!1;e.advance()}return!0}function Q(t){return k(t)||D(t)||t==Zo||t==bo}function K(t){return t==Ko||t==Vo}function J(t){return t==Po||t==To}function $(t){return t===Eo||t===yo||t===ls}function tt(t){switch(t){case $o:return po;case Jo:return fo;case ts:return mo;case es:return lo;case rs:return ho;default:return t}}function et(t){var e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function nt(t){var e=d(t.start)+"([\\s\\S]*?)"+d(t.end);return new RegExp(e,"g")}function rt(t,e){var n=_(e),r=null!=n?"in "+t+" "+y(e)+" in "+n:"in "+t+" "+y(e),i=new Cs("",r);return new Ts(new Ms(i,null,null,null),new Ms(i,null,null,null))}function it(t,e,n){void 0===n&&(n=null);var r=[],i=t.visit?function(e){return t.visit(e,n)||e.visit(t,n)}:function(e){return e.visit(t,n)};return e.forEach(function(t){var e=i(t);e&&r.push(e)}),r}function ot(t,e,n,r,i){return void 0===r&&(r=!1),void 0===i&&(i=fs),new Hs(new Cs(t,e),n,r,i).tokenize()}function st(t){return'Unexpected character "'+(t===co?"EOF":String.fromCharCode(t))+'"'}function at(t){return'Unknown entity "'+t+'" - use the "&#<decimal>;" or  "&#x<hex>;" syntax'}function ut(t){return!N(t)||t===co}function ct(t){return N(t)||t===ko||t===Oo||t===Eo||t===yo||t===Do}function lt(t){return(t<Qo||os<t)&&(t<Bo||Go<t)&&(t<Fo||t>Uo)}function pt(t){return t==Io||t==co||!j(t)}function ht(t){return t==Io||t==co||!k(t)}function ft(t,e,n){var r=!!n&&t.indexOf(n.start,e)==e;return t.charCodeAt(e)==ss&&!r}function dt(t){return t===Do||k(t)}function mt(t,e){return vt(t)==vt(e)}function vt(t){return t>=Qo&&t<=os?t-Qo+Bo:t}function gt(t){for(var e,n=[],r=0;r<t.length;r++){var i=t[r];e&&e.type==ks.TEXT&&i.type==ks.TEXT?(e.parts[0]+=i.parts[0],e.sourceSpan.end=i.sourceSpan.end):(e=i,n.push(e))}return n}function yt(t,e){return t.length>0&&t[t.length-1]===e}function _t(t){var e=new oa(ia,t);return function(t,n,r,i){return e.toI18nMessage(t,n,r,i)}}function bt(t){return t.split(sa)[2]}function wt(t,e,n,r){return new ma(n,r).extract(t,e)}function xt(t,e,n,r,i){return new ma(r,i).merge(t,e,n)}function Et(t){return t instanceof Ds&&t.value&&t.value.startsWith("i18n")}function St(t){return t instanceof Ds&&t.value&&"/i18n"===t.value}function Mt(t){return t.attrs.find(function(t){return t.name===ua})||null}function Ct(t){if(!t)return{meaning:"",description:"",id:""};var e=t.indexOf(ha),n=t.indexOf(pa),r=e>-1?[t.slice(0,e),t.slice(e+2)]:[t,""],i=r[0],o=r[1],s=n>-1?[i.slice(0,n),i.slice(n+1)]:["",i];return{meaning:s[0],description:s[1],id:o}}function Tt(t){return ga}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function At(t){return t.id||Ot(Rt(t.nodes).join("")+"["+t.meaning+"]")}function Pt(t){if(t.id)return t.id;var e=new wa;return Nt(t.nodes.map(function(t){return t.visit(e,null)}).join(""),t.meaning)}function Rt(t){return t.map(function(t){return t.visit(ba,null)})}function Ot(t){var e=v(t),n=zt(e,xa.Big),r=8*e.length,i=new Array(80),o=[1732584193,4023233417,2562383102,271733878,3285377520],s=o[0],a=o[1],u=o[2],c=o[3],l=o[4];n[r>>5]|=128<<24-r%32,n[15+(r+64>>9<<4)]=r;for(var p=0;p<n.length;p+=16){for(var h=[s,a,u,c,l],f=h[0],d=h[1],m=h[2],g=h[3],y=h[4],_=0;_<80;_++){i[_]=_<16?n[p+_]:Vt(i[_-3]^i[_-8]^i[_-14]^i[_-16],1);var b=Lt(_,a,u,c),w=b[0],x=b[1],E=[Vt(s,5),w,l,x,i[_]].reduce(jt);S=[c,u,Vt(a,30),s,E],l=S[0],c=S[1],u=S[2],a=S[3],s=S[4]}M=[jt(s,f),jt(a,d),jt(u,m),jt(c,g),jt(l,y)],s=M[0],a=M[1],u=M[2],c=M[3],l=M[4]}return Yt(qt([s,a,u,c,l]));var S,M}function Lt(t,e,n,r){return t<20?[e&n|~e&r,1518500249]:t<40?[e^n^r,1859775393]:t<60?[e&n|e&r|n&r,2400959708]:[e^n^r,3395469782]}function It(t){var e=v(t),n=[Dt(e,0),Dt(e,102072)],r=n[0],i=n[1];return 0!=r||0!=i&&1!=i||(r^=319790063,i^=-1801410264),[r,i]}function Nt(t,e){var n=It(t),r=n[0],i=n[1];if(e){var o=It(e),s=o[0],a=o[1];u=Ut(Ht([r,i],1),[s,a]),r=u[0],i=u[1]}return Zt(qt([2147483647&r,i]));var u}function Dt(t,e){var n,r=[2654435769,2654435769],i=r[0],o=r[1],s=t.length;for(n=0;n+12<=s;n+=12)i=jt(i,Wt(t,n,xa.Little)),o=jt(o,Wt(t,n+4,xa.Little)),e=jt(e,Wt(t,n+8,xa.Little)),a=kt([i,o,e]),i=a[0],o=a[1],e=a[2];return i=jt(i,Wt(t,n,xa.Little)),o=jt(o,Wt(t,n+4,xa.Little)),e=jt(e,s),e=jt(e,Wt(t,n+8,xa.Little)<<8),kt([i,o,e])[2];var a}function kt(t){var e=t[0],n=t[1],r=t[2];return e=Bt(e,n),e=Bt(e,r),e^=r>>>13,n=Bt(n,r),n=Bt(n,e),n^=e<<8,r=Bt(r,e),r=Bt(r,n),r^=n>>>13,e=Bt(e,n),e=Bt(e,r),e^=r>>>12,n=Bt(n,r),n=Bt(n,e),n^=e<<16,r=Bt(r,e),r=Bt(r,n),r^=n>>>5,e=Bt(e,n),e=Bt(e,r),e^=r>>>3,n=Bt(n,r),n=Bt(n,e),n^=e<<10,r=Bt(r,e),r=Bt(r,n),r^=n>>>15,[e,n,r]}function jt(t,e){return Ft(t,e)[1]}function Ft(t,e){var n=(65535&t)+(65535&e),r=(t>>>16)+(e>>>16)+(n>>>16);return[r>>>16,r<<16|65535&n]}function Ut(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],s=Ft(r,o),a=s[0],u=s[1];return[jt(jt(n,i),a),u]}function Bt(t,e){var n=(65535&t)-(65535&e);return(t>>16)-(e>>16)+(n>>16)<<16|65535&n}function Vt(t,e){return t<<e|t>>>32-e}function Ht(t,e){var n=t[0],r=t[1];return[n<<e|r>>>32-e,r<<e|n>>>32-e]}function zt(t,e){for(var n=Array(t.length+3>>>2),r=0;r<n.length;r++)n[r]=Wt(t,4*r,e);return n}function Gt(t,e){return e>=t.length?0:255&t.charCodeAt(e)}function Wt(t,e,n){var r=0;if(n===xa.Big)for(var i=0;i<4;i++)r+=Gt(t,e+i)<<24-8*i;else for(var i=0;i<4;i++)r+=Gt(t,e+i)<<8*i;return r}function qt(t){return t.reduce(function(t,e){return t+Xt(e)},"")}function Xt(t){for(var e="",n=0;n<4;n++)e+=String.fromCharCode(t>>>8*(3-n)&255);return e}function Yt(t){for(var e="",n=0;n<t.length;n++){var r=Gt(t,n);e+=(r>>>4).toString(16)+(15&r).toString(16)}return e.toLowerCase()}function Zt(t){for(var e="",n="1",r=t.length-1;r>=0;r--)e=Qt(e,Kt(Gt(t,r),n)),n=Kt(256,n);return e.split("").reverse().join("")}function Qt(t,e){for(var n="",r=Math.max(t.length,e.length),i=0,o=0;i<r||o;i++){var s=o+ +(t[i]||0)+ +(e[i]||0);s>=10?(o=1,n+=s-10):(o=0,n+=s)}return n}function Kt(t,e){for(var n="",r=e;0!==t;t>>>=1)1&t&&(n=Qt(n,r)),r=Qt(r,r);return n}function Jt(t){return t.map(function(t){return t.visit(Ca)}).join("")}function $t(t){return La.reduce(function(t,e){return t.replace(e[0],e[1])},t)}function te(t){switch(t.toLowerCase()){case"br":return"lb";case"img":return"image";default:return"x-"+t}}function ee(t){return Pt(t)}function ne(t){return t.toUpperCase().replace(/[^A-Z0-9_]/g,"_")}function re(t,e,n){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){var r=n();return Object.defineProperty(t,e,{enumerable:!0,value:r}),r},set:function(t){throw new Error("Could not overwrite an XTB translation")}})}function ie(t){switch(t=(t||"xlf").toLowerCase()){case"xmb":return new Qa;case"xtb":return new nu;case"xliff":case"xlf":default:return new Va}}function oe(t,e,n){return void 0===e&&(e=null),void 0===n&&(n="src"),null==e?"@angular/"+t:"@angular/"+t+"/"+n+"/"+e}function se(t){var e=t.name;return Vr["Éµreflector"].resolveIdentifier(e,t.moduleUrl,null,t.runtime)}function ae(t){return{reference:se(t)}}function ue(t){return{identifier:t}}function ce(t){return ue(ae(t))}function le(t){var e=new du;return new hu(it(e,t),e.isExpanded,e.errors)}function pe(t,e){var n=t.cases.map(function(t){pu.indexOf(t.value)!=-1||t.value.match(/^=\d+$/)||e.push(new fu(t.valueSourceSpan,'Plural cases should be "=<number>" or one of '+pu.join(", ")));var n=le(t.expression);return e.push.apply(e,n.errors),new Ns("ng-template",[new Is("ngPluralCase",""+t.value,t.valueSourceSpan)],n.nodes,t.sourceSpan,t.sourceSpan,t.sourceSpan)});return new Ns("ng-container",[new Is("[ngPlural]",t.switchValue,t.switchValueSourceSpan)],n,t.sourceSpan,t.sourceSpan,t.sourceSpan)}function he(t,e){var n=t.cases.map(function(t){var n=le(t.expression);return e.push.apply(e,n.errors),"other"===t.value?new Ns("ng-template",[new Is("ngSwitchDefault","",t.valueSourceSpan)],n.nodes,t.sourceSpan,t.sourceSpan,t.sourceSpan):new Ns("ng-template",[new Is("ngSwitchCase",""+t.value,t.valueSourceSpan)],n.nodes,t.sourceSpan,t.sourceSpan,t.sourceSpan)});return new Ns("ng-container",[new Is("[ngSwitch]",t.switchValue,t.switchValueSourceSpan)],n,t.sourceSpan,t.sourceSpan,t.sourceSpan)}function fe(t,e){var n=e.useExisting,r=e.useValue,i=e.deps;return{token:t.token,useClass:t.useClass,useExisting:n,useFactory:t.useFactory,useValue:r,deps:i,multi:t.multi}}function de(t,e){var n=e.eager,r=e.providers;return new ti(t.token,t.multiProvider,t.eager||n,r,t.providerType,t.lifecycleHooks,t.sourceSpan)}function me(t,e,n){var r=new Map;return t.forEach(function(t){ve([{token:{identifier:t.type},useClass:t.type}],t.isComponent?ei.Component:ei.Directive,!0,e,n,r)}),t.filter(function(t){return t.isComponent}).concat(t.filter(function(t){return!t.isComponent})).forEach(function(t){ve(t.providers,ei.PublicService,!1,e,n,r),ve(t.viewProviders,ei.PrivateService,!1,e,n,r)}),r}function ve(t,e,n,r,i,o){t.forEach(function(t){var s=o.get(M(t.token));if(null!=s&&!!s.multiProvider!=!!t.multi&&i.push(new mu("Mixing multi and non multi provider is not possible for token "+S(s.token),r)),s)t.multi||(s.providers.length=0),s.providers.push(t);else{var a=t.token.identifier&&t.token.identifier.lifecycleHooks?t.token.identifier.lifecycleHooks:[],u=!(t.useClass||t.useExisting||t.useFactory);s=new ti(t.token,t.multi,n||u,[t],e,a,r),o.set(M(t.token),s)}})}function ge(t){var e=1,n=new Map;return t.viewQueries&&t.viewQueries.forEach(function(t){return _e(n,{meta:t,queryId:e++})}),n}function ye(t,e){var n=t,r=new Map;return e.forEach(function(t,e){t.queries&&t.queries.forEach(function(t){return _e(r,{meta:t,queryId:n++})})}),r}function _e(t,e){e.meta.selectors.forEach(function(n){var r=t.get(M(n));r||(r=[],t.set(M(n),r)),r.push(e)})}function be(t){if(null==t||0===t.length||"/"==t[0])return!1;var e=t.match(Eu);return null===e||"package"==e[1]||"asset"==e[1]}function we(t,e,n){var r=[];return new bu(n.replace(xu,"").replace(wu,function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=n[1]||n[2];return be(o)?(r.push(t.resolve(e,o)),""):n[0]}),r)}function xe(t){return"@"==t[0]}function Ee(t,e,n,r){var i=[];return hi.parse(e).forEach(function(e){var o=e.element?[e.element]:t.allKnownElementNames(),s=new Set(e.notSelectors.filter(function(t){return t.isElementSelector()}).map(function(t){return t.element})),a=o.filter(function(t){return!s.has(t)});i.push.apply(i,a.map(function(e){return t.securityContext(e,n,r)}))}),0===i.length?[Vr.SecurityContext.NONE]:Array.from(new Set(i)).sort()}function Se(t){var e=null,n=null,r=null,o=!1,s=null;t.attrs.forEach(function(t){var i=t.name.toLowerCase();i==Iu?e=t.value:i==ju?n=t.value:i==ku?r=t.value:t.name==Vu?o=!0:t.name==Hu&&t.value.length>0&&(s=t.value)}),e=Me(e);var a=t.name.toLowerCase(),u=zu.OTHER;return i(a)[1]==Nu?u=zu.NG_CONTENT:a==Uu?u=zu.STYLE:a==Bu?u=zu.SCRIPT:a==Du&&r==Fu&&(u=zu.STYLESHEET),new Gu(u,e,n,o,s)}function Me(t){return null===t||0===t.length?"*":t}function Ce(t){return function(e){return t.indexOf(e.msg)===-1||(lc[e.msg]=(lc[e.msg]||0)+1,lc[e.msg]<=1)}}function Te(t){return t.trim().split(/\s+/g)}function Ae(t,e){var n=new hi,r=i(t)[1];n.setElement(r);for(var o=0;o<e.length;o++){var s=e[o][0],a=i(s)[1],u=e[o][1];if(n.addAttribute(a,u),s.toLowerCase()==sc){Te(u).forEach(function(t){return n.addClassName(t)})}}return n}function Pe(t){return t instanceof Rs&&0==t.value.trim().length}function Re(t){var e=new Map;return t.forEach(function(t){e.get(t.type.reference)||e.set(t.type.reference,t)}),Array.from(e.values())}function Oe(t){return t instanceof oo&&(t=t.ast),t instanceof Bi}function Le(t,e,n){var r=i(t.name)[1];return r===nc||(r.toLowerCase()===rc?!(!e||r.toLowerCase()!==rc)&&(n(uc,t.sourceSpan),!0):void 0)}function Ie(){return new Ec(".")}function Ne(t){var e=ke(t);return e&&e[Mc.Scheme]||""}function De(t,e,n,r,i,o,s){var a=[];return null!=t&&a.push(t+":"),null!=n&&(a.push("//"),null!=e&&a.push(e+"@"),a.push(n),null!=r&&a.push(":"+r)),null!=i&&a.push(i),null!=o&&a.push("?"+o),null!=s&&a.push("#"+s),a.join("")}function ke(t){return t.match(Sc)}function je(t){if("/"==t)return"/";for(var e="/"==t[0]?"/":"",n="/"===t[t.length-1]?"/":"",r=t.split("/"),i=[],o=0,s=0;s<r.length;s++){var a=r[s];switch(a){case"":case".":break;case"..":i.length>0?i.pop():o++;break;default:i.push(a)}}if(""==e){for(;o-- >0;)i.unshift("..");0===i.length&&i.push(".")}return e+i.join("/")+n}function Fe(t){var e=t[Mc.Path];return e=null==e?"":je(e),t[Mc.Path]=e,De(t[Mc.Scheme],t[Mc.UserInfo],t[Mc.Domain],t[Mc.Port],e,t[Mc.QueryData],t[Mc.Fragment])}function Ue(t,e){var n=ke(encodeURI(e)),r=ke(t);if(null!=n[Mc.Scheme])return Fe(n);n[Mc.Scheme]=r[Mc.Scheme];for(var i=Mc.Scheme;i<=Mc.Port;i++)null==n[i]&&(n[i]=r[i]);if("/"==n[Mc.Path][0])return Fe(n);var o=r[Mc.Path];null==o&&(o="/");var s=o.lastIndexOf("/");return o=o.substring(0,s+1)+n[Mc.Path],n[Mc.Path]=o,Fe(n)}function Be(t){return t instanceof Vr.Directive}function Ve(t,e){for(var n=t.length-1;n>=0;n--)if(e(t[n]))return t[n];return null}function He(t){var e=We(t);return e[0]+".ngfactory"+e[1]}function ze(t){return t.replace(Oc,".")}function Ge(t){return Oc.test(t)}function We(t){if(t.endsWith(".d.ts"))return[t.slice(0,-5),".ts"];var e=t.lastIndexOf(".");return e!==-1?[t.substring(0,e),t.substring(e)]:[t,""]}function qe(t){return t.replace(Rc,"")+".ngsummary.json"}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function Xe(t,e){return Vr["Éµreflector"].hasLifecycleHook(e,Ye(t))}function Ye(t){switch(t){case Vr["ÉµLifecycleHooks"].OnInit:return"ngOnInit";case Vr["ÉµLifecycleHooks"].OnDestroy:return"ngOnDestroy";case Vr["ÉµLifecycleHooks"].DoCheck:return"ngDoCheck";case Vr["ÉµLifecycleHooks"].OnChanges:return"ngOnChanges";case Vr["ÉµLifecycleHooks"].AfterContentInit:return"ngAfterContentInit";case Vr["ÉµLifecycleHooks"].AfterContentChecked:return"ngAfterContentChecked";case Vr["ÉµLifecycleHooks"].AfterViewInit:return"ngAfterViewInit";case Vr["ÉµLifecycleHooks"].AfterViewChecked:return"ngAfterViewChecked"}}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function Ze(t){return t instanceof Vr.NgModule}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function Qe(t){return t instanceof Vr.Pipe}function Ke(t,e){if(void 0===e&&(e=[]),t)for(var r=0;r<t.length;r++){var i=n.i(Vr.resolveForwardRef)(t[r]);Array.isArray(i)?Ke(i,e):e.push(i)}return e}function Je(t){return t?Array.from(new Set(t)):[]}function $e(t){return Je(Ke(t))}function tn(t){return t instanceof ii||t instanceof Vr.Type}function en(t,e,n){if(e instanceof ii)return t.resourceUri(e);var r=n.moduleId;if("string"==typeof r){return Ne(r)?r:"package:"+r+vi}if(null!==r&&void 0!==r)throw f('moduleId should be a string in "'+rn(e)+"\". See https://goo.gl/wIDDiL for more information.\nIf you're using Webpack you should inline the template and the styles, see https://goo.gl/X2J8zc.");return t.importUri(e)}function nn(t,e){h(t,new jc,e)}function rn(t){return t instanceof ii?t.name+" in "+t.filePath:n.i(Vr["Éµstringify"])(t)}function on(t){var e=Error("Can't compile synchronously as "+n.i(Vr["Éµstringify"])(t)+" is still being loaded!");return e[Vr["ÉµERROR_COMPONENT_TYPE"]]=t,e}function sn(t){var e=new Ul;return e.visitAllStatements(t,null),e.varNames}function an(t,e){if(!e)return t;var n=new Bl(e);return t.visitStatement(n,null)}function un(t,e){if(!e)return t;var n=new Bl(e);return t.visitExpression(n,null)}function cn(t,e,n){return void 0===e&&(e=null),new Kc(t,e,n)}function ln(t,e,n){return void 0===e&&(e=null),new sl(t,null,e,n)}function pn(t,e,n){return void 0===e&&(e=null),void 0===n&&(n=null),null!=t?hn(ln(t,e),n):null}function hn(t,e){return void 0===e&&(e=null),null!=t?new Hc(t,e):null}function fn(t,e,n){return void 0===e&&(e=null),new ml(t,e,n)}function dn(t,e,n){return void 0===e&&(e=null),void 0===n&&(n=!1),new gl(t.map(function(t){return new vl(t[0],t[1],n)}),e)}function mn(t,e){return new ul(t,e)}function vn(t,e,n,r){return void 0===n&&(n=null),new pl(t,e,n,r)}function gn(t,e,n){return void 0===e&&(e=null),new ol(t,e,n)}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function yn(t){var e=t.parentArgs||[],n=t.parent?[bl.callFn(e).toStmt()]:[],r=_n(Array.isArray(t.builders)?t.builders:[t.builders]),i=new Ol(null,t.ctorParams||[],n.concat(r.ctorStmts));return new Il(t.name,t.parent,r.fields,r.getters,i,r.methods,t.modifiers||[],t.sourceSpan)}function _n(t){return{fields:[].concat.apply([],t.map(function(t){return t.fields||[]})),methods:[].concat.apply([],t.map(function(t){return t.methods||[]})),getters:[].concat.apply([],t.map(function(t){return t.getters||[]})),ctorStmts:[].concat.apply([],t.map(function(t){return t.ctorStmts||[]}))}}function bn(t,e){return void 0===e&&(e=null),h(t,new Hl,e)}function wn(t){return null!=t.value?gn(t.value):ln(t.identifier)}function xn(t){var e="";t=v(t);for(var n=0;n<t.length;){var r=t.charCodeAt(n++),i=t.charCodeAt(n++),o=t.charCodeAt(n++);e+=Sn(r>>2),e+=Sn((3&r)<<4|(isNaN(i)?0:i>>4)),e+=isNaN(i)?"=":Sn((15&i)<<2|o>>6),e+=isNaN(i)||isNaN(o)?"=":Sn(63&o)}return e}function En(t){t=t<0?1+(-t<<1):t<<1;var e="";do{var n=31&t;t>>=5,t>0&&(n|=32),e+=Sn(n)}while(t>0);return e}function Sn(t){if(t<0||t>=64)throw new Error("Can only encode value in the range [0, 63]");return Jl[t]}function Mn(t,e,n){if(void 0===n&&(n=!0),null==t)return null;var r=t.replace($l,function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return"$"==t[0]?e?"\\$":"$":"\n"==t[0]?"\\n":"\r"==t[0]?"\\r":"\\"+t[0]});return n||!tp.test(r)?"'"+r+"'":r}function Cn(t){for(var e="",n=0;n<t;n++)e+=ep;return e}function Tn(t){var e=new up(ap,{fileNameToModuleName:function(t,e){return t},getImportAs:function(t){return null},getTypeArity:function(t){return null}}),n=op.createRoot([]);return(Array.isArray(t)?t:[t]).forEach(function(t){if(t instanceof Sl)t.visitStatement(e,n);else if(t instanceof Zc)t.visitExpression(e,n);else{if(!(t instanceof Uc))throw new Error("Don't know how to print debug info for "+t);t.visitType(e,n)}}),n.toSource()}function An(t,e){for(var n=0,r=e;n<r.length;n++){cp[r[n].toLowerCase()]=t}}function Pn(t){switch(t){case"width":case"height":case"minWidth":case"minHeight":case"maxWidth":case"maxHeight":case"left":case"top":case"bottom":case"right":case"fontSize":case"outlineWidth":case"outlineOffset":case"paddingTop":case"paddingLeft":case"paddingBottom":case"paddingRight":case"marginTop":case"marginLeft":case"marginBottom":case"marginRight":case"borderRadius":case"borderWidth":case"borderTopWidth":case"borderLeftWidth":case"borderRightWidth":case"borderBottomWidth":case"textIndent":return!0;default:return!1}}function Rn(t){return t.replace(Dp,"")}function On(t){var e=t.match(kp);return e?e[0]:""}function Ln(t,e){var n=In(t),r=0;return n.escapedString.replace(jp,function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var o=t[2],s="",a=t[4],u="";a&&a.startsWith("{"+Vp)&&(s=n.blocks[r++],a=a.substring(Vp.length+1),u="{");var c=e(new Hp(o,s));return""+t[1]+c.selector+t[3]+u+c.content+a})}function In(t){for(var e=t.split(Fp),n=[],r=[],i=0,o=[],s=0;s<e.length;s++){var a=e[s];a==Bp&&i--,i>0?o.push(a):(o.length>0&&(r.push(o.join("")),n.push(Vp),o=[]),n.push(a)),a==Up&&i++}return o.length>0&&(r.push(o.join("")),n.push(Vp)),new zp(n.join(""),r)}function Nn(t){var e="styles";return t&&(e+="_"+y(t.type)),e}function Dn(t,e,n,r){t||(t=new rh);var i=kn({createLiteralArrayConverter:function(t){return function(t){return fn(t)}},createLiteralMapConverter:function(t){return function(e){return dn(t.map(function(t,n){return[t,e[n]]}))}},createPipeConverter:function(t){throw new Error("Illegal State: Actions are not allowed to contain pipes. Pipe: "+t)}},n),o=new nh(t,e,r),s=[];Wn(i.visit(o,th.Statement),s),Vn(o.temporaryCount,r,s);var a=s.length-1,u=null;if(a>=0){var c=s[a],l=Yn(c);l&&(u=Xn(r),s[a]=u.set(l.cast(Wc).notIdentical(gn(!1))).toDeclStmt(null,[El.Final]))}return new Jp(s,u)}function kn(t,e){return Fn(t,e)}function jn(t,e,n,r){t||(t=new rh);var i=qn(r),o=[],s=new nh(t,e,r),a=n.visit(s,th.Expression);if(s.temporaryCount)for(var u=0;u<s.temporaryCount;u++)o.push(Bn(r,u));return o.push(i.set(a).toDeclStmt(null,[El.Final])),new $p(o,i)}function Fn(t,e){var n=new eh(t);return e.visit(n)}function Un(t,e){return"tmp_"+t+"_"+e}function Bn(t,e){return new Ml(Un(t,e),wl)}function Vn(t,e,n){for(var r=t-1;r>=0;r--)n.unshift(Bn(e,r))}function Hn(t,e){if(t!==th.Statement)throw new Error("Expected a statement, but saw "+e)}function zn(t,e){if(t!==th.Expression)throw new Error("Expected an expression, but saw "+e)}function Gn(t,e){return t===th.Statement?e.toStmt():e}function Wn(t,e){Array.isArray(t)?t.forEach(function(t){return Wn(t,e)}):e.push(t)}function qn(t){return cn("currVal_"+t)}function Xn(t){return cn("pd_"+t)}function Yn(t){return t instanceof Tl?t.expr:t instanceof Al?t.value:null}function Zn(t){return t.multiProvider?Qn(t.providers):Kn(t.providerType,t.providers[0])}function Qn(t){function e(t,e){return e.map(function(e,i){var o="p"+t+"_"+i;return r.push(new ll(o,Wc)),n.push($n(e)),cn(o)})}var n=[],r=[];return{providerExpr:vn(r,[new Al(fn(t.map(function(t,n){var r;if(t.useClass){var i=e(n,t.deps||t.useClass.diDeps);r=ln(t.useClass).instantiate(i)}else if(t.useFactory){var i=e(n,t.deps||t.useFactory.diDeps);r=ln(t.useFactory).callFn(i)}else if(t.useExisting){var i=e(n,[{token:t.useExisting}]);r=i[0]}else r=bn(t.useValue);return r})))],qc),flags:512,depsExpr:fn(n)}}function Kn(t,e){var n,r,i;return t===ei.Directive||t===ei.Component?(n=ln(e.useClass),r=8192,i=e.deps||e.useClass.diDeps):e.useClass?(n=ln(e.useClass),r=256,i=e.deps||e.useClass.diDeps):e.useFactory?(n=ln(e.useFactory),r=512,i=e.deps||e.useFactory.diDeps):e.useExisting?(n=wl,r=1024,i=[{token:e.useExisting}]):(n=bn(e.useValue),r=128,i=[]),{providerExpr:n,flags:r,depsExpr:fn(i.map(function(t){return $n(t)}))}}function Jn(t){return t.identifier?ln(t.identifier):gn(t.value)}function $n(t){var e=t.isValue?bn(t.value):Jn(t.token),n=0;return t.isSkipSelf&&(n|=1),t.isOptional&&(n|=2),t.isValue&&(n|=8),0===n?e:fn([gn(n),e])}function tr(t){var e=t[t.length-1];return e instanceof Kr?e.hasViewContainer:e instanceof Qr?e.name===uh&&e.children.length?tr(e.children):e.hasViewContainer:e instanceof ni}function er(t){var e=0;switch(t){case Vr["ÉµLifecycleHooks"].AfterContentChecked:e=1048576;break;case Vr["ÉµLifecycleHooks"].AfterContentInit:e=524288;break;case Vr["ÉµLifecycleHooks"].AfterViewChecked:e=4194304;break;case Vr["ÉµLifecycleHooks"].AfterViewInit:e=2097152;break;case Vr["ÉµLifecycleHooks"].DoCheck:e=131072;break;case Vr["ÉµLifecycleHooks"].OnChanges:e=262144;break;case Vr["ÉµLifecycleHooks"].OnDestroy:e=65536;break;case Vr["ÉµLifecycleHooks"].OnInit:e=32768}return e}function nr(t,e){switch(t.type){case ri.Attribute:return fn([gn(1),gn(t.name),gn(t.securityContext)]);case ri.Property:return fn([gn(8),gn(t.name),gn(t.securityContext)]);case ri.Animation:return fn([gn(8|(e&&e.directive.isComponent?32:16)),gn("@"+t.name),gn(t.securityContext)]);case ri.Class:return fn([gn(2),gn(t.name),wl]);case ri.Style:return fn([gn(4),gn(t.name),gn(t.unit)])}}function rr(t){var e=Object.create(null);t.attrs.forEach(function(t){e[t.name]=t.value}),t.directives.forEach(function(t){Object.keys(t.directive.hostAttributes).forEach(function(n){var r=t.directive.hostAttributes[n],i=e[n];e[n]=null!=i?ir(n,i,r):r})});return fn(Object.keys(e).sort().map(function(t){return fn([gn(t),gn(e[t])])}))}function ir(t,e,n){return t==oh||t==sh?e+" "+n:n}function or(t,e){return e.length>10?fh.callFn([hh,gn(t),gn(1),fn(e)]):fh.callFn([hh,gn(t),gn(0)].concat(e))}function sr(t,e,n){return ln(ae(lu.unwrapValue)).callFn([hh,gn(t),gn(e),n])}function ar(t,e){return void 0===e&&(e=new Map),t.forEach(function(t){var n,r=new Set,i=new Set;t instanceof Qr?(ar(t.children,e),t.children.forEach(function(t){var n=e.get(t);n.staticQueryIds.forEach(function(t){return r.add(t)}),n.dynamicQueryIds.forEach(function(t){return i.add(t)})}),n=t.queryMatches):t instanceof Kr&&(ar(t.children,e),t.children.forEach(function(t){var n=e.get(t);n.staticQueryIds.forEach(function(t){return i.add(t)}),n.dynamicQueryIds.forEach(function(t){return i.add(t)})}),n=t.queryMatches),n&&n.forEach(function(t){return r.add(t.queryId)}),i.forEach(function(t){return r.delete(t)}),e.set(t,{staticQueryIds:r,dynamicQueryIds:i})}),e}function ur(t){var e=new Set,n=new Set;return Array.from(t.values()).forEach(function(t){t.staticQueryIds.forEach(function(t){return e.add(t)}),t.dynamicQueryIds.forEach(function(t){return n.add(t)})}),n.forEach(function(t){return e.delete(t)}),{staticQueryIds:e,dynamicQueryIds:n}}function cr(t){var e=t.find(function(t){return t.directive.isComponent});if(e&&e.directive.entryComponents.length){var n=e.directive.entryComponents.map(function(t){return ln({reference:t.componentFactory})}),r=ce(lu.ComponentFactoryResolver);return new ti(r,!1,!0,[{token:r,multi:!1,useClass:{diDeps:[{isValue:!0,value:fn(n)},{token:r,isSkipSelf:!0,isOptional:!0},{token:ce(lu.NgModuleRef)}],lifecycleHooks:[],reference:se(lu.CodegenComponentFactoryResolver)}}],ei.PrivateService,[],e.sourceSpan)}return null}function lr(t,e){return t.isAnimation?{name:"@"+t.name+"."+t.phase,target:e&&e.directive.isComponent?"component":null}:t}function pr(t,e,n){var r=0;return r|=!n||!t.staticQueryIds.has(e)&&t.dynamicQueryIds.has(e)?268435456:134217728}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function hr(t,e,n,r){var i=new _h(e,t);n.forEach(function(t){return i.addOrMergeSummary({symbol:t.symbol,metadata:t.metadata})});for(var o=0;o<i.symbols.length;o++){var s=i.symbols[o];if(t.isLibraryFile(s.filePath)){var a=t.resolveSummary(s);if(!a){var u=e.resolveSymbol(s);u&&(a={symbol:u.symbol,metadata:u.metadata})}a&&i.addOrMergeSummary(a)}}return r.forEach(function(e){if(i.addOrMergeSummary({symbol:e.type.reference,metadata:{__symbolic:"class"},type:e}),e.summaryKind===Ti.NgModule){var n=e;n.exportedDirectives.concat(n.exportedPipes).forEach(function(e){var n=e.reference;if(t.isLibraryFile(n.filePath)){var r=t.resolveSummary(n);r&&i.addOrMergeSummary(r)}})}}),i.serialize()}function fr(t,e){return new bh(t).deserialize(e)}function dr(t,e,n){return e.dependencies.forEach(function(e){e.valuePlaceholder.reference=t.getStaticSymbol(mr(e.moduleUrl,e.isShimmed,n),e.name)}),e.statements}function mr(t,e,n){return t+(e?".shim":"")+".ngstyle"+n}function vr(t){if(!t.isComponent)throw new Error("Could not compile '"+y(t.type)+"' because it is not a component.")}function gr(t,e,n){var r=wr(t,e,n);return _r(t,r.ngModules,r.symbolsMissingModule,n)}function yr(t,e,n){var r=gr(t,e,n);if(r.symbolsMissingModule&&r.symbolsMissingModule.length){throw f(r.symbolsMissingModule.map(function(t){return"Cannot determine the module for class "+t.name+" in "+t.filePath+"! Add "+t.name+" to the NgModule to fix it."}).join("\n"))}return r}function _r(t,e,n,r){var i=new Map;e.forEach(function(t){return i.set(t.type.reference,t)});var o=new Map,s=new Map,a=new Map,u=new Map,c=new Map,l=new Set;t.forEach(function(t){var e=t.filePath;l.add(e),r.isInjectable(t)&&c.set(e,(c.get(e)||[]).concat(t))}),e.forEach(function(t){var e=t.type.reference.filePath;l.add(e),s.set(e,(s.get(e)||[]).concat(t.type.reference)),t.declaredDirectives.forEach(function(e){var n=e.reference.filePath;l.add(n),a.set(n,(a.get(n)||[]).concat(e.reference)),o.set(e.reference,t)}),t.declaredPipes.forEach(function(e){var n=e.reference.filePath;l.add(n),u.set(n,(u.get(n)||[]).concat(e.reference)),o.set(e.reference,t)})});var p=[];return l.forEach(function(t){var e=a.get(t)||[],n=u.get(t)||[],r=s.get(t)||[],i=c.get(t)||[];p.push({srcUrl:t,directives:e,pipes:n,ngModules:r,injectables:i})}),{ngModuleByPipeOrDirective:o,files:p,ngModules:e,symbolsMissingModule:n}}function br(t,e,n){var r=[];return e.filter(function(t){return n.isSourceFile(t)}).forEach(function(e){t.getSymbolsOf(e).forEach(function(e){var n=t.resolveSymbol(e),i=n.metadata;i&&"error"!=i.__symbolic&&r.push(n.symbol)})}),r}function wr(t,e,n){var r=new Map,i=[],o=new Set,s=function(t){if(r.has(t)||!e.isSourceFile(t.filePath))return!1;var i=n.getNgModuleMetadata(t,!1);return i&&(r.set(i.type.reference,i),i.declaredDirectives.forEach(function(t){return o.add(t.reference)}),i.declaredPipes.forEach(function(t){return o.add(t.reference)}),i.transitiveModule.modules.forEach(function(t){return s(t.reference)})),!!i};t.forEach(function(t){s(t)||!n.isDirective(t)&&!n.isPipe(t)||i.push(t)});var a=i.filter(function(t){return!o.has(t)});return{ngModules:Array.from(r.values()),symbolsMissingModule:a}}function xr(t){return"object"==typeof t&&t.name&&t.filePath}function Er(t){return t&&"ignore"==t.__symbolic}function Sr(t){switch(t.message){case"Reference to non-exported class":if(t.context&&t.context.className)return"Reference to a non-exported class "+t.context.className+". Consider exporting the class";break;case"Variable not initialized":return"Only initialized variables and constants can be referenced because the value of this variable is needed by the template compiler";case"Destructuring not supported":return"Referencing an exported destructured variable or constant is not supported by the template compiler. Consider simplifying this to avoid destructuring";case"Could not resolve type":if(t.context&&t.context.typeName)return"Could not resolve type "+t.context.typeName;break;case"Function call not supported":return(t.context&&t.context.name?"Calling function '"+t.context.name+"', f":"F")+"unction calls are not supported. Consider replacing the function or lambda with a reference to an exported function";case"Reference to a local symbol":if(t.context&&t.context.name)return"Reference to a local (non-exported) symbol '"+t.context.name+"'. Consider exporting the symbol"}return t.message}function Mr(t){return"Error encountered resolving symbol values statically. "+Sr(t)}function Cr(t,e){if(!t)return{};var n={};return Object.keys(t).forEach(function(r){var i=e(t[r],r);Er(i)||(Eh.test(r)?Object.defineProperty(n,r,{enumerable:!1,configurable:!0,value:i}):n[r]=i)}),n}function Tr(t){return null===t||"function"!=typeof t&&"object"!=typeof t}function Ar(t,e,n,r){var i=new Error(t);return i.fileName=e,i.line=n,i.column=r,i}function Pr(t){return t.startsWith("___")?t.substr(1):t}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function Rr(t,e){var n=t.concat([new Al(fn(e.map(function(t){return cn(t)})))]),r=new Lh(null,null,null,new Map),i=new Nh,o=i.visitAllStatements(n,r);return null!=o?o.value:null}function Or(t,e,n,r,i){for(var o=r.createChildWihtLocalVars(),s=0;s<t.length;s++)o.vars.set(t[s],e[s]);var a=i.visitAllStatements(n,o);return a?a.value:null}function Lr(t,e,n){var r={};t.getters.forEach(function(i){r[i.name]={configurable:!1,get:function(){var r=new Lh(e,this,t.name,e.vars);return Or([],[],i.body,r,n)}}}),t.methods.forEach(function(i){var o=i.params.map(function(t){return t.name});r[i.name]={writable:!1,configurable:!1,value:function(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];var a=new Lh(e,this,t.name,e.vars);return Or(o,r,i.body,a,n)}}});var i=t.constructorMethod.params.map(function(t){return t.name}),o=function(){for(var r=this,o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var a=new Lh(e,this,t.name,e.vars);t.fields.forEach(function(t){r[t.name]=void 0}),Or(i,o,t.constructorMethod.body,a,n)},s=t.parent?t.parent.visitExpression(n,e):Object;return o.prototype=Object.create(s.prototype,r),o}function Ir(t,e,n,r){return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return Or(t,i,e,n,r)}}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function Nr(t,e,r){var i=e.toSource()+"\n//# sourceURL="+t,o=[],s=[];for(var a in r)o.push(a),s.push(r[a]);if(n.i(Vr.isDevMode)()){var u=(new(Function.bind.apply(Function,[void 0].concat(o.concat("return null;"))))).toString(),c=u.slice(0,u.indexOf("return null;")).split("\n").length-1;i+="\n"+e.toSourceMapGenerator(t,t,c).toJsComment()}return(new(Function.bind.apply(Function,[void 0].concat(o.concat(i))))).apply(void 0,s)}function Dr(t,e,n){var r=new Fh,i=op.createRoot(n),o=new Al(fn(n.map(function(t){return cn(t)})));return r.visitAllStatements(e.concat([o]),i),Nr(t,i,r.getArgs())}function kr(t){if(!t.isComponent)throw new Error("Could not compile '"+y(t.type)+"' because it is not a component.")}function jr(){Vr["Éµreflector"].reflectionCapabilities=new Vr["ÉµReflectionCapabilities"]}function Fr(t){return{useJit:Ur(t.map(function(t){return t.useJit})),defaultEncapsulation:Ur(t.map(function(t){return t.defaultEncapsulation})),providers:Br(t.map(function(t){return t.providers})),missingTranslation:Ur(t.map(function(t){return t.missingTranslation}))}}function Ur(t){for(var e=t.length-1;e>=0;e--)if(void 0!==t[e])return t[e]}function Br(t){var e=[];return t.forEach(function(t){return t&&e.push.apply(e,t)}),e}var Vr=n("./node_modules/@angular/core/@angular/core.es5.js");n.d(e,"b",function(){return Yh}),n.d(e,"a",function(){return wc});var Hr=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},zr=(new Vr.Version("4.0.1"),function(){function t(t,e,n){this.value=t,this.ngContentIndex=e,this.sourceSpan=n}return t.prototype.visit=function(t,e){return t.visitText(this,e)},t}()),Gr=function(){function t(t,e,n){this.value=t,this.ngContentIndex=e,this.sourceSpan=n}return t.prototype.visit=function(t,e){return t.visitBoundText(this,e)},t}(),Wr=function(){function t(t,e,n){this.name=t,this.value=e,this.sourceSpan=n}return t.prototype.visit=function(t,e){return t.visitAttr(this,e)},t}(),qr=function(){function t(t,e,n,r,i,o){this.name=t,this.type=e,this.securityContext=n,this.value=r,this.unit=i,this.sourceSpan=o}return t.prototype.visit=function(t,e){return t.visitElementProperty(this,e)},Object.defineProperty(t.prototype,"isAnimation",{get:function(){return this.type===ri.Animation},enumerable:!0,configurable:!0}),t}(),Xr=function(){function t(t,e,n,r,i){this.name=t,this.target=e,this.phase=n,this.handler=r,this.sourceSpan=i}return t.calcFullName=function(t,e,n){return e?e+":"+t:n?"@"+t+"."+n:t},t.prototype.visit=function(t,e){return t.visitEvent(this,e)},Object.defineProperty(t.prototype,"fullName",{get:function(){return t.calcFullName(this.name,this.target,this.phase)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAnimation",{get:function(){return!!this.phase},enumerable:!0,configurable:!0}),t}(),Yr=function(){function t(t,e,n){this.name=t,this.value=e,this.sourceSpan=n}return t.prototype.visit=function(t,e){return t.visitReference(this,e)},t}(),Zr=function(){function t(t,e,n){this.name=t,this.value=e,this.sourceSpan=n}return t.prototype.visit=function(t,e){return t.visitVariable(this,e)},t}(),Qr=function(){function t(t,e,n,r,i,o,s,a,u,c,l,p,h){this.name=t,this.attrs=e,this.inputs=n,this.outputs=r,this.references=i,this.directives=o,this.providers=s,this.hasViewContainer=a,this.queryMatches=u,this.children=c,this.ngContentIndex=l,this.sourceSpan=p,this.endSourceSpan=h}return t.prototype.visit=function(t,e){return t.visitElement(this,e)},t}(),Kr=function(){function t(t,e,n,r,i,o,s,a,u,c,l){this.attrs=t,this.outputs=e,this.references=n,this.variables=r,this.directives=i,this.providers=o,this.hasViewContainer=s,this.queryMatches=a,this.children=u,this.ngContentIndex=c,this.sourceSpan=l}return t.prototype.visit=function(t,e){return t.visitEmbeddedTemplate(this,e)},t}(),Jr=function(){function t(t,e,n,r){this.directiveName=t,this.templateName=e,this.value=n,this.sourceSpan=r}return t.prototype.visit=function(t,e){return t.visitDirectiveProperty(this,e)},t}(),$r=function(){function t(t,e,n,r,i,o){this.directive=t,this.inputs=e,this.hostProperties=n,this.hostEvents=r,this.contentQueryStartId=i,this.sourceSpan=o}return t.prototype.visit=function(t,e){return t.visitDirective(this,e)},t}(),ti=function(){function t(t,e,n,r,i,o,s){this.token=t,this.multiProvider=e,this.eager=n,this.providers=r,this.providerType=i,this.lifecycleHooks=o,this.sourceSpan=s}return t.prototype.visit=function(t,e){return null},t}(),ei={};ei.PublicService=0,ei.PrivateService=1,ei.Component=2,ei.Directive=3,ei.Builtin=4,ei[ei.PublicService]="PublicService",ei[ei.PrivateService]="PrivateService",ei[ei.Component]="Component",ei[ei.Directive]="Directive",ei[ei.Builtin]="Builtin";var ni=function(){function t(t,e,n){this.index=t,this.ngContentIndex=e,this.sourceSpan=n}return t.prototype.visit=function(t,e){return t.visitNgContent(this,e)},t}(),ri={};ri.Property=0,ri.Attribute=1,ri.Class=2,ri.Style=3,ri.Animation=4,ri[ri.Property]="Property",ri[ri.Attribute]="Attribute",ri[ri.Class]="Class",ri[ri.Style]="Style",ri[ri.Animation]="Animation";var ii=function(){function t(t,e,n){this.filePath=t,this.name=e,this.members=n}return t.prototype.assertNoMembers=function(){if(this.members.length)throw new Error("Illegal state: symbol without members expected, but got "+JSON.stringify(this)+".")},t}(),oi=function(){function t(){this.cache=new Map}return t.prototype.get=function(t,e,n){n=n||[];var r=n.length?"."+n.join("."):"",i='"'+t+'".'+e+r,o=this.cache.get(i);return o||(o=new ii(t,e,n),this.cache.set(i,o)),o},t}(),si={};si.RAW_TEXT=0,si.ESCAPABLE_RAW_TEXT=1,si.PARSABLE_DATA=2,si[si.RAW_TEXT]="RAW_TEXT",si[si.ESCAPABLE_RAW_TEXT]="ESCAPABLE_RAW_TEXT",si[si.PARSABLE_DATA]="PARSABLE_DATA";var ai={Aacute:"Ã",aacute:"Ã¡",Acirc:"Ã‚",acirc:"Ã¢",acute:"Â´",AElig:"Ã†",aelig:"Ã¦",Agrave:"Ã€",agrave:"Ã ",alefsym:"â„µ",Alpha:"Î‘",alpha:"Î±",amp:"&",and:"âˆ§",ang:"âˆ ",apos:"'",Aring:"Ã…",aring:"Ã¥",asymp:"â‰ˆ",Atilde:"Ãƒ",atilde:"Ã£",Auml:"Ã„",auml:"Ã¤",bdquo:"â€ž",Beta:"Î’",beta:"Î²",brvbar:"Â¦",bull:"â€¢",cap:"âˆ©",Ccedil:"Ã‡",ccedil:"Ã§",cedil:"Â¸",cent:"Â¢",Chi:"Î§",chi:"Ï‡",circ:"Ë†",clubs:"â™£",cong:"â‰…",copy:"Â©",crarr:"â†µ",cup:"âˆª",curren:"Â¤",dagger:"â€ ",Dagger:"â€¡",darr:"â†“",dArr:"â‡“",deg:"Â°",Delta:"Î”",delta:"Î´",diams:"â™¦",divide:"Ã·",Eacute:"Ã‰",eacute:"Ã©",Ecirc:"ÃŠ",ecirc:"Ãª",Egrave:"Ãˆ",egrave:"Ã¨",empty:"âˆ…",emsp:"â€ƒ",ensp:"â€‚",Epsilon:"Î•",epsilon:"Îµ",equiv:"â‰¡",Eta:"Î—",eta:"Î·",ETH:"Ã",eth:"Ã°",Euml:"Ã‹",euml:"Ã«",euro:"â‚¬",exist:"âˆƒ",fnof:"Æ’",forall:"âˆ€",frac12:"Â½",frac14:"Â¼",frac34:"Â¾",frasl:"â„",Gamma:"Î“",gamma:"Î³",ge:"â‰¥",gt:">",harr:"â†”",hArr:"â‡”",hearts:"â™¥",hellip:"â€¦",Iacute:"Ã",iacute:"Ã­",Icirc:"ÃŽ",icirc:"Ã®",iexcl:"Â¡",Igrave:"ÃŒ",igrave:"Ã¬",image:"â„‘",infin:"âˆž",int:"âˆ«",Iota:"Î™",iota:"Î¹",iquest:"Â¿",isin:"âˆˆ",Iuml:"Ã",iuml:"Ã¯",Kappa:"Îš",kappa:"Îº",Lambda:"Î›",lambda:"Î»",lang:"âŸ¨",laquo:"Â«",larr:"â†",lArr:"â‡",lceil:"âŒˆ",ldquo:"â€œ",le:"â‰¤",lfloor:"âŒŠ",lowast:"âˆ—",loz:"â—Š",lrm:"â€Ž",lsaquo:"â€¹",lsquo:"â€˜",lt:"<",macr:"Â¯",mdash:"â€”",micro:"Âµ",middot:"Â·",minus:"âˆ’",Mu:"Îœ",mu:"Î¼",nabla:"âˆ‡",nbsp:"Â ",ndash:"â€“",ne:"â‰ ",ni:"âˆ‹",not:"Â¬",notin:"âˆ‰",nsub:"âŠ„",Ntilde:"Ã‘",ntilde:"Ã±",Nu:"Î",nu:"Î½",Oacute:"Ã“",oacute:"Ã³",Ocirc:"Ã”",ocirc:"Ã´",OElig:"Å’",oelig:"Å“",Ograve:"Ã’",ograve:"Ã²",oline:"â€¾",Omega:"Î©",omega:"Ï‰",Omicron:"ÎŸ",omicron:"Î¿",oplus:"âŠ•",or:"âˆ¨",ordf:"Âª",ordm:"Âº",Oslash:"Ã˜",oslash:"Ã¸",Otilde:"Ã•",otilde:"Ãµ",otimes:"âŠ—",Ouml:"Ã–",ouml:"Ã¶",para:"Â¶",permil:"â€°",perp:"âŠ¥",Phi:"Î¦",phi:"Ï†",Pi:"Î ",pi:"Ï€",piv:"Ï–",plusmn:"Â±",pound:"Â£",prime:"â€²",Prime:"â€³",prod:"âˆ",prop:"âˆ",Psi:"Î¨",psi:"Ïˆ",quot:'"',radic:"âˆš",rang:"âŸ©",raquo:"Â»",rarr:"â†’",rArr:"â‡’",rceil:"âŒ‰",rdquo:"â€",real:"â„œ",reg:"Â®",rfloor:"âŒ‹",Rho:"Î¡",rho:"Ï",rlm:"â€",rsaquo:"â€º",rsquo:"â€™",sbquo:"â€š",Scaron:"Å ",scaron:"Å¡",sdot:"â‹…",sect:"Â§",shy:"Â­",Sigma:"Î£",sigma:"Ïƒ",sigmaf:"Ï‚",sim:"âˆ¼",spades:"â™ ",sub:"âŠ‚",sube:"âŠ†",sum:"âˆ‘",sup:"âŠƒ",sup1:"Â¹",sup2:"Â²",sup3:"Â³",supe:"âŠ‡",szlig:"ÃŸ",Tau:"Î¤",tau:"Ï„",there4:"âˆ´",Theta:"Î˜",theta:"Î¸",thetasym:"Ï‘",thinsp:"â€‰",THORN:"Ãž",thorn:"Ã¾",tilde:"Ëœ",times:"Ã—",trade:"â„¢",Uacute:"Ãš",uacute:"Ãº",uarr:"â†‘",uArr:"â‡‘",Ucirc:"Ã›",ucirc:"Ã»",Ugrave:"Ã™",ugrave:"Ã¹",uml:"Â¨",upsih:"Ï’",Upsilon:"Î¥",upsilon:"Ï…",Uuml:"Ãœ",uuml:"Ã¼",weierp:"â„˜",Xi:"Îž",xi:"Î¾",Yacute:"Ã",yacute:"Ã½",yen:"Â¥",yuml:"Ã¿",Yuml:"Å¸",Zeta:"Î–",zeta:"Î¶",zwj:"â€",zwnj:"â€Œ"},ui=function(){function t(t){var e=void 0===t?{}:t,n=e.closedByChildren,r=e.requiredParents,i=e.implicitNamespacePrefix,o=e.contentType,s=void 0===o?si.PARSABLE_DATA:o,a=e.closedByParent,u=void 0!==a&&a,c=e.isVoid,l=void 0!==c&&c,p=e.ignoreFirstLf,h=void 0!==p&&p,f=this;this.closedByChildren={},this.closedByParent=!1,this.canSelfClose=!1,n&&n.length>0&&n.forEach(function(t){return f.closedByChildren[t]=!0}),this.isVoid=l,this.closedByParent=u||l,r&&r.length>0&&(this.requiredParents={},this.parentToAdd=r[0],r.forEach(function(t){return f.requiredParents[t]=!0})),this.implicitNamespacePrefix=i,this.contentType=s,this.ignoreFirstLf=h}return t.prototype.requireExtraParent=function(t){if(!this.requiredParents)return!1;if(!t)return!0;var e=t.toLowerCase();return!("template"===e||"ng-template"===t)&&1!=this.requiredParents[e]},t.prototype.isClosedByChild=function(t){return this.isVoid||t.toLowerCase()in this.closedByChildren},t}(),ci={base:new ui({isVoid:!0}),meta:new ui({isVoid:!0}),area:new ui({isVoid:!0}),embed:new ui({isVoid:!0}),link:new ui({isVoid:!0}),img:new ui({isVoid:!0}),input:new ui({isVoid:!0}),param:new ui({isVoid:!0}),hr:new ui({isVoid:!0}),br:new ui({isVoid:!0}),source:new ui({isVoid:!0}),track:new ui({isVoid:!0}),wbr:new ui({isVoid:!0}),p:new ui({closedByChildren:["address","article","aside","blockquote","div","dl","fieldset","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","nav","ol","p","pre","section","table","ul"],closedByParent:!0}),thead:new ui({closedByChildren:["tbody","tfoot"]}),tbody:new ui({closedByChildren:["tbody","tfoot"],closedByParent:!0}),tfoot:new ui({closedByChildren:["tbody"],closedByParent:!0}),tr:new ui({closedByChildren:["tr"],requiredParents:["tbody","tfoot","thead"],closedByParent:!0}),td:new ui({closedByChildren:["td","th"],closedByParent:!0}),th:new ui({closedByChildren:["td","th"],closedByParent:!0}),col:new ui({requiredParents:["colgroup"],isVoid:!0}),svg:new ui({implicitNamespacePrefix:"svg"}),math:new ui({implicitNamespacePrefix:"math"}),li:new ui({closedByChildren:["li"],closedByParent:!0}),dt:new ui({closedByChildren:["dt","dd"]}),dd:new ui({closedByChildren:["dt","dd"],closedByParent:!0}),rb:new ui({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rt:new ui({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rtc:new ui({closedByChildren:["rb","rtc","rp"],closedByParent:!0}),rp:new ui({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),optgroup:new ui({closedByChildren:["optgroup"],closedByParent:!0}),option:new ui({closedByChildren:["option","optgroup"],closedByParent:!0}),pre:new ui({ignoreFirstLf:!0}),listing:new ui({ignoreFirstLf:!0}),style:new ui({contentType:si.RAW_TEXT}),script:new ui({contentType:si.RAW_TEXT}),title:new ui({contentType:si.ESCAPABLE_RAW_TEXT}),textarea:new ui({contentType:si.ESCAPABLE_RAW_TEXT,ignoreFirstLf:!0})},li=new ui,pi=new RegExp("(\\:not\\()|([-\\w]+)|(?:\\.([-\\w]+))|(?:\\[([-.\\w*]+)(?:=([\"']?)([^\\]\"']*)\\5)?\\])|(\\))|(\\s*,\\s*)","g"),hi=function(){function t(){this.element=null,this.classNames=[],this.attrs=[],this.notSelectors=[]}return t.parse=function(e){var n,r=[],i=function(t,e){e.notSelectors.length>0&&!e.element&&0==e.classNames.length&&0==e.attrs.length&&(e.element="*"),t.push(e)},o=new t,s=o,a=!1;for(pi.lastIndex=0;n=pi.exec(e);){if(n[1]){if(a)throw new Error("Nesting :not is not allowed in a selector");a=!0,s=new t,o.notSelectors.push(s)}if(n[2]&&s.setElement(n[2]),n[3]&&s.addClassName(n[3]),n[4]&&s.addAttribute(n[4],n[6]),n[7]&&(a=!1,s=o),n[8]){if(a)throw new Error("Multiple selectors in :not are not supported");i(r,o),o=s=new t}}return i(r,o),r},t.prototype.isElementSelector=function(){return this.hasElementSelector()&&0==this.classNames.length&&0==this.attrs.length&&0===this.notSelectors.length},t.prototype.hasElementSelector=function(){return!!this.element},t.prototype.setElement=function(t){void 0===t&&(t=null),this.element=t},t.prototype.getMatchingElementTemplate=function(){for(var t=this.element||"div",e=this.classNames.length>0?' class="'+this.classNames.join(" ")+'"':"",n="",r=0;r<this.attrs.length;r+=2){n+=" "+this.attrs[r]+(""!==this.attrs[r+1]?'="'+this.attrs[r+1]+'"':"")}return a(t).isVoid?"<"+t+e+n+"/>":"<"+t+e+n+"></"+t+">"},t.prototype.addAttribute=function(t,e){void 0===e&&(e=""),this.attrs.push(t,e&&e.toLowerCase()||"")},t.prototype.addClassName=function(t){this.classNames.push(t.toLowerCase())},t.prototype.toString=function(){var t=this.element||"";if(this.classNames&&this.classNames.forEach(function(e){return t+="."+e}),this.attrs)for(var e=0;e<this.attrs.length;e+=2){var n=this.attrs[e],r=this.attrs[e+1];t+="["+n+(r?"="+r:"")+"]"}return this.notSelectors.forEach(function(e){return t+=":not("+e+")"}),t},t}(),fi=function(){function t(){this._elementMap=new Map,this._elementPartialMap=new Map,this._classMap=new Map,this._classPartialMap=new Map,this._attrValueMap=new Map,this._attrValuePartialMap=new Map,this._listContexts=[]}return t.createNotMatcher=function(e){var n=new t;return n.addSelectables(e,null),n},t.prototype.addSelectables=function(t,e){var n=null;t.length>1&&(n=new di(t),this._listContexts.push(n));for(var r=0;r<t.length;r++)this._addSelectable(t[r],e,n)},t.prototype._addSelectable=function(t,e,n){var r=this,i=t.element,o=t.classNames,s=t.attrs,a=new mi(t,e,n);if(i){var u=0===s.length&&0===o.length;u?this._addTerminal(r._elementMap,i,a):r=this._addPartial(r._elementPartialMap,i)}if(o)for(var c=0;c<o.length;c++){var u=0===s.length&&c===o.length-1,l=o[c];u?this._addTerminal(r._classMap,l,a):r=this._addPartial(r._classPartialMap,l)}if(s)for(var c=0;c<s.length;c+=2){var u=c===s.length-2,p=s[c],h=s[c+1];if(u){var f=r._attrValueMap,d=f.get(p);d||(d=new Map,f.set(p,d)),this._addTerminal(d,h,a)}else{var m=r._attrValuePartialMap,v=m.get(p);v||(v=new Map,m.set(p,v)),r=this._addPartial(v,h)}}},t.prototype._addTerminal=function(t,e,n){var r=t.get(e);r||(r=[],t.set(e,r)),r.push(n)},t.prototype._addPartial=function(e,n){var r=e.get(n);return r||(r=new t,e.set(n,r)),r},t.prototype.match=function(t,e){for(var n=!1,r=t.element,i=t.classNames,o=t.attrs,s=0;s<this._listContexts.length;s++)this._listContexts[s].alreadyMatched=!1;if(n=this._matchTerminal(this._elementMap,r,t,e)||n,n=this._matchPartial(this._elementPartialMap,r,t,e)||n,i)for(var s=0;s<i.length;s++){var a=i[s];n=this._matchTerminal(this._classMap,a,t,e)||n,n=this._matchPartial(this._classPartialMap,a,t,e)||n}if(o)for(var s=0;s<o.length;s+=2){var u=o[s],c=o[s+1],l=this._attrValueMap.get(u);c&&(n=this._matchTerminal(l,"",t,e)||n),n=this._matchTerminal(l,c,t,e)||n;var p=this._attrValuePartialMap.get(u);c&&(n=this._matchPartial(p,"",t,e)||n),n=this._matchPartial(p,c,t,e)||n}return n},t.prototype._matchTerminal=function(t,e,n,r){if(!t||"string"!=typeof e)return!1;var i=t.get(e)||[],o=t.get("*");if(o&&(i=i.concat(o)),0===i.length)return!1;for(var s,a=!1,u=0;u<i.length;u++)s=i[u],a=s.finalize(n,r)||a;return a},t.prototype._matchPartial=function(t,e,n,r){if(!t||"string"!=typeof e)return!1;var i=t.get(e);return!!i&&i.match(n,r)},t}(),di=function(){function t(t){this.selectors=t,this.alreadyMatched=!1}return t}(),mi=function(){function t(t,e,n){this.selector=t,this.cbContext=e,this.listContext=n,this.notSelectors=t.notSelectors}return t.prototype.finalize=function(t,e){var n=!0;if(this.notSelectors.length>0&&(!this.listContext||!this.listContext.alreadyMatched)){n=!fi.createNotMatcher(this.notSelectors).match(t,null)}return!n||!e||this.listContext&&this.listContext.alreadyMatched||(this.listContext&&(this.listContext.alreadyMatched=!0),e(this.selector,this.cbContext)),n},t}(),vi="",gi=/-+([a-z0-9])/g,yi=function(){function t(){}return t.prototype.visitArray=function(t,e){var n=this;return t.map(function(t){return h(t,n,e)})},t.prototype.visitStringMap=function(t,e){var n=this,r={};return Object.keys(t).forEach(function(i){r[i]=h(t[i],n,e)}),r},t.prototype.visitPrimitive=function(t,e){return t},t.prototype.visitOther=function(t,e){return t},t}(),_i=function(){function t(t,e){void 0===e&&(e=null),this.syncResult=t,this.asyncResult=e,e||(this.asyncResult=Promise.resolve(t))}return t}(),bi="ngSyntaxError",wi=Object.getPrototypeOf({}),xi=/^(?:(?:\[([^\]]+)\])|(?:\(([^\)]+)\)))|(\@[-\w]+)$/,Ei=(function(){function t(t,e){void 0===t&&(t=null),void 0===e&&(e=null),this.name=t,this.definitions=e}t}(),function(){function t(){}return t}()),Si=(function(t){function e(e,n){var r=t.call(this)||this;return r.stateNameExpr=e,r.styles=n,r}Hr(e,t),e}(Ei),function(t){function e(e,n){var r=t.call(this)||this;return r.stateChangeExpr=e,r.steps=n,r}Hr(e,t),e}(Ei),function(){function t(){}return t}()),Mi=(function(t){function e(e){void 0===e&&(e=[]);var n=t.call(this)||this;return n.steps=e,n}Hr(e,t),e}(Si),function(t){function e(e,n){void 0===n&&(n=null);var r=t.call(this)||this;return r.offset=e,r.styles=n,r}Hr(e,t),e}(Si),function(t){function e(e,n){void 0===e&&(e=0),void 0===n&&(n=null);var r=t.call(this)||this;return r.timings=e,r.styles=n,r}Hr(e,t),e}(Si),function(t){function e(e){void 0===e&&(e=null);var n=t.call(this)||this;return n.steps=e,n}return Hr(e,t),e}(Si)),Ci=(function(t){function e(e){return void 0===e&&(e=null),t.call(this,e)||this}Hr(e,t),e}(Mi),function(t){function e(e){return void 0===e&&(e=null),t.call(this,e)||this}Hr(e,t),e}(Mi),0),Ti={};Ti.Pipe=0,Ti.Directive=1,Ti.NgModule=2,Ti.Injectable=3,Ti[Ti.Pipe]="Pipe",Ti[Ti.Directive]="Directive",Ti[Ti.NgModule]="NgModule",Ti[Ti.Injectable]="Injectable";var Ai=function(){function t(t){var e=void 0===t?{}:t,n=e.moduleUrl,r=e.styles,i=e.styleUrls;this.moduleUrl=n,this.styles=T(r),this.styleUrls=T(i)}return t}(),Pi=function(){function t(t){var e=void 0===t?{}:t,n=e.encapsulation,r=e.template,i=e.templateUrl,o=e.styles,s=e.styleUrls,a=e.externalStylesheets,u=e.animations,c=e.ngContentSelectors,l=e.interpolation,p=e.isInline;if(this.encapsulation=n,this.template=r,this.templateUrl=i,this.styles=T(o),this.styleUrls=T(s),this.externalStylesheets=T(a),this.animations=u?A(u):[],this.ngContentSelectors=c||[],l&&2!=l.length)throw new Error("'interpolation' should have a start and an end symbol.");this.interpolation=l,this.isInline=p}return t.prototype.toSummary=function(){return{animations:this.animations.map(function(t){return t.name}),ngContentSelectors:this.ngContentSelectors,encapsulation:this.encapsulation}},t}(),Ri=function(){function t(t){var e=void 0===t?{}:t,n=e.isHost,r=e.type,i=e.isComponent,o=e.selector,s=e.exportAs,a=e.changeDetection,u=e.inputs,c=e.outputs,l=e.hostListeners,p=e.hostProperties,h=e.hostAttributes,f=e.providers,d=e.viewProviders,m=e.queries,v=e.viewQueries,g=e.entryComponents,y=e.template,_=e.componentViewType,b=e.rendererType,w=e.componentFactory;this.isHost=!!n,this.type=r,this.isComponent=i,this.selector=o,this.exportAs=s,this.changeDetection=a,this.inputs=u,this.outputs=c,this.hostListeners=l,this.hostProperties=p,this.hostAttributes=h,this.providers=T(f),this.viewProviders=T(d),this.queries=T(m),this.viewQueries=T(v),this.entryComponents=T(g),this.template=y,this.componentViewType=_,this.rendererType=b,this.componentFactory=w}return t.create=function(e){var n=void 0===e?{}:e,r=n.isHost,i=n.type,o=n.isComponent,s=n.selector,a=n.exportAs,u=n.changeDetection,l=n.inputs,p=n.outputs,h=n.host,f=n.providers,d=n.viewProviders,m=n.queries,v=n.viewQueries,g=n.entryComponents,y=n.template,_=n.componentViewType,b=n.rendererType,w=n.componentFactory,x={},E={},S={};null!=h&&Object.keys(h).forEach(function(t){var e=h[t],n=t.match(xi);null===n?S[t]=e:null!=n[1]?E[n[1]]=e:null!=n[2]&&(x[n[2]]=e)});var M={};null!=l&&l.forEach(function(t){var e=c(t,[t,t]);M[e[0]]=e[1]});var C={};return null!=p&&p.forEach(function(t){var e=c(t,[t,t]);C[e[0]]=e[1]}),new t({isHost:r,type:i,isComponent:!!o,selector:s,exportAs:a,changeDetection:u,inputs:M,outputs:C,hostListeners:x,hostProperties:E,hostAttributes:S,providers:f,viewProviders:d,queries:m,viewQueries:v,entryComponents:g,template:y,componentViewType:_,rendererType:b,componentFactory:w})},t.prototype.toSummary=function(){return{summaryKind:Ti.Directive,type:this.type,isComponent:this.isComponent,selector:this.selector,exportAs:this.exportAs,inputs:this.inputs,outputs:this.outputs,hostListeners:this.hostListeners,hostProperties:this.hostProperties,hostAttributes:this.hostAttributes,providers:this.providers,viewProviders:this.viewProviders,queries:this.queries,viewQueries:this.viewQueries,entryComponents:this.entryComponents,changeDetection:this.changeDetection,template:this.template&&this.template.toSummary(),componentViewType:this.componentViewType,rendererType:this.rendererType,componentFactory:this.componentFactory}},t}(),Oi=function(){function t(t){var e=void 0===t?{}:t,n=e.type,r=e.name,i=e.pure;this.type=n,this.name=r,this.pure=!!i}return t.prototype.toSummary=function(){return{summaryKind:Ti.Pipe,type:this.type,name:this.name,pure:this.pure}},t}(),Li=function(){function t(t){var e=void 0===t?{}:t,n=e.type,r=e.providers,i=e.declaredDirectives,o=e.exportedDirectives,s=e.declaredPipes,a=e.exportedPipes,u=e.entryComponents,c=e.bootstrapComponents,l=e.importedModules,p=e.exportedModules,h=e.schemas,f=e.transitiveModule,d=e.id;this.type=n,this.declaredDirectives=T(i),this.exportedDirectives=T(o),this.declaredPipes=T(s),this.exportedPipes=T(a),this.providers=T(r),this.entryComponents=T(u),this.bootstrapComponents=T(c),this.importedModules=T(l),this.exportedModules=T(p),this.schemas=T(h),this.id=d,this.transitiveModule=f}return t.prototype.toSummary=function(){return{summaryKind:Ti.NgModule,type:this.type,entryComponents:this.transitiveModule.entryComponents,providers:this.transitiveModule.providers,modules:this.transitiveModule.modules,exportedDirectives:this.transitiveModule.exportedDirectives,exportedPipes:this.transitiveModule.exportedPipes}},t}(),Ii=function(){function t(){this.directivesSet=new Set,this.directives=[],this.exportedDirectivesSet=new Set,this.exportedDirectives=[],this.pipesSet=new Set,this.pipes=[],this.exportedPipesSet=new Set,this.exportedPipes=[],this.modulesSet=new Set,this.modules=[],this.entryComponentsSet=new Set,this.entryComponents=[],this.providers=[]}return t.prototype.addProvider=function(t,e){this.providers.push({provider:t,module:e})},t.prototype.addDirective=function(t){this.directivesSet.has(t.reference)||(this.directivesSet.add(t.reference),this.directives.push(t))},t.prototype.addExportedDirective=function(t){this.exportedDirectivesSet.has(t.reference)||(this.exportedDirectivesSet.add(t.reference),this.exportedDirectives.push(t))},t.prototype.addPipe=function(t){this.pipesSet.has(t.reference)||(this.pipesSet.add(t.reference),this.pipes.push(t))},t.prototype.addExportedPipe=function(t){this.exportedPipesSet.has(t.reference)||(this.exportedPipesSet.add(t.reference),this.exportedPipes.push(t))},t.prototype.addModule=function(t){this.modulesSet.has(t.reference)||(this.modulesSet.add(t.reference),this.modules.push(t))},t.prototype.addEntryComponent=function(t){this.entryComponentsSet.has(t.componentType)||(this.entryComponentsSet.add(t.componentType),this.entryComponents.push(t))},t}(),Ni=function(){function t(t,e){var n=e.useClass,r=e.useValue,i=e.useExisting,o=e.useFactory,s=e.deps,a=e.multi;this.token=t,this.useClass=n,this.useValue=r,this.useExisting=i,this.useFactory=o,this.dependencies=s,this.multi=!!a}return t}(),Di=function(){function t(t){var e=void 0===t?{}:t,n=e.defaultEncapsulation,r=void 0===n?Vr.ViewEncapsulation.Emulated:n,i=e.useJit,o=void 0===i||i,s=e.missingTranslation,a=e.enableLegacyTemplate;this.defaultEncapsulation=r,this.useJit=o,this.missingTranslation=s,this.enableLegacyTemplate=a!==!1}return t}(),ki=function(){function t(t,e,n,r){this.input=e,this.errLocation=n,this.ctxLocation=r,this.message="Parser Error: "+t+" "+n+" ["+e+"] in "+r}return t}(),ji=function(){function t(t,e){this.start=t,this.end=e}return t}(),Fi=function(){function t(t){this.span=t}return t.prototype.visit=function(t,e){return void 0===e&&(e=null),null},t.prototype.toString=function(){return"AST"},t}(),Ui=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.prefix=n,o.uninterpretedExpression=r,o.location=i,o}return Hr(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitQuote(this,e)},e.prototype.toString=function(){return"Quote"},e}(Fi),Bi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Hr(e,t),e.prototype.visit=function(t,e){void 0===e&&(e=null)},e}(Fi),Vi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Hr(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitImplicitReceiver(this,e)},e}(Fi),Hi=function(t){function e(e,n){var r=t.call(this,e)||this;return r.expressions=n,r}return Hr(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitChain(this,e)},e}(Fi),zi=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.condition=n,o.trueExp=r,o.falseExp=i,o}return Hr(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitConditional(this,e)},e}(Fi),Gi=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.receiver=n,i.name=r,i}return Hr(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitPropertyRead(this,e)},e}(Fi),Wi=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.receiver=n,o.name=r,o.value=i,o}return Hr(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitPropertyWrite(this,e)},e}(Fi),qi=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.receiver=n,i.name=r,i}return Hr(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitSafePropertyRead(this,e)},e}(Fi),Xi=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.obj=n,i.key=r,i}return Hr(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitKeyedRead(this,e)},e}(Fi),Yi=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.obj=n,o.key=r,o.value=i,o}return Hr(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitKeyedWrite(this,e)},e}(Fi),Zi=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.exp=n,o.name=r,o.args=i,o}return Hr(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitPipe(this,e)},e}(Fi),Qi=function(t){function e(e,n){var r=t.call(this,e)||this;return r.value=n,r}return Hr(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitLiteralPrimitive(this,e)},e}(Fi),Ki=function(t){function e(e,n){var r=t.call(this,e)||this;return r.expressions=n,r}return Hr(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitLiteralArray(this,e)},e}(Fi),Ji=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.keys=n,i.values=r,i}return Hr(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitLiteralMap(this,e)},e}(Fi),$i=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.strings=n,i.expressions=r,i}return Hr(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitInterpolation(this,e)},e}(Fi),to=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.operation=n,o.left=r,o.right=i,o}return Hr(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitBinary(this,e)},e}(Fi),eo=function(t){function e(e,n){var r=t.call(this,e)||this;return r.expression=n,r}return Hr(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitPrefixNot(this,e)},e}(Fi),no=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.receiver=n,o.name=r,o.args=i,o}return Hr(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitMethodCall(this,e)},e}(Fi),ro=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.receiver=n,o.name=r,o.args=i,o}return Hr(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitSafeMethodCall(this,e)},e}(Fi),io=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.target=n,i.args=r,i}return Hr(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitFunctionCall(this,e)},e}(Fi),oo=function(t){function e(e,n,r,i){var o=t.call(this,new ji(0,null==n?0:n.length))||this;return o.ast=e,o.source=n,o.location=r,o.errors=i,o}return Hr(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),this.ast.visit(t,e)},e.prototype.toString=function(){return this.source+" in "+this.location},e}(Fi),so=function(){function t(t,e,n,r,i){this.span=t,this.key=e,this.keyIsVar=n,this.name=r,this.expression=i}return t}(),ao=function(){function t(){}return t.prototype.visitBinary=function(t,e){return t.left.visit(this),t.right.visit(this),null},t.prototype.visitChain=function(t,e){return this.visitAll(t.expressions,e)},t.prototype.visitConditional=function(t,e){return t.condition.visit(this),t.trueExp.visit(this),t.falseExp.visit(this),null},t.prototype.visitPipe=function(t,e){return t.exp.visit(this),this.visitAll(t.args,e),null},t.prototype.visitFunctionCall=function(t,e){return t.target.visit(this),this.visitAll(t.args,e),null},t.prototype.visitImplicitReceiver=function(t,e){return null},t.prototype.visitInterpolation=function(t,e){return this.visitAll(t.expressions,e)},t.prototype.visitKeyedRead=function(t,e){return t.obj.visit(this),t.key.visit(this),null},t.prototype.visitKeyedWrite=function(t,e){return t.obj.visit(this),t.key.visit(this),t.value.visit(this),null},t.prototype.visitLiteralArray=function(t,e){return this.visitAll(t.expressions,e)},t.prototype.visitLiteralMap=function(t,e){return this.visitAll(t.values,e)},t.prototype.visitLiteralPrimitive=function(t,e){return null},t.prototype.visitMethodCall=function(t,e){return t.receiver.visit(this),this.visitAll(t.args,e)},t.prototype.visitPrefixNot=function(t,e){return t.expression.visit(this),null},t.prototype.visitPropertyRead=function(t,e){return t.receiver.visit(this),null},t.prototype.visitPropertyWrite=function(t,e){return t.receiver.visit(this),t.value.visit(this),null},t.prototype.visitSafePropertyRead=function(t,e){return t.receiver.visit(this),null},t.prototype.visitSafeMethodCall=function(t,e){return t.receiver.visit(this),this.visitAll(t.args,e)},t.prototype.visitAll=function(t,e){var n=this;return t.forEach(function(t){return t.visit(n,e)}),null},t.prototype.visitQuote=function(t,e){return null},t}(),uo=function(){function t(){}return t.prototype.visitImplicitReceiver=function(t,e){return t},t.prototype.visitInterpolation=function(t,e){return new $i(t.span,t.strings,this.visitAll(t.expressions))},t.prototype.visitLiteralPrimitive=function(t,e){return new Qi(t.span,t.value)},t.prototype.visitPropertyRead=function(t,e){return new Gi(t.span,t.receiver.visit(this),t.name)},t.prototype.visitPropertyWrite=function(t,e){return new Wi(t.span,t.receiver.visit(this),t.name,t.value.visit(this))},t.prototype.visitSafePropertyRead=function(t,e){return new qi(t.span,t.receiver.visit(this),t.name)},t.prototype.visitMethodCall=function(t,e){return new no(t.span,t.receiver.visit(this),t.name,this.visitAll(t.args))},t.prototype.visitSafeMethodCall=function(t,e){return new ro(t.span,t.receiver.visit(this),t.name,this.visitAll(t.args))},t.prototype.visitFunctionCall=function(t,e){return new io(t.span,t.target.visit(this),this.visitAll(t.args))},t.prototype.visitLiteralArray=function(t,e){return new Ki(t.span,this.visitAll(t.expressions))},t.prototype.visitLiteralMap=function(t,e){return new Ji(t.span,t.keys,this.visitAll(t.values))},t.prototype.visitBinary=function(t,e){return new to(t.span,t.operation,t.left.visit(this),t.right.visit(this))},t.prototype.visitPrefixNot=function(t,e){return new eo(t.span,t.expression.visit(this))},t.prototype.visitConditional=function(t,e){return new zi(t.span,t.condition.visit(this),t.trueExp.visit(this),t.falseExp.visit(this))},t.prototype.visitPipe=function(t,e){return new Zi(t.span,t.exp.visit(this),t.name,this.visitAll(t.args))},t.prototype.visitKeyedRead=function(t,e){return new Xi(t.span,t.obj.visit(this),t.key.visit(this))},t.prototype.visitKeyedWrite=function(t,e){return new Yi(t.span,t.obj.visit(this),t.key.visit(this),t.value.visit(this))},t.prototype.visitAll=function(t){for(var e=new Array(t.length),n=0;n<t.length;++n)e[n]=t[n].visit(this);return e},t.prototype.visitChain=function(t,e){return new Hi(t.span,this.visitAll(t.expressions))},t.prototype.visitQuote=function(t,e){return new Ui(t.span,t.prefix,t.uninterpretedExpression,t.location)},t}(),co=0,lo=9,po=10,ho=11,fo=12,mo=13,vo=32,go=33,yo=34,_o=35,bo=36,wo=37,xo=38,Eo=39,So=40,Mo=41,Co=42,To=43,Ao=44,Po=45,Ro=46,Oo=47,Lo=58,Io=59,No=60,Do=61,ko=62,jo=63,Fo=48,Uo=57,Bo=65,Vo=69,Ho=70,zo=88,Go=90,Wo=91,qo=92,Xo=93,Yo=94,Zo=95,Qo=97,Ko=101,Jo=102,$o=110,ts=114,es=116,ns=117,rs=118,is=120,os=122,ss=123,as=124,us=125,cs=160,ls=96,ps=[/^\s*$/,/[<>]/,/^[{}]$/,/&(#|[a-z])/i,/^\/\//],hs=function(){function t(t,e){this.start=t,this.end=e}return t.fromArray=function(e){return e?(B("interpolation",e),new t(e[0],e[1])):fs},t}(),fs=new hs("{{","}}"),ds={};ds.Character=0,ds.Identifier=1,ds.Keyword=2,ds.String=3,ds.Operator=4,ds.Number=5,ds.Error=6,ds[ds.Character]="Character",ds[ds.Identifier]="Identifier",ds[ds.Keyword]="Keyword",ds[ds.String]="String",ds[ds.Operator]="Operator",ds[ds.Number]="Number",ds[ds.Error]="Error";var ms=["var","let","as","null","undefined","true","false","if","else","this"],vs=function(){function t(){}return t.prototype.tokenize=function(t){for(var e=new _s(t),n=[],r=e.scanToken();null!=r;)n.push(r),r=e.scanToken();return n},t}();vs.decorators=[{type:F}],vs.ctorParameters=function(){return[]};var gs=function(){function t(t,e,n,r){this.index=t,this.type=e,this.numValue=n,this.strValue=r}return t.prototype.isCharacter=function(t){return this.type==ds.Character&&this.numValue==t},t.prototype.isNumber=function(){return this.type==ds.Number},t.prototype.isString=function(){return this.type==ds.String},t.prototype.isOperator=function(t){return this.type==ds.Operator&&this.strValue==t},t.prototype.isIdentifier=function(){return this.type==ds.Identifier},t.prototype.isKeyword=function(){return this.type==ds.Keyword},t.prototype.isKeywordLet=function(){return this.type==ds.Keyword&&"let"==this.strValue},t.prototype.isKeywordAs=function(){return this.type==ds.Keyword&&"as"==this.strValue},t.prototype.isKeywordNull=function(){return this.type==ds.Keyword&&"null"==this.strValue},t.prototype.isKeywordUndefined=function(){return this.type==ds.Keyword&&"undefined"==this.strValue},t.prototype.isKeywordTrue=function(){return this.type==ds.Keyword&&"true"==this.strValue},t.prototype.isKeywordFalse=function(){return this.type==ds.Keyword&&"false"==this.strValue},t.prototype.isKeywordThis=function(){return this.type==ds.Keyword&&"this"==this.strValue},t.prototype.isError=function(){return this.type==ds.Error},t.prototype.toNumber=function(){return this.type==ds.Number?this.numValue:-1},t.prototype.toString=function(){switch(this.type){case ds.Character:case ds.Identifier:case ds.Keyword:case ds.Operator:case ds.String:case ds.Error:return this.strValue;case ds.Number:return this.numValue.toString();default:return null}},t}(),ys=new gs(-1,ds.Character,0,""),_s=function(){function t(t){this.input=t,this.peek=0,this.index=-1,this.length=t.length,this.advance()}return t.prototype.advance=function(){this.peek=++this.index>=this.length?co:this.input.charCodeAt(this.index)},t.prototype.scanToken=function(){for(var t=this.input,e=this.length,n=this.peek,r=this.index;n<=vo;){if(++r>=e){n=co;break}n=t.charCodeAt(r)}if(this.peek=n,this.index=r,r>=e)return null;if(Y(n))return this.scanIdentifier();if(D(n))return this.scanNumber(r);var i=r;switch(n){case Ro:return this.advance(),D(this.peek)?this.scanNumber(i):V(i,Ro);case So:case Mo:case ss:case us:case Wo:case Xo:case Ao:case Lo:case Io:return this.scanCharacter(i,n);case Eo:case yo:return this.scanString();case _o:case To:case Po:case Co:case Oo:case wo:case Yo:return this.scanOperator(i,String.fromCharCode(n));case jo:return this.scanComplexOperator(i,"?",Ro,".");case No:case ko:return this.scanComplexOperator(i,String.fromCharCode(n),Do,"=");case go:case Do:return this.scanComplexOperator(i,String.fromCharCode(n),Do,"=",Do,"=");case xo:return this.scanComplexOperator(i,"&",xo,"&");case as:return this.scanComplexOperator(i,"|",as,"|");case cs:for(;N(this.peek);)this.advance();return this.scanToken()}return this.advance(),this.error("Unexpected character ["+String.fromCharCode(n)+"]",0)},t.prototype.scanCharacter=function(t,e){return this.advance(),V(t,e)},t.prototype.scanOperator=function(t,e){return this.advance(),G(t,e)},t.prototype.scanComplexOperator=function(t,e,n,r,i,o){this.advance();var s=e;return this.peek==n&&(this.advance(),s+=r),null!=i&&this.peek==i&&(this.advance(),s+=o),G(t,s)},t.prototype.scanIdentifier=function(){var t=this.index;for(this.advance();Q(this.peek);)this.advance();var e=this.input.substring(t,this.index);return ms.indexOf(e)>-1?z(t,e):H(t,e)},t.prototype.scanNumber=function(t){var e=this.index===t;for(this.advance();;){if(D(this.peek));else if(this.peek==Ro)e=!1;else{if(!K(this.peek))break;if(this.advance(),J(this.peek)&&this.advance(),!D(this.peek))return this.error("Invalid exponent",-1);e=!1}this.advance()}var n=this.input.substring(t,this.index);return q(t,e?et(n):parseFloat(n))},t.prototype.scanString=function(){var t=this.index,e=this.peek;this.advance();for(var n="",r=this.index,i=this.input;this.peek!=e;)if(this.peek==qo){n+=i.substring(r,this.index),this.advance();var o=void 0;if(this.peek=this.peek,this.peek==ns){var s=i.substring(this.index+1,this.index+5);if(!/^[0-9a-f]+$/i.test(s))return this.error("Invalid unicode escape [\\u"+s+"]",0);o=parseInt(s,16);for(var a=0;a<5;a++)this.advance()}else o=tt(this.peek),this.advance();n+=String.fromCharCode(o),r=this.index}else{if(this.peek==co)return this.error("Unterminated quote",0);this.advance()}var u=i.substring(r,this.index);return this.advance(),W(t,n+u)},t.prototype.error=function(t,e){var n=this.index+e;return X(n,"Lexer Error: "+t+" at column "+n+" in expression ["+this.input+"]")},t}(),bs=function(){function t(t,e,n){this.strings=t,this.expressions=e,this.offsets=n}return t}(),ws=function(){function t(t,e,n){this.templateBindings=t,this.warnings=e,this.errors=n}return t}(),xs=function(){function t(t){this._lexer=t,this.errors=[]}return t.prototype.parseAction=function(t,e,n){void 0===n&&(n=fs),this._checkNoInterpolation(t,e,n);var r=this._stripComments(t);return new oo(new Es(t,e,this._lexer.tokenize(this._stripComments(t)),r.length,!0,this.errors,t.length-r.length).parseChain(),t,e,this.errors)},t.prototype.parseBinding=function(t,e,n){return void 0===n&&(n=fs),new oo(this._parseBindingAst(t,e,n),t,e,this.errors)},t.prototype.parseSimpleBinding=function(t,e,n){void 0===n&&(n=fs);var r=this._parseBindingAst(t,e,n),i=Ss.check(r);return i.length>0&&this._reportError("Host binding expression cannot contain "+i.join(" "),t,e),new oo(r,t,e,this.errors)},t.prototype._reportError=function(t,e,n,r){this.errors.push(new ki(t,e,n,r))},t.prototype._parseBindingAst=function(t,e,n){var r=this._parseQuote(t,e);if(null!=r)return r;this._checkNoInterpolation(t,e,n);var i=this._stripComments(t);return new Es(t,e,this._lexer.tokenize(i),i.length,!1,this.errors,t.length-i.length).parseChain()},t.prototype._parseQuote=function(t,e){if(null==t)return null;var n=t.indexOf(":");if(n==-1)return null;var r=t.substring(0,n).trim();if(!Z(r))return null;var i=t.substring(n+1);return new Ui(new ji(0,t.length),r,i,e)},t.prototype.parseTemplateBindings=function(t,e,n){var r=this._lexer.tokenize(e);if(t){var i=this._lexer.tokenize(t).map(function(t){return t.index=0,t});r.unshift.apply(r,i)}return new Es(e,n,r,e.length,!1,this.errors,0).parseTemplateBindings()},t.prototype.parseInterpolation=function(t,e,n){void 0===n&&(n=fs);var r=this.splitInterpolation(t,e,n);if(null==r)return null;for(var i=[],o=0;o<r.expressions.length;++o){var s=r.expressions[o],a=this._stripComments(s),u=this._lexer.tokenize(this._stripComments(r.expressions[o])),c=new Es(t,e,u,a.length,!1,this.errors,r.offsets[o]+(s.length-a.length)).parseChain();i.push(c)}return new oo(new $i(new ji(0,null==t?0:t.length),r.strings,i),t,e,this.errors)},t.prototype.splitInterpolation=function(t,e,n){void 0===n&&(n=fs);var r=nt(n),i=t.split(r);if(i.length<=1)return null;for(var o=[],s=[],a=[],u=0,c=0;c<i.length;c++){var l=i[c];c%2==0?(o.push(l),u+=l.length):l.trim().length>0?(u+=n.start.length,s.push(l),a.push(u),u+=l.length+n.end.length):(this._reportError("Blank expressions are not allowed in interpolated strings",t,"at column "+this._findInterpolationErrorColumn(i,c,n)+" in",e),s.push("$implict"),a.push(u))}return new bs(o,s,a)},t.prototype.wrapLiteralPrimitive=function(t,e){return new oo(new Qi(new ji(0,null==t?0:t.length),t),t,e,this.errors)},t.prototype._stripComments=function(t){var e=this._commentStart(t);return null!=e?t.substring(0,e).trim():t},t.prototype._commentStart=function(t){for(var e=null,n=0;n<t.length-1;n++){var r=t.charCodeAt(n),i=t.charCodeAt(n+1);if(r===Oo&&i==Oo&&null==e)return n;e===r?e=null:null==e&&$(r)&&(e=r)}return null},t.prototype._checkNoInterpolation=function(t,e,n){var r=nt(n),i=t.split(r);i.length>1&&this._reportError("Got interpolation ("+n.start+n.end+") where expression was expected",t,"at column "+this._findInterpolationErrorColumn(i,1,n)+" in",e)},t.prototype._findInterpolationErrorColumn=function(t,e,n){for(var r="",i=0;i<e;i++)r+=i%2==0?t[i]:""+n.start+t[i]+n.end;return r.length},t}();xs.decorators=[{type:F}],xs.ctorParameters=function(){return[{type:vs}]};var Es=function(){function t(t,e,n,r,i,o,s){this.input=t,this.location=e,this.tokens=n,this.inputLength=r,this.parseAction=i,this.errors=o,this.offset=s,this.rparensExpected=0,this.rbracketsExpected=0,this.rbracesExpected=0,this.index=0}return t.prototype.peek=function(t){var e=this.index+t;return e<this.tokens.length?this.tokens[e]:ys},Object.defineProperty(t.prototype,"next",{get:function(){return this.peek(0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputIndex",{get:function(){return this.index<this.tokens.length?this.next.index+this.offset:this.inputLength+this.offset},enumerable:!0,configurable:!0}),t.prototype.span=function(t){return new ji(t,this.inputIndex)},t.prototype.advance=function(){this.index++},t.prototype.optionalCharacter=function(t){return!!this.next.isCharacter(t)&&(this.advance(),!0)},t.prototype.peekKeywordLet=function(){return this.next.isKeywordLet()},t.prototype.peekKeywordAs=function(){return this.next.isKeywordAs()},t.prototype.expectCharacter=function(t){this.optionalCharacter(t)||this.error("Missing expected "+String.fromCharCode(t))},t.prototype.optionalOperator=function(t){return!!this.next.isOperator(t)&&(this.advance(),!0)},t.prototype.expectOperator=function(t){this.optionalOperator(t)||this.error("Missing expected operator "+t)},t.prototype.expectIdentifierOrKeyword=function(){var t=this.next;return t.isIdentifier()||t.isKeyword()?(this.advance(),t.toString()):(this.error("Unexpected token "+t+", expected identifier or keyword"),"")},t.prototype.expectIdentifierOrKeywordOrString=function(){var t=this.next;return t.isIdentifier()||t.isKeyword()||t.isString()?(this.advance(),t.toString()):(this.error("Unexpected token "+t+", expected identifier, keyword, or string"),"")},t.prototype.parseChain=function(){for(var t=[],e=this.inputIndex;this.index<this.tokens.length;){var n=this.parsePipe();if(t.push(n),this.optionalCharacter(Io))for(this.parseAction||this.error("Binding expression cannot contain chained expression");this.optionalCharacter(Io););else this.index<this.tokens.length&&this.error("Unexpected token '"+this.next+"'")}return 0==t.length?new Bi(this.span(e)):1==t.length?t[0]:new Hi(this.span(e),t)},t.prototype.parsePipe=function(){var t=this.parseExpression();if(this.optionalOperator("|")){this.parseAction&&this.error("Cannot have a pipe in an action expression");do{for(var e=this.expectIdentifierOrKeyword(),n=[];this.optionalCharacter(Lo);)n.push(this.parseExpression());t=new Zi(this.span(t.span.start),t,e,n)}while(this.optionalOperator("|"))}return t},t.prototype.parseExpression=function(){return this.parseConditional()},t.prototype.parseConditional=function(){var t=this.inputIndex,e=this.parseLogicalOr();if(this.optionalOperator("?")){var n=this.parsePipe(),r=void 0;if(this.optionalCharacter(Lo))r=this.parsePipe();else{var i=this.inputIndex,o=this.input.substring(t,i);this.error("Conditional expression "+o+" requires all 3 expressions"),r=new Bi(this.span(t))}return new zi(this.span(t),e,n,r)}return e},t.prototype.parseLogicalOr=function(){for(var t=this.parseLogicalAnd();this.optionalOperator("||");){var e=this.parseLogicalAnd();t=new to(this.span(t.span.start),"||",t,e)}return t},t.prototype.parseLogicalAnd=function(){for(var t=this.parseEquality();this.optionalOperator("&&");){var e=this.parseEquality();t=new to(this.span(t.span.start),"&&",t,e)}return t},t.prototype.parseEquality=function(){for(var t=this.parseRelational();this.next.type==ds.Operator;){var e=this.next.strValue;switch(e){case"==":case"===":case"!=":case"!==":this.advance();var n=this.parseRelational();t=new to(this.span(t.span.start),e,t,n);continue}break}return t},t.prototype.parseRelational=function(){for(var t=this.parseAdditive();this.next.type==ds.Operator;){var e=this.next.strValue;switch(e){case"<":case">":case"<=":case">=":this.advance();var n=this.parseAdditive();t=new to(this.span(t.span.start),e,t,n);continue}break}return t},t.prototype.parseAdditive=function(){for(var t=this.parseMultiplicative();this.next.type==ds.Operator;){var e=this.next.strValue;switch(e){case"+":case"-":this.advance();var n=this.parseMultiplicative();t=new to(this.span(t.span.start),e,t,n);continue}break}return t},t.prototype.parseMultiplicative=function(){for(var t=this.parsePrefix();this.next.type==ds.Operator;){var e=this.next.strValue;switch(e){case"*":case"%":case"/":this.advance();var n=this.parsePrefix();t=new to(this.span(t.span.start),e,t,n);continue}break}return t},t.prototype.parsePrefix=function(){if(this.next.type==ds.Operator){var t=this.inputIndex,e=this.next.strValue,n=void 0;switch(e){case"+":return this.advance(),this.parsePrefix();case"-":return this.advance(),n=this.parsePrefix(),new to(this.span(t),e,new Qi(new ji(t,t),0),n);case"!":return this.advance(),n=this.parsePrefix(),new eo(this.span(t),n)}}return this.parseCallChain()},t.prototype.parseCallChain=function(){for(var t=this.parsePrimary();;)if(this.optionalCharacter(Ro))t=this.parseAccessMemberOrMethodCall(t,!1);else if(this.optionalOperator("?."))t=this.parseAccessMemberOrMethodCall(t,!0);else if(this.optionalCharacter(Wo)){this.rbracketsExpected++;var e=this.parsePipe();if(this.rbracketsExpected--,this.expectCharacter(Xo),this.optionalOperator("=")){var n=this.parseConditional();t=new Yi(this.span(t.span.start),t,e,n)}else t=new Xi(this.span(t.span.start),t,e)}else{if(!this.optionalCharacter(So))return t;this.rparensExpected++;var r=this.parseCallArguments();this.rparensExpected--,this.expectCharacter(Mo),t=new io(this.span(t.span.start),t,r)}},t.prototype.parsePrimary=function(){var t=this.inputIndex;if(this.optionalCharacter(So)){this.rparensExpected++;var e=this.parsePipe();return this.rparensExpected--,this.expectCharacter(Mo),e}if(this.next.isKeywordNull())return this.advance(),new Qi(this.span(t),null);if(this.next.isKeywordUndefined())return this.advance(),new Qi(this.span(t),void 0);if(this.next.isKeywordTrue())return this.advance(),new Qi(this.span(t),!0);if(this.next.isKeywordFalse())return this.advance(),new Qi(this.span(t),!1);if(this.next.isKeywordThis())return this.advance(),new Vi(this.span(t));if(this.optionalCharacter(Wo)){this.rbracketsExpected++;var n=this.parseExpressionList(Xo);return this.rbracketsExpected--,this.expectCharacter(Xo),new Ki(this.span(t),n)}if(this.next.isCharacter(ss))return this.parseLiteralMap();if(this.next.isIdentifier())return this.parseAccessMemberOrMethodCall(new Vi(this.span(t)),!1);if(this.next.isNumber()){var r=this.next.toNumber();return this.advance(),new Qi(this.span(t),r)}if(this.next.isString()){var i=this.next.toString();return this.advance(),new Qi(this.span(t),i)}return this.index>=this.tokens.length?(this.error("Unexpected end of expression: "+this.input),new Bi(this.span(t))):(this.error("Unexpected token "+this.next),new Bi(this.span(t)))},t.prototype.parseExpressionList=function(t){var e=[];if(!this.next.isCharacter(t))do{e.push(this.parsePipe())}while(this.optionalCharacter(Ao));return e},t.prototype.parseLiteralMap=function(){var t=[],e=[],n=this.inputIndex;if(this.expectCharacter(ss),!this.optionalCharacter(us)){this.rbracesExpected++;do{var r=this.expectIdentifierOrKeywordOrString();t.push(r),this.expectCharacter(Lo),e.push(this.parsePipe())}while(this.optionalCharacter(Ao));this.rbracesExpected--,this.expectCharacter(us)}return new Ji(this.span(n),t,e)},t.prototype.parseAccessMemberOrMethodCall=function(t,e){void 0===e&&(e=!1);var n=t.span.start,r=this.expectIdentifierOrKeyword();if(this.optionalCharacter(So)){this.rparensExpected++;var i=this.parseCallArguments();this.expectCharacter(Mo),this.rparensExpected--;var o=this.span(n);return e?new ro(o,t,r,i):new no(o,t,r,i)}if(e)return this.optionalOperator("=")?(this.error("The '?.' operator cannot be used in the assignment"),new Bi(this.span(n))):new qi(this.span(n),t,r);if(this.optionalOperator("=")){if(!this.parseAction)return this.error("Bindings cannot contain assignments"),new Bi(this.span(n));var s=this.parseConditional();return new Wi(this.span(n),t,r,s)}return new Gi(this.span(n),t,r)},t.prototype.parseCallArguments=function(){if(this.next.isCharacter(Mo))return[];var t=[];do{t.push(this.parsePipe())}while(this.optionalCharacter(Ao));return t},t.prototype.expectTemplateBindingKey=function(){var t="",e=!1;do{t+=this.expectIdentifierOrKeywordOrString(),(e=this.optionalOperator("-"))&&(t+="-")}while(e);return t.toString()},t.prototype.parseTemplateBindings=function(){for(var t=[],e=null,n=[];this.index<this.tokens.length;){var r=this.inputIndex,i=this.peekKeywordLet();i&&this.advance();var o=this.expectTemplateBindingKey(),s=o;i||(null==e?e=s:s=e+s[0].toUpperCase()+s.substring(1)),this.optionalCharacter(Lo);var a=null,u=null;if(i)a=this.optionalOperator("=")?this.expectTemplateBindingKey():"$implicit";else if(this.peekKeywordAs()){var c=this.inputIndex;this.advance(),a=o,s=this.expectTemplateBindingKey(),i=!0}else if(this.next!==ys&&!this.peekKeywordLet()){var l=this.inputIndex,p=this.parsePipe(),h=this.input.substring(l-this.offset,this.inputIndex-this.offset);u=new oo(p,h,this.location,this.errors)}if(t.push(new so(this.span(r),s,i,a,u)),this.peekKeywordAs()&&!i){var c=this.inputIndex;this.advance();var f=this.expectTemplateBindingKey();t.push(new so(this.span(c),f,!0,s,null))}this.optionalCharacter(Io)||this.optionalCharacter(Ao)}return new ws(t,n,this.errors)},t.prototype.error=function(t,e){void 0===e&&(e=null),this.errors.push(new ki(t,this.input,this.locationText(e),this.location)),this.skip()},t.prototype.locationText=function(t){return void 0===t&&(t=null),null==t&&(t=this.index),t<this.tokens.length?"at column "+(this.tokens[t].index+1)+" in":"at the end of the expression"},t.prototype.skip=function(){for(var t=this.next;this.index<this.tokens.length&&!t.isCharacter(Io)&&(this.rparensExpected<=0||!t.isCharacter(Mo))&&(this.rbracesExpected<=0||!t.isCharacter(us))&&(this.rbracketsExpected<=0||!t.isCharacter(Xo));)this.next.isError()&&this.errors.push(new ki(this.next.toString(),this.input,this.locationText(),this.location)),this.advance(),t=this.next},t}(),Ss=function(){function t(){this.errors=[]}return t.check=function(e){var n=new t;return e.visit(n),n.errors},t.prototype.visitImplicitReceiver=function(t,e){},t.prototype.visitInterpolation=function(t,e){},t.prototype.visitLiteralPrimitive=function(t,e){},t.prototype.visitPropertyRead=function(t,e){},t.prototype.visitPropertyWrite=function(t,e){},t.prototype.visitSafePropertyRead=function(t,e){},t.prototype.visitMethodCall=function(t,e){},t.prototype.visitSafeMethodCall=function(t,e){},t.prototype.visitFunctionCall=function(t,e){},t.prototype.visitLiteralArray=function(t,e){this.visitAll(t.expressions)},t.prototype.visitLiteralMap=function(t,e){this.visitAll(t.values)},t.prototype.visitBinary=function(t,e){},t.prototype.visitPrefixNot=function(t,e){},t.prototype.visitConditional=function(t,e){},t.prototype.visitPipe=function(t,e){this.errors.push("pipes")},t.prototype.visitKeyedRead=function(t,e){},t.prototype.visitKeyedWrite=function(t,e){},t.prototype.visitAll=function(t){var e=this;return t.map(function(t){return t.visit(e)})},t.prototype.visitChain=function(t,e){},t.prototype.visitQuote=function(t,e){},t}(),Ms=function(){function t(t,e,n,r){this.file=t,this.offset=e,this.line=n,this.col=r}return t.prototype.toString=function(){return null!=this.offset?this.file.url+"@"+this.line+":"+this.col:this.file.url},t.prototype.moveBy=function(e){for(var n=this.file.content,r=n.length,i=this.offset,o=this.line,s=this.col;i>0&&e<0;){i--,e++;var a=n.charCodeAt(i);if(a==po){o--;var u=n.substr(0,i-1).lastIndexOf(String.fromCharCode(po));s=u>0?i-u:i}else s--}for(;i<r&&e>0;){var a=n.charCodeAt(i);i++,e--,a==po?(o++,s=0):s++}return new t(this.file,i,o,s)},t.prototype.getContext=function(t,e){var n=this.file.content,r=this.offset;if(null!=r){r>n.length-1&&(r=n.length-1);for(var i=r,o=0,s=0;o<t&&r>0&&(r--,o++,"\n"!=n[r]||++s!=e););for(o=0,s=0;o<t&&i<n.length-1&&(i++,o++,"\n"!=n[i]||++s!=e););return{before:n.substring(r,this.offset),after:n.substring(this.offset,i+1)}}return null},t}(),Cs=function(){function t(t,e){this.content=t,this.url=e}return t}(),Ts=function(){function t(t,e,n){void 0===n&&(n=null),this.start=t,this.end=e,this.details=n}return t.prototype.toString=function(){return this.start.file.content.substring(this.start.offset,this.end.offset)},t}(),As={};As.WARNING=0,As.ERROR=1,As[As.WARNING]="WARNING",As[As.ERROR]="ERROR";var Ps=function(){function t(t,e,n){void 0===n&&(n=As.ERROR),this.span=t,this.msg=e,this.level=n}return t.prototype.toString=function(){var t=this.span.start.getContext(100,3),e=t?' ("'+t.before+"["+As[this.level]+" ->]"+t.after+'")':"",n=this.span.details?", "+this.span.details:"";return""+this.msg+e+": "+this.span.start+n},t}(),Rs=function(){function t(t,e){this.value=t,this.sourceSpan=e}return t.prototype.visit=function(t,e){return t.visitText(this,e)},t}(),Os=function(){function t(t,e,n,r,i){this.switchValue=t,this.type=e,this.cases=n,this.sourceSpan=r,this.switchValueSourceSpan=i}return t.prototype.visit=function(t,e){return t.visitExpansion(this,e)},t}(),Ls=function(){function t(t,e,n,r,i){this.value=t,this.expression=e,this.sourceSpan=n,this.valueSourceSpan=r,this.expSourceSpan=i}return t.prototype.visit=function(t,e){return t.visitExpansionCase(this,e)},t}(),Is=function(){function t(t,e,n,r){this.name=t,this.value=e,this.sourceSpan=n,this.valueSpan=r}return t.prototype.visit=function(t,e){return t.visitAttribute(this,e)},t}(),Ns=function(){function t(t,e,n,r,i,o){this.name=t,this.attrs=e,this.children=n,this.sourceSpan=r,this.startSourceSpan=i,this.endSourceSpan=o}return t.prototype.visit=function(t,e){return t.visitElement(this,e)},t}(),Ds=function(){function t(t,e){this.value=t,this.sourceSpan=e}return t.prototype.visit=function(t,e){return t.visitComment(this,e)},t}(),ks={};ks.TAG_OPEN_START=0,ks.TAG_OPEN_END=1,ks.TAG_OPEN_END_VOID=2,ks.TAG_CLOSE=3,ks.TEXT=4,ks.ESCAPABLE_RAW_TEXT=5,ks.RAW_TEXT=6,ks.COMMENT_START=7,ks.COMMENT_END=8,ks.CDATA_START=9,ks.CDATA_END=10,ks.ATTR_NAME=11,ks.ATTR_VALUE=12,ks.DOC_TYPE=13,ks.EXPANSION_FORM_START=14,ks.EXPANSION_CASE_VALUE=15,ks.EXPANSION_CASE_EXP_START=16,ks.EXPANSION_CASE_EXP_END=17,ks.EXPANSION_FORM_END=18,ks.EOF=19,ks[ks.TAG_OPEN_START]="TAG_OPEN_START",ks[ks.TAG_OPEN_END]="TAG_OPEN_END",ks[ks.TAG_OPEN_END_VOID]="TAG_OPEN_END_VOID",ks[ks.TAG_CLOSE]="TAG_CLOSE",ks[ks.TEXT]="TEXT",ks[ks.ESCAPABLE_RAW_TEXT]="ESCAPABLE_RAW_TEXT",ks[ks.RAW_TEXT]="RAW_TEXT",ks[ks.COMMENT_START]="COMMENT_START",ks[ks.COMMENT_END]="COMMENT_END",ks[ks.CDATA_START]="CDATA_START",ks[ks.CDATA_END]="CDATA_END",ks[ks.ATTR_NAME]="ATTR_NAME",ks[ks.ATTR_VALUE]="ATTR_VALUE",ks[ks.DOC_TYPE]="DOC_TYPE",ks[ks.EXPANSION_FORM_START]="EXPANSION_FORM_START",ks[ks.EXPANSION_CASE_VALUE]="EXPANSION_CASE_VALUE",ks[ks.EXPANSION_CASE_EXP_START]="EXPANSION_CASE_EXP_START",ks[ks.EXPANSION_CASE_EXP_END]="EXPANSION_CASE_EXP_END",ks[ks.EXPANSION_FORM_END]="EXPANSION_FORM_END",ks[ks.EOF]="EOF";var js=function(){function t(t,e,n){this.type=t,this.parts=e,this.sourceSpan=n}return t}(),Fs=function(t){function e(e,n,r){var i=t.call(this,r,e)||this;return i.tokenType=n,i}return Hr(e,t),e}(Ps),Us=function(){function t(t,e){this.tokens=t,this.errors=e}return t}(),Bs=/\r\n?/g,Vs=function(){function t(t){this.error=t}return t}(),Hs=function(){function t(t,e,n,r){void 0===r&&(r=fs),this._file=t,this._getTagDefinition=e,this._tokenizeIcu=n,this._interpolationConfig=r,this._peek=-1,this._nextPeek=-1,this._index=-1,this._line=0,this._column=-1,this._expansionCaseStack=[],this._inInterpolation=!1,this.tokens=[],this.errors=[],this._input=t.content,this._length=t.content.length,this._advance()}return t.prototype._processCarriageReturns=function(t){return t.replace(Bs,"\n")},t.prototype.tokenize=function(){for(;this._peek!==co;){var t=this._getLocation();try{this._attemptCharCode(No)?this._attemptCharCode(go)?this._attemptCharCode(Wo)?this._consumeCdata(t):this._attemptCharCode(Po)?this._consumeComment(t):this._consumeDocType(t):this._attemptCharCode(Oo)?this._consumeTagClose(t):this._consumeTagOpen(t):this._tokenizeIcu&&this._tokenizeExpansionForm()||this._consumeText()}catch(t){if(!(t instanceof Vs))throw t;this.errors.push(t.error)}}return this._beginToken(ks.EOF),this._endToken([]),new Us(gt(this.tokens),this.errors)},t.prototype._tokenizeExpansionForm=function(){if(ft(this._input,this._index,this._interpolationConfig))return this._consumeExpansionFormStart(),!0;if(dt(this._peek)&&this._isInExpansionForm())return this._consumeExpansionCaseStart(),!0;if(this._peek===us){if(this._isInExpansionCase())return this._consumeExpansionCaseEnd(),!0;if(this._isInExpansionForm())return this._consumeExpansionFormEnd(),!0}return!1},t.prototype._getLocation=function(){return new Ms(this._file,this._index,this._line,this._column)},t.prototype._getSpan=function(t,e){return void 0===t&&(t=this._getLocation()),void 0===e&&(e=this._getLocation()),new Ts(t,e)},t.prototype._beginToken=function(t,e){void 0===e&&(e=this._getLocation()),this._currentTokenStart=e,this._currentTokenType=t},t.prototype._endToken=function(t,e){void 0===e&&(e=this._getLocation());var n=new js(this._currentTokenType,t,new Ts(this._currentTokenStart,e));return this.tokens.push(n),this._currentTokenStart=null,this._currentTokenType=null,n},t.prototype._createError=function(t,e){this._isInExpansionForm()&&(t+=' (Do you have an unescaped "{" in your template? Use "{{ \'{\' }}") to escape it.)');var n=new Fs(t,this._currentTokenType,e);return this._currentTokenStart=null,this._currentTokenType=null,new Vs(n)},t.prototype._advance=function(){if(this._index>=this._length)throw this._createError(st(co),this._getSpan());this._peek===po?(this._line++,this._column=0):this._peek!==po&&this._peek!==mo&&this._column++,this._index++,this._peek=this._index>=this._length?co:this._input.charCodeAt(this._index),this._nextPeek=this._index+1>=this._length?co:this._input.charCodeAt(this._index+1)},t.prototype._attemptCharCode=function(t){return this._peek===t&&(this._advance(),!0)},t.prototype._attemptCharCodeCaseInsensitive=function(t){return!!mt(this._peek,t)&&(this._advance(),!0)},t.prototype._requireCharCode=function(t){var e=this._getLocation();if(!this._attemptCharCode(t))throw this._createError(st(this._peek),this._getSpan(e,e))},t.prototype._attemptStr=function(t){var e=t.length;if(this._index+e>this._length)return!1;for(var n=this._savePosition(),r=0;r<e;r++)if(!this._attemptCharCode(t.charCodeAt(r)))return this._restorePosition(n),!1;return!0},t.prototype._attemptStrCaseInsensitive=function(t){for(var e=0;e<t.length;e++)if(!this._attemptCharCodeCaseInsensitive(t.charCodeAt(e)))return!1;return!0},t.prototype._requireStr=function(t){var e=this._getLocation();if(!this._attemptStr(t))throw this._createError(st(this._peek),this._getSpan(e))},t.prototype._attemptCharCodeUntilFn=function(t){for(;!t(this._peek);)this._advance()},t.prototype._requireCharCodeUntilFn=function(t,e){var n=this._getLocation();if(this._attemptCharCodeUntilFn(t),this._index-n.offset<e)throw this._createError(st(this._peek),this._getSpan(n,n))},t.prototype._attemptUntilChar=function(t){for(;this._peek!==t;)this._advance()},t.prototype._readChar=function(t){if(t&&this._peek===xo)return this._decodeEntity();var e=this._index;return this._advance(),this._input[e]},t.prototype._decodeEntity=function(){var t=this._getLocation();if(this._advance(),!this._attemptCharCode(_o)){var e=this._savePosition();if(this._attemptCharCodeUntilFn(ht),this._peek!=Io)return this._restorePosition(e),"&";this._advance();var n=this._input.substring(t.offset+1,this._index-1),r=ai[n];if(!r)throw this._createError(at(n),this._getSpan(t));return r}var i=this._attemptCharCode(is)||this._attemptCharCode(zo),o=this._getLocation().offset;if(this._attemptCharCodeUntilFn(pt),this._peek!=Io)throw this._createError(st(this._peek),this._getSpan());this._advance();var s=this._input.substring(o,this._index-1);try{var a=parseInt(s,i?16:10);return String.fromCharCode(a)}catch(e){var u=this._input.substring(t.offset+1,this._index-1);throw this._createError(at(u),this._getSpan(t))}},t.prototype._consumeRawText=function(t,e,n){var r,i=this._getLocation();this._beginToken(t?ks.ESCAPABLE_RAW_TEXT:ks.RAW_TEXT,i);for(var o=[];;){if(r=this._getLocation(),this._attemptCharCode(e)&&n())break;for(this._index>r.offset&&o.push(this._input.substring(r.offset,this._index));this._peek!==e;)o.push(this._readChar(t))}return this._endToken([this._processCarriageReturns(o.join(""))],r)},t.prototype._consumeComment=function(t){var e=this;this._beginToken(ks.COMMENT_START,t),this._requireCharCode(Po),this._endToken([]);var n=this._consumeRawText(!1,Po,function(){return e._attemptStr("->")});this._beginToken(ks.COMMENT_END,n.sourceSpan.end),this._endToken([])},t.prototype._consumeCdata=function(t){var e=this;this._beginToken(ks.CDATA_START,t),this._requireStr("CDATA["),this._endToken([]);var n=this._consumeRawText(!1,Xo,function(){return e._attemptStr("]>")});this._beginToken(ks.CDATA_END,n.sourceSpan.end),this._endToken([])},t.prototype._consumeDocType=function(t){this._beginToken(ks.DOC_TYPE,t),this._attemptUntilChar(ko),this._advance(),this._endToken([this._input.substring(t.offset+2,this._index-1)])},t.prototype._consumePrefixAndName=function(){for(var t=this._index,e=null;this._peek!==Lo&&!lt(this._peek);)this._advance();var n;return this._peek===Lo?(this._advance(),e=this._input.substring(t,this._index-1),n=this._index):n=t,this._requireCharCodeUntilFn(ct,this._index===n?1:0),[e,this._input.substring(n,this._index)]},t.prototype._consumeTagOpen=function(t){var e,n,r=this._savePosition();try{if(!k(this._peek))throw this._createError(st(this._peek),this._getSpan());var i=this._index;for(this._consumeTagOpenStart(t),e=this._input.substring(i,this._index),n=e.toLowerCase(),this._attemptCharCodeUntilFn(ut);this._peek!==Oo&&this._peek!==ko;)this._consumeAttributeName(),this._attemptCharCodeUntilFn(ut),this._attemptCharCode(Do)&&(this._attemptCharCodeUntilFn(ut),this._consumeAttributeValue()),this._attemptCharCodeUntilFn(ut);this._consumeTagOpenEnd()}catch(e){if(e instanceof Vs)return this._restorePosition(r),this._beginToken(ks.TEXT,t),void this._endToken(["<"]);throw e}var o=this._getTagDefinition(e).contentType;o===si.RAW_TEXT?this._consumeRawTextWithTagClose(n,!1):o===si.ESCAPABLE_RAW_TEXT&&this._consumeRawTextWithTagClose(n,!0)},t.prototype._consumeRawTextWithTagClose=function(t,e){var n=this,r=this._consumeRawText(e,No,function(){return!!n._attemptCharCode(Oo)&&(n._attemptCharCodeUntilFn(ut),!!n._attemptStrCaseInsensitive(t)&&(n._attemptCharCodeUntilFn(ut),n._attemptCharCode(ko)))});this._beginToken(ks.TAG_CLOSE,r.sourceSpan.end),this._endToken([null,t])},t.prototype._consumeTagOpenStart=function(t){this._beginToken(ks.TAG_OPEN_START,t);var e=this._consumePrefixAndName();this._endToken(e)},t.prototype._consumeAttributeName=function(){this._beginToken(ks.ATTR_NAME);var t=this._consumePrefixAndName();this._endToken(t)},t.prototype._consumeAttributeValue=function(){this._beginToken(ks.ATTR_VALUE);var t;if(this._peek===Eo||this._peek===yo){var e=this._peek;this._advance();for(var n=[];this._peek!==e;)n.push(this._readChar(!0));t=n.join(""),this._advance()}else{var r=this._index;this._requireCharCodeUntilFn(ct,1),t=this._input.substring(r,this._index)}this._endToken([this._processCarriageReturns(t)])},t.prototype._consumeTagOpenEnd=function(){var t=this._attemptCharCode(Oo)?ks.TAG_OPEN_END_VOID:ks.TAG_OPEN_END;this._beginToken(t),this._requireCharCode(ko),this._endToken([])},t.prototype._consumeTagClose=function(t){this._beginToken(ks.TAG_CLOSE,t),this._attemptCharCodeUntilFn(ut);var e=this._consumePrefixAndName();this._attemptCharCodeUntilFn(ut),this._requireCharCode(ko),this._endToken(e)},t.prototype._consumeExpansionFormStart=function(){this._beginToken(ks.EXPANSION_FORM_START,this._getLocation()),this._requireCharCode(ss),this._endToken([]),this._expansionCaseStack.push(ks.EXPANSION_FORM_START),this._beginToken(ks.RAW_TEXT,this._getLocation());var t=this._readUntil(Ao);this._endToken([t],this._getLocation()),this._requireCharCode(Ao),this._attemptCharCodeUntilFn(ut),this._beginToken(ks.RAW_TEXT,this._getLocation());var e=this._readUntil(Ao);this._endToken([e],this._getLocation()),this._requireCharCode(Ao),this._attemptCharCodeUntilFn(ut)},t.prototype._consumeExpansionCaseStart=function(){this._beginToken(ks.EXPANSION_CASE_VALUE,this._getLocation());var t=this._readUntil(ss).trim();this._endToken([t],this._getLocation()),this._attemptCharCodeUntilFn(ut),this._beginToken(ks.EXPANSION_CASE_EXP_START,this._getLocation()),this._requireCharCode(ss),this._endToken([],this._getLocation()),this._attemptCharCodeUntilFn(ut),this._expansionCaseStack.push(ks.EXPANSION_CASE_EXP_START)},t.prototype._consumeExpansionCaseEnd=function(){this._beginToken(ks.EXPANSION_CASE_EXP_END,this._getLocation()),this._requireCharCode(us),this._endToken([],this._getLocation()),this._attemptCharCodeUntilFn(ut),this._expansionCaseStack.pop()},t.prototype._consumeExpansionFormEnd=function(){this._beginToken(ks.EXPANSION_FORM_END,this._getLocation()),this._requireCharCode(us),this._endToken([]),this._expansionCaseStack.pop()},t.prototype._consumeText=function(){var t=this._getLocation();this._beginToken(ks.TEXT,t);var e=[];do{this._interpolationConfig&&this._attemptStr(this._interpolationConfig.start)?(e.push(this._interpolationConfig.start),this._inInterpolation=!0):this._interpolationConfig&&this._inInterpolation&&this._attemptStr(this._interpolationConfig.end)?(e.push(this._interpolationConfig.end),this._inInterpolation=!1):e.push(this._readChar(!0))}while(!this._isTextEnd());this._endToken([this._processCarriageReturns(e.join(""))])},t.prototype._isTextEnd=function(){if(this._peek===No||this._peek===co)return!0;if(this._tokenizeIcu&&!this._inInterpolation){if(ft(this._input,this._index,this._interpolationConfig))return!0;if(this._peek===us&&this._isInExpansionCase())return!0}return!1},t.prototype._savePosition=function(){return[this._peek,this._index,this._column,this._line,this.tokens.length]},t.prototype._readUntil=function(t){var e=this._index;return this._attemptUntilChar(t),this._input.substring(e,this._index)},t.prototype._restorePosition=function(t){this._peek=t[0],this._index=t[1],this._column=t[2],this._line=t[3];var e=t[4];e<this.tokens.length&&(this.tokens=this.tokens.slice(0,e))},t.prototype._isInExpansionCase=function(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===ks.EXPANSION_CASE_EXP_START},t.prototype._isInExpansionForm=function(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===ks.EXPANSION_FORM_START},t}(),zs=function(t){function e(e,n,r){var i=t.call(this,n,r)||this;return i.elementName=e,i}return Hr(e,t),e.create=function(t,n,r){return new e(t,n,r)},e}(Ps),Gs=function(){function t(t,e){this.rootNodes=t,this.errors=e}return t}(),Ws=function(){function t(t){this.getTagDefinition=t}return t.prototype.parse=function(t,e,n,r){void 0===n&&(n=!1),void 0===r&&(r=fs);var i=ot(t,e,this.getTagDefinition,n,r),o=new qs(i.tokens,this.getTagDefinition).build();return new Gs(o.rootNodes,i.errors.concat(o.errors))},t}(),qs=function(){function t(t,e){this.tokens=t,this.getTagDefinition=e,this._index=-1,this._rootNodes=[],this._errors=[],this._elementStack=[],this._advance()}return t.prototype.build=function(){for(;this._peek.type!==ks.EOF;)this._peek.type===ks.TAG_OPEN_START?this._consumeStartTag(this._advance()):this._peek.type===ks.TAG_CLOSE?this._consumeEndTag(this._advance()):this._peek.type===ks.CDATA_START?(this._closeVoidElement(),this._consumeCdata(this._advance())):this._peek.type===ks.COMMENT_START?(this._closeVoidElement(),this._consumeComment(this._advance())):this._peek.type===ks.TEXT||this._peek.type===ks.RAW_TEXT||this._peek.type===ks.ESCAPABLE_RAW_TEXT?(this._closeVoidElement(),this._consumeText(this._advance())):this._peek.type===ks.EXPANSION_FORM_START?this._consumeExpansion(this._advance()):this._advance();return new Gs(this._rootNodes,this._errors)},t.prototype._advance=function(){var t=this._peek;return this._index<this.tokens.length-1&&this._index++,this._peek=this.tokens[this._index],t},t.prototype._advanceIf=function(t){return this._peek.type===t?this._advance():null},t.prototype._consumeCdata=function(t){this._consumeText(this._advance()),this._advanceIf(ks.CDATA_END)},t.prototype._consumeComment=function(t){var e=this._advanceIf(ks.RAW_TEXT);this._advanceIf(ks.COMMENT_END);var n=null!=e?e.parts[0].trim():null;this._addToParent(new Ds(n,t.sourceSpan))},t.prototype._consumeExpansion=function(t){for(var e=this._advance(),n=this._advance(),r=[];this._peek.type===ks.EXPANSION_CASE_VALUE;){var i=this._parseExpansionCase();if(!i)return;r.push(i)}if(this._peek.type!==ks.EXPANSION_FORM_END)return void this._errors.push(zs.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '}'."));var o=new Ts(t.sourceSpan.start,this._peek.sourceSpan.end);this._addToParent(new Os(e.parts[0],n.parts[0],r,o,e.sourceSpan)),this._advance()},t.prototype._parseExpansionCase=function(){var e=this._advance();if(this._peek.type!==ks.EXPANSION_CASE_EXP_START)return this._errors.push(zs.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '{'.")),null;var n=this._advance(),r=this._collectExpansionExpTokens(n);if(!r)return null;var i=this._advance();r.push(new js(ks.EOF,[],i.sourceSpan));var o=new t(r,this.getTagDefinition).build();if(o.errors.length>0)return this._errors=this._errors.concat(o.errors),null;var s=new Ts(e.sourceSpan.start,i.sourceSpan.end),a=new Ts(n.sourceSpan.start,i.sourceSpan.end);return new Ls(e.parts[0],o.rootNodes,s,e.sourceSpan,a)},t.prototype._collectExpansionExpTokens=function(t){for(var e=[],n=[ks.EXPANSION_CASE_EXP_START];;){if(this._peek.type!==ks.EXPANSION_FORM_START&&this._peek.type!==ks.EXPANSION_CASE_EXP_START||n.push(this._peek.type),this._peek.type===ks.EXPANSION_CASE_EXP_END){if(!yt(n,ks.EXPANSION_CASE_EXP_START))return this._errors.push(zs.create(null,t.sourceSpan,"Invalid ICU message. Missing '}'.")),null;if(n.pop(),0==n.length)return e}if(this._peek.type===ks.EXPANSION_FORM_END){if(!yt(n,ks.EXPANSION_FORM_START))return this._errors.push(zs.create(null,t.sourceSpan,"Invalid ICU message. Missing '}'.")),null;n.pop()}if(this._peek.type===ks.EOF)return this._errors.push(zs.create(null,t.sourceSpan,"Invalid ICU message. Missing '}'.")),null;e.push(this._advance())}},t.prototype._consumeText=function(t){var e=t.parts[0];if(e.length>0&&"\n"==e[0]){var n=this._getParentElement();null!=n&&0==n.children.length&&this.getTagDefinition(n.name).ignoreFirstLf&&(e=e.substring(1))}e.length>0&&this._addToParent(new Rs(e,t.sourceSpan))},t.prototype._closeVoidElement=function(){if(this._elementStack.length>0){var t=this._elementStack[this._elementStack.length-1];this.getTagDefinition(t.name).isVoid&&this._elementStack.pop()}},t.prototype._consumeStartTag=function(t){for(var e=t.parts[0],n=t.parts[1],r=[];this._peek.type===ks.ATTR_NAME;)r.push(this._consumeAttr(this._advance()));var i=this._getElementFullName(e,n,this._getParentElement()),s=!1;if(this._peek.type===ks.TAG_OPEN_END_VOID){this._advance(),s=!0;var a=this.getTagDefinition(i);a.canSelfClose||null!==o(i)||a.isVoid||this._errors.push(zs.create(i,t.sourceSpan,'Only void and foreign elements can be self closed "'+t.parts[1]+'"'))}else this._peek.type===ks.TAG_OPEN_END&&(this._advance(),s=!1);var u=this._peek.sourceSpan.start,c=new Ts(t.sourceSpan.start,u),l=new Ns(i,r,[],c,c,null);this._pushElement(l),s&&(this._popElement(i),l.endSourceSpan=c)},t.prototype._pushElement=function(t){if(this._elementStack.length>0){var e=this._elementStack[this._elementStack.length-1];this.getTagDefinition(e.name).isClosedByChild(t.name)&&this._elementStack.pop()}var n=this.getTagDefinition(t.name),r=this._getParentElementSkippingContainers(),i=r.parent,o=r.container;if(i&&n.requireExtraParent(i.name)){var s=new Ns(n.parentToAdd,[],[],t.sourceSpan,t.startSourceSpan,t.endSourceSpan);this._insertBeforeContainer(i,o,s)}this._addToParent(t),this._elementStack.push(t)},t.prototype._consumeEndTag=function(t){var e=this._getElementFullName(t.parts[0],t.parts[1],this._getParentElement());if(this._getParentElement()&&(this._getParentElement().endSourceSpan=t.sourceSpan),this.getTagDefinition(e).isVoid)this._errors.push(zs.create(e,t.sourceSpan,'Void elements do not have end tags "'+t.parts[1]+'"'));else if(!this._popElement(e)){var n='Unexpected closing tag "'+e+'". It may happen when the tag has already been closed by another tag. For more info see https://www.w3.org/TR/html5/syntax.html#closing-elements-that-have-implied-end-tags';this._errors.push(zs.create(e,t.sourceSpan,n))}},t.prototype._popElement=function(t){for(var e=this._elementStack.length-1;e>=0;e--){var n=this._elementStack[e];if(n.name==t)return this._elementStack.splice(e,this._elementStack.length-e),!0;if(!this.getTagDefinition(n.name).closedByParent)return!1}return!1},t.prototype._consumeAttr=function(t){var e,n=s(t.parts[0],t.parts[1]),r=t.sourceSpan.end,i="";if(this._peek.type===ks.ATTR_VALUE){var o=this._advance();i=o.parts[0],r=o.sourceSpan.end,e=o.sourceSpan}return new Is(n,i,new Ts(t.sourceSpan.start,r),e)},t.prototype._getParentElement=function(){return this._elementStack.length>0?this._elementStack[this._elementStack.length-1]:null},t.prototype._getParentElementSkippingContainers=function(){for(var t=null,e=this._elementStack.length-1;e>=0;e--){if("ng-container"!==this._elementStack[e].name)return{parent:this._elementStack[e],container:t};t=this._elementStack[e]}return{parent:this._elementStack[this._elementStack.length-1],container:t}},t.prototype._addToParent=function(t){var e=this._getParentElement();null!=e?e.children.push(t):this._rootNodes.push(t)},t.prototype._insertBeforeContainer=function(t,e,n){if(e){if(t){var r=t.children.indexOf(e);t.children[r]=n}else this._rootNodes.push(n);n.children.push(e),this._elementStack.splice(this._elementStack.indexOf(e),0,n)}else this._addToParent(n),this._elementStack.push(n)},t.prototype._getElementFullName=function(t,e,n){return null==t&&null==(t=this.getTagDefinition(e).implicitNamespacePrefix)&&null!=n&&(t=o(n.name)),s(t,e)},t}(),Xs=function(){function t(t,e,n,r,i,o){this.nodes=t,this.placeholders=e,this.placeholderToMessage=n,this.meaning=r,this.description=i,this.id=o}return t}(),Ys=function(){function t(t,e){this.value=t,this.sourceSpan=e}return t.prototype.visit=function(t,e){return t.visitText(this,e)},t}(),Zs=function(){function t(t,e){this.children=t,this.sourceSpan=e}return t.prototype.visit=function(t,e){return t.visitContainer(this,e)},t}(),Qs=function(){function t(t,e,n,r){this.expression=t,this.type=e,this.cases=n,this.sourceSpan=r}return t.prototype.visit=function(t,e){return t.visitIcu(this,e)},t}(),Ks=function(){function t(t,e,n,r,i,o,s){this.tag=t,this.attrs=e,this.startName=n,this.closeName=r,this.children=i,this.isVoid=o,this.sourceSpan=s}return t.prototype.visit=function(t,e){return t.visitTagPlaceholder(this,e)},t}(),Js=function(){function t(t,e,n){this.value=t,this.name=e,this.sourceSpan=n}return t.prototype.visit=function(t,e){return t.visitPlaceholder(this,e)},t}(),$s=function(){function t(t,e,n){this.value=t,this.name=e,this.sourceSpan=n}return t.prototype.visit=function(t,e){return t.visitIcuPlaceholder(this,e)},t}(),ta=function(){function t(){}return t.prototype.visitText=function(t,e){return new Ys(t.value,t.sourceSpan)},t.prototype.visitContainer=function(t,e){var n=this;return new Zs(t.children.map(function(t){return t.visit(n,e)}),t.sourceSpan)},t.prototype.visitIcu=function(t,e){var n=this,r={};Object.keys(t.cases).forEach(function(i){return r[i]=t.cases[i].visit(n,e)});var i=new Qs(t.expression,t.type,r,t.sourceSpan);return i.expressionPlaceholder=t.expressionPlaceholder,i},t.prototype.visitTagPlaceholder=function(t,e){var n=this,r=t.children.map(function(t){return t.visit(n,e)});return new Ks(t.tag,t.attrs,t.startName,t.closeName,r,t.isVoid,t.sourceSpan)},t.prototype.visitPlaceholder=function(t,e){return new Js(t.value,t.name,t.sourceSpan)},t.prototype.visitIcuPlaceholder=function(t,e){return new $s(t.value,t.name,t.sourceSpan)},t}(),ea=function(){function t(){}return t.prototype.visitText=function(t,e){},t.prototype.visitContainer=function(t,e){var n=this;t.children.forEach(function(t){return t.visit(n)})},t.prototype.visitIcu=function(t,e){var n=this;Object.keys(t.cases).forEach(function(e){t.cases[e].visit(n)})},t.prototype.visitTagPlaceholder=function(t,e){var n=this;t.children.forEach(function(t){return t.visit(n)})},t.prototype.visitPlaceholder=function(t,e){},t.prototype.visitIcuPlaceholder=function(t,e){},t}(),na={A:"LINK",B:"BOLD_TEXT",BR:"LINE_BREAK",EM:"EMPHASISED_TEXT",H1:"HEADING_LEVEL1",H2:"HEADING_LEVEL2",H3:"HEADING_LEVEL3",H4:"HEADING_LEVEL4",H5:"HEADING_LEVEL5",H6:"HEADING_LEVEL6",HR:"HORIZONTAL_RULE",I:"ITALIC_TEXT",LI:"LIST_ITEM",LINK:"MEDIA_LINK",OL:"ORDERED_LIST",P:"PARAGRAPH",Q:"QUOTATION",S:"STRIKETHROUGH_TEXT",SMALL:"SMALL_TEXT",SUB:"SUBSTRIPT",SUP:"SUPERSCRIPT",TBODY:"TABLE_BODY",TD:"TABLE_CELL",TFOOT:"TABLE_FOOTER",TH:"TABLE_HEADER_CELL",THEAD:"TABLE_HEADER",TR:"TABLE_ROW",TT:"MONOSPACED_TEXT",U:"UNDERLINED_TEXT",UL:"UNORDERED_LIST"},ra=function(){function t(){this._placeHolderNameCounts={},this._signatureToName={}}return t.prototype.getStartTagPlaceholderName=function(t,e,n){var r=this._hashTag(t,e,n);if(this._signatureToName[r])return this._signatureToName[r];var i=t.toUpperCase(),o=na[i]||"TAG_"+i,s=this._generateUniqueName(n?o:"START_"+o);return this._signatureToName[r]=s,s},t.prototype.getCloseTagPlaceholderName=function(t){var e=this._hashClosingTag(t);if(this._signatureToName[e])return this._signatureToName[e];var n=t.toUpperCase(),r=na[n]||"TAG_"+n,i=this._generateUniqueName("CLOSE_"+r);return this._signatureToName[e]=i,i},t.prototype.getPlaceholderName=function(t,e){var n=t.toUpperCase(),r="PH: "+n+"="+e;if(this._signatureToName[r])return this._signatureToName[r];var i=this._generateUniqueName(n);return this._signatureToName[r]=i,i},t.prototype.getUniquePlaceholder=function(t){return this._generateUniqueName(t.toUpperCase())},t.prototype._hashTag=function(t,e,n){return"<"+t+Object.keys(e).sort().map(function(t){return" "+t+"="+e[t]}).join("")+(n?"/>":"></"+t+">")},t.prototype._hashClosingTag=function(t){return this._hashTag("/"+t,{},!1)},t.prototype._generateUniqueName=function(t){if(!this._placeHolderNameCounts.hasOwnProperty(t))return this._placeHolderNameCounts[t]=1,t;var e=this._placeHolderNameCounts[t];return this._placeHolderNameCounts[t]=e+1,t+"_"+e},t}(),ia=new xs(new vs),oa=function(){function t(t,e){this._expressionParser=t,this._interpolationConfig=e}return t.prototype.toI18nMessage=function(t,e,n,r){return this._isIcu=1==t.length&&t[0]instanceof Os,this._icuDepth=0,this._placeholderRegistry=new ra,this._placeholderToContent={},this._placeholderToMessage={},new Xs(it(this,t,{}),this._placeholderToContent,this._placeholderToMessage,e,n,r)},t.prototype.visitElement=function(t,e){var n=it(this,t.children),r={};t.attrs.forEach(function(t){r[t.name]=t.value});var i=a(t.name).isVoid,o=this._placeholderRegistry.getStartTagPlaceholderName(t.name,r,i);this._placeholderToContent[o]=t.sourceSpan.toString();var s="";return i||(s=this._placeholderRegistry.getCloseTagPlaceholderName(t.name),this._placeholderToContent[s]="</"+t.name+">"),new Ks(t.name,r,o,s,n,i,t.sourceSpan)},t.prototype.visitAttribute=function(t,e){return this._visitTextWithInterpolation(t.value,t.sourceSpan)},t.prototype.visitText=function(t,e){return this._visitTextWithInterpolation(t.value,t.sourceSpan)},t.prototype.visitComment=function(t,e){return null},t.prototype.visitExpansion=function(e,n){var r=this;this._icuDepth++;var i={},o=new Qs(e.switchValue,e.type,i,e.sourceSpan);if(e.cases.forEach(function(t){i[t.value]=new Zs(t.expression.map(function(t){return t.visit(r,{})}),t.expSourceSpan)}),this._icuDepth--,this._isIcu||this._icuDepth>0){var s=this._placeholderRegistry.getUniquePlaceholder("VAR_"+e.type);return o.expressionPlaceholder=s,this._placeholderToContent[s]=e.switchValue,o}var a=this._placeholderRegistry.getPlaceholderName("ICU",e.sourceSpan.toString()),u=new t(this._expressionParser,this._interpolationConfig);return this._placeholderToMessage[a]=u.toI18nMessage([e],"","",""),new $s(o,a,e.sourceSpan)},t.prototype.visitExpansionCase=function(t,e){throw new Error("Unreachable code")},t.prototype._visitTextWithInterpolation=function(t,e){var n=this._expressionParser.splitInterpolation(t,e.start.toString(),this._interpolationConfig);if(!n)return new Ys(t,e);for(var r=[],i=new Zs(r,e),o=this._interpolationConfig,s=o.start,a=o.end,u=0;u<n.strings.length-1;u++){var c=n.expressions[u],l=bt(c)||"INTERPOLATION",p=this._placeholderRegistry.getPlaceholderName(l,c);n.strings[u].length&&r.push(new Ys(n.strings[u],e)),r.push(new Js(c,p,e)),this._placeholderToContent[p]=s+c+a}var h=n.strings.length-1;return n.strings[h].length&&r.push(new Ys(n.strings[h],e)),i},t}(),sa=/\/\/[\s\S]*i18n[\s\S]*\([\s\S]*ph[\s\S]*=[\s\S]*("|')([\s\S]*?)\1[\s\S]*\)/g,aa=function(t){function e(e,n){return t.call(this,e,n)||this}return Hr(e,t),e}(Ps),ua="i18n",ca="i18n-",la=/^i18n:?/,pa="|",ha="@@",fa=function(){function t(t,e){this.messages=t,this.errors=e}return t}(),da={};da.Extract=0,da.Merge=1,da[da.Extract]="Extract",da[da.Merge]="Merge";var ma=function(){function t(t,e){this._implicitTags=t,this._implicitAttrs=e}return t.prototype.extract=function(t,e){var n=this;return this._init(da.Extract,e),t.forEach(function(t){return t.visit(n,null)}),this._inI18nBlock&&this._reportError(t[t.length-1],"Unclosed block"),new fa(this._messages,this._errors)},t.prototype.merge=function(t,e,n){this._init(da.Merge,n),this._translations=e;var r=new Ns("wrapper",[],t,null,null,null),i=r.visit(this,null);return this._inI18nBlock&&this._reportError(t[t.length-1],"Unclosed block"),new Gs(i.children,this._errors)},t.prototype.visitExpansionCase=function(t,e){var n=it(this,t.expression,e);if(this._mode===da.Merge)return new Ls(t.value,n,t.sourceSpan,t.valueSourceSpan,t.expSourceSpan)},t.prototype.visitExpansion=function(t,e){this._mayBeAddBlockChildren(t);var n=this._inIcu;this._inIcu||(this._isInTranslatableSection&&this._addMessage([t]),this._inIcu=!0);var r=it(this,t.cases,e);return this._mode===da.Merge&&(t=new Os(t.switchValue,t.type,r,t.sourceSpan,t.switchValueSourceSpan)),this._inIcu=n,t},t.prototype.visitComment=function(t,e){var n=Et(t);if(n&&this._isInTranslatableSection)return void this._reportError(t,"Could not start a block inside a translatable section");var r=St(t);if(r&&!this._inI18nBlock)return void this._reportError(t,"Trying to close an unopened block");if(!this._inI18nNode&&!this._inIcu)if(this._inI18nBlock){if(r){if(this._depth==this._blockStartDepth){this._closeTranslatableSection(t,this._blockChildren),this._inI18nBlock=!1;var i=this._addMessage(this._blockChildren,this._blockMeaningAndDesc),o=this._translateMessage(t,i);return it(this,o)}return void this._reportError(t,"I18N blocks should not cross element boundaries")}}else n&&(this._inI18nBlock=!0,this._blockStartDepth=this._depth,this._blockChildren=[],this._blockMeaningAndDesc=t.value.replace(la,"").trim(),this._openTranslatableSection(t))},t.prototype.visitText=function(t,e){return this._isInTranslatableSection&&this._mayBeAddBlockChildren(t),t},t.prototype.visitElement=function(t,e){var n=this;this._mayBeAddBlockChildren(t),this._depth++;var r,i=this._inI18nNode,o=this._inImplicitNode,s=[],a=Mt(t),u=a?a.value:"",c=this._implicitTags.some(function(e){return t.name===e})&&!this._inIcu&&!this._isInTranslatableSection,l=!o&&c;if(this._inImplicitNode=o||c,this._isInTranslatableSection||this._inIcu)(a||l)&&this._reportError(t,"Could not mark an element as translatable inside a translatable section"),this._mode==da.Extract&&it(this,t.children);else{if(a||l){this._inI18nNode=!0;var p=this._addMessage(t.children,u);r=this._translateMessage(t,p)}if(this._mode==da.Extract){var h=a||l;h&&this._openTranslatableSection(t),it(this,t.children),h&&this._closeTranslatableSection(t,t.children)}}if(this._mode===da.Merge){(r||t.children).forEach(function(t){var r=t.visit(n,e);r&&!n._isInTranslatableSection&&(s=s.concat(r))})}if(this._visitAttributesOf(t),this._depth--,this._inI18nNode=i,this._inImplicitNode=o,this._mode===da.Merge){var f=this._translateAttributes(t);return new Ns(t.name,f,s,t.sourceSpan,t.startSourceSpan,t.endSourceSpan)}},t.prototype.visitAttribute=function(t,e){throw new Error("unreachable code")},t.prototype._init=function(t,e){this._mode=t,this._inI18nBlock=!1,this._inI18nNode=!1,this._depth=0,this._inIcu=!1,this._msgCountAtSectionStart=void 0,this._errors=[],this._messages=[],this._inImplicitNode=!1,this._createI18nMessage=_t(e)},t.prototype._visitAttributesOf=function(t){var e=this,n={},r=this._implicitAttrs[t.name]||[];t.attrs.filter(function(t){return t.name.startsWith(ca)}).forEach(function(t){return n[t.name.slice(ca.length)]=t.value}),t.attrs.forEach(function(t){t.name in n?e._addMessage([t],n[t.name]):r.some(function(e){return t.name===e})&&e._addMessage([t])})},t.prototype._addMessage=function(t,e){if(!(0==t.length||1==t.length&&t[0]instanceof Is&&!t[0].value)){var n=Ct(e),r=n.meaning,i=n.description,o=n.id,s=this._createI18nMessage(t,r,i,o);return this._messages.push(s),s}},t.prototype._translateMessage=function(t,e){if(e&&this._mode===da.Merge){var n=this._translations.get(e);if(n)return n;this._reportError(t,'Translation unavailable for message id="'+this._translations.digest(e)+'"')}return[]},t.prototype._translateAttributes=function(t){var e=this,n=t.attrs,r={};n.forEach(function(t){t.name.startsWith(ca)&&(r[t.name.slice(ca.length)]=Ct(t.value))});var i=[];return n.forEach(function(n){if(n.name!==ua&&!n.name.startsWith(ca))if(n.value&&""!=n.value&&r.hasOwnProperty(n.name)){var o=r[n.name],s=o.meaning,a=o.description,u=o.id,c=e._createI18nMessage([n],s,a,u),l=e._translations.get(c);if(l)if(0==l.length)i.push(new Is(n.name,"",n.sourceSpan));else if(l[0]instanceof Rs){var p=l[0].value;i.push(new Is(n.name,p,n.sourceSpan))}else e._reportError(t,'Unexpected translation for attribute "'+n.name+'" (id="'+(u||e._translations.digest(c))+'")');else e._reportError(t,'Translation unavailable for attribute "'+n.name+'" (id="'+(u||e._translations.digest(c))+'")')}else i.push(n)}),i},t.prototype._mayBeAddBlockChildren=function(t){this._inI18nBlock&&!this._inIcu&&this._depth==this._blockStartDepth&&this._blockChildren.push(t)},t.prototype._openTranslatableSection=function(t){this._isInTranslatableSection?this._reportError(t,"Unexpected section start"):this._msgCountAtSectionStart=this._messages.length},Object.defineProperty(t.prototype,"_isInTranslatableSection",{get:function(){return void 0!==this._msgCountAtSectionStart},enumerable:!0,configurable:!0}),t.prototype._closeTranslatableSection=function(t,e){if(!this._isInTranslatableSection)return void this._reportError(t,"Unexpected section end");var n=this._msgCountAtSectionStart;if(1==e.reduce(function(t,e){return t+(e instanceof Ds?0:1)},0))for(var r=this._messages.length-1;r>=n;r--){var i=this._messages[r].nodes;if(!(1==i.length&&i[0]instanceof Ys)){this._messages.splice(r,1);break}}this._msgCountAtSectionStart=void 0},t.prototype._reportError=function(t,e){this._errors.push(new aa(t.sourceSpan,e))},t}(),va=function(){function t(){this.closedByParent=!1,this.contentType=si.PARSABLE_DATA,this.isVoid=!1,this.ignoreFirstLf=!1,this.canSelfClose=!0}return t.prototype.requireExtraParent=function(t){return!1},t.prototype.isClosedByChild=function(t){return!1},t}(),ga=new va,ya=function(t){function e(){return t.call(this,Tt)||this}return Hr(e,t),e.prototype.parse=function(e,n,r){return void 0===r&&(r=!1),t.prototype.parse.call(this,e,n,r,null)},e}(Ws),_a=function(){function t(){}return t.prototype.visitText=function(t,e){return t.value},t.prototype.visitContainer=function(t,e){var n=this;return"["+t.children.map(function(t){return t.visit(n)}).join(", ")+"]"},t.prototype.visitIcu=function(t,e){var n=this,r=Object.keys(t.cases).map(function(e){return e+" {"+t.cases[e].visit(n)+"}"});return"{"+t.expression+", "+t.type+", "+r.join(", ")+"}"},t.prototype.visitTagPlaceholder=function(t,e){var n=this;return t.isVoid?'<ph tag name="'+t.startName+'"/>':'<ph tag name="'+t.startName+'">'+t.children.map(function(t){return t.visit(n)}).join(", ")+'</ph name="'+t.closeName+'">'},t.prototype.visitPlaceholder=function(t,e){return t.value?'<ph name="'+t.name+'">'+t.value+"</ph>":'<ph name="'+t.name+'"/>'},t.prototype.visitIcuPlaceholder=function(t,e){return'<ph icu name="'+t.name+'">'+t.value.visit(this)+"</ph>"},t}(),ba=new _a,wa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Hr(e,t),e.prototype.visitIcu=function(t,e){var n=this,r=Object.keys(t.cases).map(function(e){return e+" {"+t.cases[e].visit(n)+"}"});return"{"+t.type+", "+r.join(", ")+"}"},e}(_a),xa={};xa.Little=0,xa.Big=1,xa[xa.Little]="Little",xa[xa.Big]="Big";/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var Ea=function(){function t(){}return t.prototype.write=function(t,e){},t.prototype.load=function(t,e){},t.prototype.digest=function(t){},t.prototype.createNameMapper=function(t){return null},t}(),Sa=function(t){function e(e,n){var r=t.call(this)||this;return r.mapName=n,r.internalToPublic={},r.publicToNextId={},r.publicToInternal={},e.nodes.forEach(function(t){return t.visit(r)}),r}return Hr(e,t),e.prototype.toPublicName=function(t){return this.internalToPublic.hasOwnProperty(t)?this.internalToPublic[t]:null},e.prototype.toInternalName=function(t){return this.publicToInternal.hasOwnProperty(t)?this.publicToInternal[t]:null},e.prototype.visitText=function(t,e){return null},e.prototype.visitTagPlaceholder=function(e,n){this.visitPlaceholderName(e.startName),t.prototype.visitTagPlaceholder.call(this,e,n),this.visitPlaceholderName(e.closeName)},e.prototype.visitPlaceholder=function(t,e){this.visitPlaceholderName(t.name)},e.prototype.visitIcuPlaceholder=function(t,e){this.visitPlaceholderName(t.name)},e.prototype.visitPlaceholderName=function(t){if(t&&!this.internalToPublic.hasOwnProperty(t)){var e=this.mapName(t);if(this.publicToInternal.hasOwnProperty(e)){var n=this.publicToNextId[e];this.publicToNextId[e]=n+1,e=e+"_"+n}else this.publicToNextId[e]=1;this.internalToPublic[t]=e,this.publicToInternal[e]=t}},e}(ea),Ma=function(){function t(){}return t.prototype.visitTag=function(t){var e=this,n=this._serializeAttributes(t.attrs);if(0==t.children.length)return"<"+t.name+n+"/>";var r=t.children.map(function(t){return t.visit(e)});return"<"+t.name+n+">"+r.join("")+"</"+t.name+">"},t.prototype.visitText=function(t){return t.value},t.prototype.visitDeclaration=function(t){return"<?xml"+this._serializeAttributes(t.attrs)+" ?>"},t.prototype._serializeAttributes=function(t){var e=Object.keys(t).map(function(e){return e+'="'+t[e]+'"'}).join(" ");return e.length>0?" "+e:""},t.prototype.visitDoctype=function(t){return"<!DOCTYPE "+t.rootTag+" [\n"+t.dtd+"\n]>"},t}(),Ca=new Ma,Ta=function(){function t(t){var e=this;this.attrs={},Object.keys(t).forEach(function(n){e.attrs[n]=$t(t[n])})}return t.prototype.visit=function(t){return t.visitDeclaration(this)},t}(),Aa=function(){function t(t,e){this.rootTag=t,this.dtd=e}return t.prototype.visit=function(t){return t.visitDoctype(this)},t}(),Pa=function(){function t(t,e,n){void 0===e&&(e={}),void 0===n&&(n=[]);var r=this;this.name=t,this.children=n,this.attrs={},Object.keys(e).forEach(function(t){r.attrs[t]=$t(e[t])})}return t.prototype.visit=function(t){return t.visitTag(this)},t}(),Ra=function(){function t(t){this.value=$t(t)}return t.prototype.visit=function(t){return t.visitText(this)},t}(),Oa=function(t){function e(e){return void 0===e&&(e=0),t.call(this,"\n"+new Array(e+1).join(" "))||this}return Hr(e,t),e}(Ra),La=[[/&/g,"&amp;"],[/"/g,"&quot;"],[/'/g,"&apos;"],[/</g,"&lt;"],[/>/g,"&gt;"]],Ia="1.2",Na="urn:oasis:names:tc:xliff:document:1.2",Da="en",ka="x",ja="file",Fa="source",Ua="target",Ba="trans-unit",Va=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Hr(e,t),e.prototype.write=function(t,e){var n=new Ha,r=[];t.forEach(function(t){var e=new Pa(Ba,{id:t.id,datatype:"html"});e.children.push(new Oa(8),new Pa(Fa,{},n.serialize(t.nodes)),new Oa(8),new Pa(Ua)),t.description&&e.children.push(new Oa(8),new Pa("note",{priority:"1",from:"description"},[new Ra(t.description)])),t.meaning&&e.children.push(new Oa(8),new Pa("note",{priority:"1",from:"meaning"},[new Ra(t.meaning)])),e.children.push(new Oa(6)),r.push(new Oa(6),e)});var i=new Pa("body",{},r.concat([new Oa(4)])),o=new Pa("file",{"source-language":e||Da,datatype:"plaintext",original:"ng2.template"},[new Oa(4),i,new Oa(2)]),s=new Pa("xliff",{version:Ia,xmlns:Na},[new Oa(2),o,new Oa]);return Jt([new Ta({version:"1.0",encoding:"UTF-8"}),new Oa,s,new Oa])},e.prototype.load=function(t,e){var n=new za,r=n.parse(t,e),i=r.locale,o=r.mlNodesByMsgId,s=r.errors,a={},u=new Ga;if(Object.keys(o).forEach(function(t){var e=u.convert(o[t]),n=e.i18nNodes,r=e.errors;s.push.apply(s,r),a[t]=n}),s.length)throw new Error("xliff parse errors:\n"+s.join("\n"));return{locale:i,i18nNodesByMsgId:a}},e.prototype.digest=function(t){return At(t)},e}(Ea),Ha=function(){function t(){}return t.prototype.visitText=function(t,e){return[new Ra(t.value)]},t.prototype.visitContainer=function(t,e){var n=this,r=[];return t.children.forEach(function(t){return r.push.apply(r,t.visit(n))}),r},t.prototype.visitIcu=function(t,e){if(this._isInIcu)throw new Error("xliff does not support nested ICU messages");this._isInIcu=!0;var n=[];return this._isInIcu=!1,n},t.prototype.visitTagPlaceholder=function(t,e){var n=te(t.tag),r=new Pa(ka,{id:t.startName,ctype:n});if(t.isVoid)return[r];var i=new Pa(ka,{id:t.closeName,ctype:n});return[r].concat(this.serialize(t.children),[i])},t.prototype.visitPlaceholder=function(t,e){return[new Pa(ka,{id:t.name})]},t.prototype.visitIcuPlaceholder=function(t,e){return[new Pa(ka,{id:t.name})]},t.prototype.serialize=function(t){var e=this;return this._isInIcu=!1,[].concat.apply([],t.map(function(t){return t.visit(e)}))},t}(),za=function(){function t(){this._locale=null}return t.prototype.parse=function(t,e){this._unitMlNodes=[],this._mlNodesByMsgId={};var n=(new ya).parse(t,e,!1);return this._errors=n.errors,it(this,n.rootNodes,null),{mlNodesByMsgId:this._mlNodesByMsgId,errors:this._errors,locale:this._locale}},t.prototype.visitElement=function(t,e){switch(t.name){case Ba:this._unitMlNodes=null;var n=t.attrs.find(function(t){return"id"===t.name});if(n){var r=n.value;this._mlNodesByMsgId.hasOwnProperty(r)?this._addError(t,"Duplicated translations for msg "+r):(it(this,t.children,null),this._unitMlNodes?this._mlNodesByMsgId[r]=this._unitMlNodes:this._addError(t,"Message "+r+" misses a translation"))}else this._addError(t,"<"+Ba+'> misses the "id" attribute');break;case Fa:break;case Ua:this._unitMlNodes=t.children;break;case ja:var i=t.attrs.find(function(t){return"target-language"===t.name});i&&(this._locale=i.value),it(this,t.children,null);break;default:it(this,t.children,null)}},t.prototype.visitAttribute=function(t,e){},t.prototype.visitText=function(t,e){},t.prototype.visitComment=function(t,e){},t.prototype.visitExpansion=function(t,e){},t.prototype.visitExpansionCase=function(t,e){},t.prototype._addError=function(t,e){this._errors.push(new aa(t.sourceSpan,e))},t}(),Ga=function(){function t(){}return t.prototype.convert=function(t){return this._errors=[],{i18nNodes:it(this,t),errors:this._errors}},t.prototype.visitText=function(t,e){return new Ys(t.value,t.sourceSpan)},t.prototype.visitElement=function(t,e){if(t.name===ka){var n=t.attrs.find(function(t){return"id"===t.name});if(n)return new Js("",n.value,t.sourceSpan);this._addError(t,"<"+ka+'> misses the "id" attribute')}else this._addError(t,"Unexpected tag")},t.prototype.visitExpansion=function(t,e){},t.prototype.visitExpansionCase=function(t,e){},t.prototype.visitComment=function(t,e){},t.prototype.visitAttribute=function(t,e){},t.prototype._addError=function(t,e){this._errors.push(new aa(t.sourceSpan,e))},t}(),Wa="messagebundle",qa="msg",Xa="ph",Ya="ex",Za='<!ELEMENT messagebundle (msg)*>\n<!ATTLIST messagebundle class CDATA #IMPLIED>\n\n<!ELEMENT msg (#PCDATA|ph|source)*>\n<!ATTLIST msg id CDATA #IMPLIED>\n<!ATTLIST msg seq CDATA #IMPLIED>\n<!ATTLIST msg name CDATA #IMPLIED>\n<!ATTLIST msg desc CDATA #IMPLIED>\n<!ATTLIST msg meaning CDATA #IMPLIED>\n<!ATTLIST msg obsolete (obsolete) #IMPLIED>\n<!ATTLIST msg xml:space (default|preserve) "default">\n<!ATTLIST msg is_hidden CDATA #IMPLIED>\n\n<!ELEMENT source (#PCDATA)>\n\n<!ELEMENT ph (#PCDATA|ex)*>\n<!ATTLIST ph name CDATA #REQUIRED>\n\n<!ELEMENT ex (#PCDATA)>',Qa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Hr(e,t),e.prototype.write=function(t,e){var n=new Ja,r=new Ka,i=new Pa(Wa);return t.forEach(function(t){var e={id:t.id};t.description&&(e.desc=t.description),t.meaning&&(e.meaning=t.meaning),i.children.push(new Oa(2),new Pa(qa,e,r.serialize(t.nodes)))}),i.children.push(new Oa),Jt([new Ta({version:"1.0",encoding:"UTF-8"}),new Oa,new Aa(Wa,Za),new Oa,n.addDefaultExamples(i),new Oa])},e.prototype.load=function(t,e){throw new Error("Unsupported")},e.prototype.digest=function(t){return ee(t)},e.prototype.createNameMapper=function(t){return new Sa(t,ne)},e}(Ea),Ka=function(){function t(){}return t.prototype.visitText=function(t,e){return[new Ra(t.value)]},t.prototype.visitContainer=function(t,e){var n=this,r=[];return t.children.forEach(function(t){return r.push.apply(r,t.visit(n))}),r},t.prototype.visitIcu=function(t,e){var n=this,r=[new Ra("{"+t.expressionPlaceholder+", "+t.type+", ")];return Object.keys(t.cases).forEach(function(e){r.push.apply(r,[new Ra(e+" {")].concat(t.cases[e].visit(n),[new Ra("} ")]))}),r.push(new Ra("}")),r},t.prototype.visitTagPlaceholder=function(t,e){var n=new Pa(Ya,{},[new Ra("<"+t.tag+">")]),r=new Pa(Xa,{name:t.startName},[n]);if(t.isVoid)return[r];var i=new Pa(Ya,{},[new Ra("</"+t.tag+">")]),o=new Pa(Xa,{name:t.closeName},[i]);return[r].concat(this.serialize(t.children),[o])},t.prototype.visitPlaceholder=function(t,e){return[new Pa(Xa,{name:t.name})]},t.prototype.visitIcuPlaceholder=function(t,e){return[new Pa(Xa,{name:t.name})]},t.prototype.serialize=function(t){var e=this;return[].concat.apply([],t.map(function(t){return t.visit(e)}))},t}(),Ja=function(){function t(){}return t.prototype.addDefaultExamples=function(t){return t.visit(this),t},t.prototype.visitTag=function(t){var e=this;if(t.name===Xa){if(!t.children||0==t.children.length){var n=new Ra(t.attrs.name||"...");t.children=[new Pa(Ya,{},[n])]}}else t.children&&t.children.forEach(function(t){return t.visit(e)})},t.prototype.visitText=function(t){},t.prototype.visitDeclaration=function(t){},t.prototype.visitDoctype=function(t){},t}(),$a="translationbundle",tu="translation",eu="ph",nu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Hr(e,t),e.prototype.write=function(t,e){throw new Error("Unsupported")},e.prototype.load=function(t,e){var n=new ru,r=n.parse(t,e),i=r.locale,o=r.msgIdToHtml,s=r.errors,a={},u=new iu;if(Object.keys(o).forEach(function(t){re(a,t,function(){var n=u.convert(o[t],e),r=n.i18nNodes,i=n.errors;if(i.length)throw new Error("xtb parse errors:\n"+i.join("\n"));return r})}),s.length)throw new Error("xtb parse errors:\n"+s.join("\n"));return{locale:i,i18nNodesByMsgId:a}},e.prototype.digest=function(t){return ee(t)},e.prototype.createNameMapper=function(t){return new Sa(t,ne)},e}(Ea),ru=function(){function t(){this._locale=null}return t.prototype.parse=function(t,e){this._bundleDepth=0,this._msgIdToHtml={};var n=(new ya).parse(t,e,!1);return this._errors=n.errors,it(this,n.rootNodes),{msgIdToHtml:this._msgIdToHtml,errors:this._errors,locale:this._locale}},t.prototype.visitElement=function(t,e){switch(t.name){case $a:this._bundleDepth++,this._bundleDepth>1&&this._addError(t,"<"+$a+"> elements can not be nested");var n=t.attrs.find(function(t){return"lang"===t.name});n&&(this._locale=n.value),it(this,t.children,null),this._bundleDepth--;break;case tu:var r=t.attrs.find(function(t){return"id"===t.name});if(r){var i=r.value;if(this._msgIdToHtml.hasOwnProperty(i))this._addError(t,"Duplicated translations for msg "+i);else{var o=t.startSourceSpan.end.offset,s=t.endSourceSpan.start.offset,a=t.startSourceSpan.start.file.content,u=a.slice(o,s);this._msgIdToHtml[i]=u}}else this._addError(t,"<"+tu+'> misses the "id" attribute');break;default:this._addError(t,"Unexpected tag")}},t.prototype.visitAttribute=function(t,e){},t.prototype.visitText=function(t,e){},t.prototype.visitComment=function(t,e){},t.prototype.visitExpansion=function(t,e){},t.prototype.visitExpansionCase=function(t,e){},t.prototype._addError=function(t,e){this._errors.push(new aa(t.sourceSpan,e))},t}(),iu=function(){function t(){}return t.prototype.convert=function(t,e){var n=(new ya).parse(t,e,!0);return this._errors=n.errors,{i18nNodes:this._errors.length>0||0==n.rootNodes.length?[]:it(this,n.rootNodes),errors:this._errors}},t.prototype.visitText=function(t,e){return new Ys(t.value,t.sourceSpan)},t.prototype.visitExpansion=function(t,e){var n={};return it(this,t.cases).forEach(function(e){n[e.value]=new Zs(e.nodes,t.sourceSpan)}),new Qs(t.switchValue,t.type,n,t.sourceSpan)},t.prototype.visitExpansionCase=function(t,e){return{value:t.value,nodes:it(this,t.expression)}},t.prototype.visitElement=function(t,e){if(t.name===eu){var n=t.attrs.find(function(t){return"name"===t.name});if(n)return new Js("",n.value,t.sourceSpan);this._addError(t,"<"+eu+'> misses the "name" attribute')}else this._addError(t,"Unexpected tag")},t.prototype.visitComment=function(t,e){},t.prototype.visitAttribute=function(t,e){},t.prototype._addError=function(t,e){this._errors.push(new aa(t.sourceSpan,e))},t}(),ou=function(t){function e(){return t.call(this,a)||this}return Hr(e,t),e.prototype.parse=function(e,n,r,i){return void 0===r&&(r=!1),void 0===i&&(i=fs),t.prototype.parse.call(this,e,n,r,i)},e}(Ws);ou.decorators=[{type:F}],ou.ctorParameters=function(){return[]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var su=function(){function t(t,e,n,r,i,o){void 0===t&&(t={}),void 0===i&&(i=Vr.MissingTranslationStrategy.Warning),this._i18nNodesByMsgId=t,this.digest=n,this.mapperFactory=r,this._i18nToHtml=new au(t,e,n,r,i,o)}return t.load=function(e,n,r,i,o){var s=r.load(e,n),a=s.locale;return new t(s.i18nNodesByMsgId,a,function(t){return r.digest(t)},function(t){return r.createNameMapper(t)},i,o)},t.prototype.get=function(t){var e=this._i18nToHtml.convert(t);if(e.errors.length)throw new Error(e.errors.join("\n"));return e.nodes},t.prototype.has=function(t){return this.digest(t)in this._i18nNodesByMsgId},t}(),au=function(){function t(t,e,n,r,i,o){void 0===t&&(t={}),this._i18nNodesByMsgId=t,this._locale=e,this._digest=n,this._mapperFactory=r,this._missingTranslationStrategy=i,this._console=o,this._contextStack=[],this._errors=[]}return t.prototype.convert=function(t){this._contextStack.length=0,this._errors.length=0;var e=this._convertToText(t),n=t.nodes[0].sourceSpan.start.file.url,r=(new ou).parse(e,n,!0);return{nodes:r.rootNodes,errors:this._errors.concat(r.errors)}},t.prototype.visitText=function(t,e){return t.value},t.prototype.visitContainer=function(t,e){var n=this;return t.children.map(function(t){return t.visit(n)}).join("")},t.prototype.visitIcu=function(t,e){var n=this,r=Object.keys(t.cases).map(function(e){return e+" {"+t.cases[e].visit(n)+"}"});return"{"+(this._srcMsg.placeholders.hasOwnProperty(t.expression)?this._srcMsg.placeholders[t.expression]:t.expression)+", "+t.type+", "+r.join(" ")+"}"},t.prototype.visitPlaceholder=function(t,e){var n=this._mapper(t.name);return this._srcMsg.placeholders.hasOwnProperty(n)?this._srcMsg.placeholders[n]:this._srcMsg.placeholderToMessage.hasOwnProperty(n)?this._convertToText(this._srcMsg.placeholderToMessage[n]):(this._addError(t,'Unknown placeholder "'+t.name+'"'),"")},t.prototype.visitTagPlaceholder=function(t,e){var n=this,r=""+t.tag,i=Object.keys(t.attrs).map(function(e){return e+'="'+t.attrs[e]+'"'}).join(" ");return t.isVoid?"<"+r+" "+i+"/>":"<"+r+" "+i+">"+t.children.map(function(t){return t.visit(n)}).join("")+"</"+r+">"},t.prototype.visitIcuPlaceholder=function(t,e){return this._convertToText(this._srcMsg.placeholderToMessage[t.name])},t.prototype._convertToText=function(t){var e,n=this,r=this._digest(t),i=this._mapperFactory?this._mapperFactory(t):null;if(this._contextStack.push({msg:this._srcMsg,mapper:this._mapper}),this._srcMsg=t,this._i18nNodesByMsgId.hasOwnProperty(r))e=this._i18nNodesByMsgId[r],this._mapper=function(t){return i?i.toInternalName(t):t};else{if(this._missingTranslationStrategy===Vr.MissingTranslationStrategy.Error){var o=this._locale?' for locale "'+this._locale+'"':"";this._addError(t.nodes[0],'Missing translation for message "'+r+'"'+o)}else if(this._console&&this._missingTranslationStrategy===Vr.MissingTranslationStrategy.Warning){var o=this._locale?' for locale "'+this._locale+'"':"";this._console.warn('Missing translation for message "'+r+'"'+o)}e=t.nodes,this._mapper=function(t){return t}}var s=e.map(function(t){return t.visit(n)}).join(""),a=this._contextStack.pop();return this._srcMsg=a.msg,this._mapper=a.mapper,s},t.prototype._addError=function(t,e){this._errors.push(new aa(t.sourceSpan,e))},t}(),uu=function(){function t(t,e,n,r,i){if(void 0===r&&(r=Vr.MissingTranslationStrategy.Warning),this._htmlParser=t,e){var o=ie(n);this._translationBundle=su.load(e,"i18n",o,r,i)}}return t.prototype.parse=function(t,e,n,r){void 0===n&&(n=!1),void 0===r&&(r=fs);var i=this._htmlParser.parse(t,e,n,r);return this._translationBundle?i.errors.length?new Gs(i.rootNodes,i.errors):xt(i.rootNodes,this._translationBundle,r,[],{}):i},t}(),cu=oe("core"),lu=function(){function t(){}return t}();lu.ANALYZE_FOR_ENTRY_COMPONENTS={name:"ANALYZE_FOR_ENTRY_COMPONENTS",moduleUrl:cu,runtime:Vr.ANALYZE_FOR_ENTRY_COMPONENTS},lu.ElementRef={name:"ElementRef",moduleUrl:cu,runtime:Vr.ElementRef},lu.NgModuleRef={name:"NgModuleRef",moduleUrl:cu,runtime:Vr.NgModuleRef},lu.ViewContainerRef={name:"ViewContainerRef",moduleUrl:cu,runtime:Vr.ViewContainerRef},lu.ChangeDetectorRef={name:"ChangeDetectorRef",moduleUrl:cu,runtime:Vr.ChangeDetectorRef},lu.QueryList={name:"QueryList",moduleUrl:cu,runtime:Vr.QueryList},lu.TemplateRef={name:"TemplateRef",moduleUrl:cu,runtime:Vr.TemplateRef},lu.CodegenComponentFactoryResolver={name:"ÉµCodegenComponentFactoryResolver",moduleUrl:cu,runtime:Vr["ÉµCodegenComponentFactoryResolver"]},lu.ComponentFactoryResolver={name:"ComponentFactoryResolver",moduleUrl:cu,runtime:Vr.ComponentFactoryResolver},lu.ComponentFactory={name:"ComponentFactory",moduleUrl:cu,runtime:Vr.ComponentFactory},lu.ComponentRef={name:"ComponentRef",moduleUrl:cu,runtime:Vr.ComponentRef},lu.NgModuleFactory={name:"NgModuleFactory",moduleUrl:cu,runtime:Vr.NgModuleFactory},lu.NgModuleInjector={name:"ÉµNgModuleInjector",moduleUrl:cu,runtime:Vr["ÉµNgModuleInjector"]},lu.RegisterModuleFactoryFn={name:"ÉµregisterModuleFactory",moduleUrl:cu,runtime:Vr["ÉµregisterModuleFactory"]},lu.Injector={name:"Injector",moduleUrl:cu,runtime:Vr.Injector},lu.ViewEncapsulation={name:"ViewEncapsulation",moduleUrl:cu,runtime:Vr.ViewEncapsulation},lu.ChangeDetectionStrategy={name:"ChangeDetectionStrategy",moduleUrl:cu,runtime:Vr.ChangeDetectionStrategy},lu.SecurityContext={name:"SecurityContext",moduleUrl:cu,runtime:Vr.SecurityContext},lu.LOCALE_ID={name:"LOCALE_ID",moduleUrl:cu,runtime:Vr.LOCALE_ID},lu.TRANSLATIONS_FORMAT={name:"TRANSLATIONS_FORMAT",moduleUrl:cu,runtime:Vr.TRANSLATIONS_FORMAT},lu.inlineInterpolate={name:"ÉµinlineInterpolate",moduleUrl:cu,runtime:Vr["ÉµinlineInterpolate"]},lu.interpolate={name:"Éµinterpolate",moduleUrl:cu,runtime:Vr["Éµinterpolate"]},lu.EMPTY_ARRAY={name:"ÉµEMPTY_ARRAY",moduleUrl:cu,runtime:Vr["ÉµEMPTY_ARRAY"]},lu.EMPTY_MAP={name:"ÉµEMPTY_MAP",moduleUrl:cu,runtime:Vr["ÉµEMPTY_MAP"]},lu.Renderer={name:"Renderer",moduleUrl:cu,runtime:Vr.Renderer},lu.viewDef={name:"Éµvid",moduleUrl:cu,runtime:Vr["Éµvid"]},lu.elementDef={name:"Éµeld",moduleUrl:cu,runtime:Vr["Éµeld"]},lu.anchorDef={name:"Éµand",moduleUrl:cu,runtime:Vr["Éµand"]},lu.textDef={name:"Éµted",moduleUrl:cu,runtime:Vr["Éµted"]},lu.directiveDef={name:"Éµdid",moduleUrl:cu,runtime:Vr["Éµdid"]},lu.providerDef={name:"Éµprd",moduleUrl:cu,runtime:Vr["Éµprd"]},lu.queryDef={name:"Éµqud",moduleUrl:cu,runtime:Vr["Éµqud"]},lu.pureArrayDef={name:"Éµpad",moduleUrl:cu,runtime:Vr["Éµpad"]},lu.pureObjectDef={name:"Éµpod",moduleUrl:cu,runtime:Vr["Éµpod"]},lu.purePipeDef={name:"Éµppd",moduleUrl:cu,runtime:Vr["Éµppd"]},lu.pipeDef={name:"Éµpid",moduleUrl:cu,runtime:Vr["Éµpid"]},lu.nodeValue={name:"Éµnov",moduleUrl:cu,runtime:Vr["Éµnov"]},lu.ngContentDef={name:"Éµncd",moduleUrl:cu,runtime:Vr["Éµncd"]},lu.unwrapValue={name:"Éµunv",moduleUrl:cu,runtime:Vr["Éµunv"]},lu.createRendererType2={name:"Éµcrt",moduleUrl:cu,runtime:Vr["Éµcrt"]},lu.RendererType2={name:"RendererType2",moduleUrl:cu,runtime:null},lu.ViewDefinition={name:"ÉµViewDefinition",moduleUrl:cu,runtime:null},lu.createComponentFactory={name:"Éµccf",moduleUrl:cu,runtime:Vr["Éµccf"]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var pu=["zero","one","two","few","many","other"],hu=function(){function t(t,e,n){this.nodes=t,this.expanded=e,this.errors=n}return t}(),fu=function(t){function e(e,n){return t.call(this,e,n)||this}return Hr(e,t),e}(Ps),du=function(){function t(){this.isExpanded=!1,this.errors=[]}return t.prototype.visitElement=function(t,e){return new Ns(t.name,t.attrs,it(this,t.children),t.sourceSpan,t.startSourceSpan,t.endSourceSpan)},t.prototype.visitAttribute=function(t,e){return t},t.prototype.visitText=function(t,e){return t},t.prototype.visitComment=function(t,e){return t},t.prototype.visitExpansion=function(t,e){return this.isExpanded=!0,"plural"==t.type?pe(t,this.errors):he(t,this.errors)},t.prototype.visitExpansionCase=function(t,e){throw new Error("Should not be reached")},t}(),mu=function(t){function e(e,n){return t.call(this,n,e)||this}return Hr(e,t),e}(Ps),vu=function(){function t(t){var e=this;this.component=t,this.errors=[],this.viewQueries=ge(t),this.viewProviders=new Map,t.viewProviders.forEach(function(t){null==e.viewProviders.get(M(t.token))&&e.viewProviders.set(M(t.token),!0)})}return t}(),gu=function(){function t(t,e,n,r,i,o,s,a,u){var c=this;this.viewContext=t,this._parent=e,this._isViewRoot=n,this._directiveAsts=r,this._sourceSpan=u,this._transformedProviders=new Map,this._seenProviders=new Map,this._hasViewContainer=!1,this._queriedTokens=new Map,this._attrs={},i.forEach(function(t){return c._attrs[t.name]=t.value});var l=r.map(function(t){return t.directive});if(this._allProviders=me(l,u,t.errors),this._contentQueries=ye(a,l),Array.from(this._allProviders.values()).forEach(function(t){c._addQueryReadsTo(t.token,t.token,c._queriedTokens)}),s){var p=ce(lu.TemplateRef);this._addQueryReadsTo(p,p,this._queriedTokens)}o.forEach(function(t){var e=t.value||ce(lu.ElementRef);c._addQueryReadsTo({value:t.name},e,c._queriedTokens)}),this._queriedTokens.get(se(lu.ViewContainerRef))&&(this._hasViewContainer=!0),Array.from(this._allProviders.values()).forEach(function(t){(t.eager||c._queriedTokens.get(M(t.token)))&&c._getOrCreateLocalProvider(t.providerType,t.token,!0)})}return t.prototype.afterElement=function(){var t=this;Array.from(this._allProviders.values()).forEach(function(e){t._getOrCreateLocalProvider(e.providerType,e.token,!1)})},Object.defineProperty(t.prototype,"transformProviders",{get:function(){return Array.from(this._transformedProviders.values())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"transformedDirectiveAsts",{get:function(){var t=this.transformProviders.map(function(t){return t.token.identifier}),e=this._directiveAsts.slice();return e.sort(function(e,n){return t.indexOf(e.directive.type)-t.indexOf(n.directive.type)}),e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"transformedHasViewContainer",{get:function(){return this._hasViewContainer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryMatches",{get:function(){var t=[];return this._queriedTokens.forEach(function(e){t.push.apply(t,e)}),t},enumerable:!0,configurable:!0}),t.prototype._addQueryReadsTo=function(t,e,n){this._getQueriesFor(t).forEach(function(t){var r=t.meta.read||e,i=M(r),o=n.get(i);o||(o=[],n.set(i,o)),o.push({queryId:t.queryId,value:r})})},t.prototype._getQueriesFor=function(t){for(var e,n=[],r=this,i=0;null!==r;)e=r._contentQueries.get(M(t)),e&&n.push.apply(n,e.filter(function(t){return t.meta.descendants||i<=1})),r._directiveAsts.length>0&&i++,r=r._parent;return e=this.viewContext.viewQueries.get(M(t)),e&&n.push.apply(n,e),n},t.prototype._getOrCreateLocalProvider=function(t,e,n){var r=this,i=this._allProviders.get(M(e));if(!i||(t===ei.Directive||t===ei.PublicService)&&i.providerType===ei.PrivateService||(t===ei.PrivateService||t===ei.PublicService)&&i.providerType===ei.Builtin)return null;var o=this._transformedProviders.get(M(e));return o?o:null!=this._seenProviders.get(M(e))?(this.viewContext.errors.push(new mu("Cannot instantiate cyclic dependency! "+S(e),this._sourceSpan)),null):(this._seenProviders.set(M(e),!0),o=de(i,{eager:n,providers:i.providers.map(function(t){var e,o=t.useValue,s=t.useExisting;if(null!=t.useExisting){var a=r._getDependency(i.providerType,{token:t.useExisting},n);null!=a.token?s=a.token:(s=null,o=a.value)}else if(t.useFactory){var u=t.deps||t.useFactory.diDeps;e=u.map(function(t){return r._getDependency(i.providerType,t,n)})}else if(t.useClass){var u=t.deps||t.useClass.diDeps;e=u.map(function(t){return r._getDependency(i.providerType,t,n)})}return fe(t,{useExisting:s,useValue:o,deps:e})})}),this._transformedProviders.set(M(e),o),o)},t.prototype._getLocalDependency=function(t,e,n){if(void 0===n&&(n=null),e.isAttribute){var r=this._attrs[e.token.value];return{isValue:!0,value:null==r?null:r}}if(null!=e.token){if(t===ei.Directive||t===ei.Component){if(M(e.token)===se(lu.Renderer)||M(e.token)===se(lu.ElementRef)||M(e.token)===se(lu.ChangeDetectorRef)||M(e.token)===se(lu.TemplateRef))return e;M(e.token)===se(lu.ViewContainerRef)&&(this._hasViewContainer=!0)}if(M(e.token)===se(lu.Injector))return e;if(null!=this._getOrCreateLocalProvider(t,e.token,n))return e}return null},t.prototype._getDependency=function(t,e,n){void 0===n&&(n=null);var r=this,i=n,o=null;if(e.isSkipSelf||(o=this._getLocalDependency(t,e,n)),e.isSelf)!o&&e.isOptional&&(o={isValue:!0,value:null});else{for(;!o&&r._parent;){var s=r;r=r._parent,s._isViewRoot&&(i=!1),o=r._getLocalDependency(ei.PublicService,e,i)}o||(o=!e.isHost||this.viewContext.component.isHost||this.viewContext.component.type.reference===M(e.token)||null!=this.viewContext.viewProviders.get(M(e.token))?e:e.isOptional?o={isValue:!0,value:null}:null)}return o||this.viewContext.errors.push(new mu("No provider for "+S(e.token),this._sourceSpan)),o},t}(),yu=function(){function t(t,e,n){var r=this;this._transformedProviders=new Map,this._seenProviders=new Map,this._errors=[],this._allProviders=new Map,t.transitiveModule.modules.forEach(function(t){ve([{token:{identifier:t},useClass:t}],ei.PublicService,!0,n,r._errors,r._allProviders)}),ve(t.transitiveModule.providers.map(function(t){return t.provider}).concat(e),ei.PublicService,!1,n,this._errors,this._allProviders)}return t.prototype.parse=function(){var t=this;if(Array.from(this._allProviders.values()).forEach(function(e){t._getOrCreateLocalProvider(e.token,e.eager)}),this._errors.length>0){var e=this._errors.join("\n");throw new Error("Provider parse errors:\n"+e)}return Array.from(this._transformedProviders.values())},t.prototype._getOrCreateLocalProvider=function(t,e){var n=this,r=this._allProviders.get(M(t));if(!r)return null;var i=this._transformedProviders.get(M(t));return i?i:null!=this._seenProviders.get(M(t))?(this._errors.push(new mu("Cannot instantiate cyclic dependency! "+S(t),r.sourceSpan)),null):(this._seenProviders.set(M(t),!0),i=de(r,{eager:e,providers:r.providers.map(function(t){var i,o=t.useValue,s=t.useExisting;if(null!=t.useExisting){var a=n._getDependency({token:t.useExisting},e,r.sourceSpan);null!=a.token?s=a.token:(s=null,o=a.value)}else if(t.useFactory){var u=t.deps||t.useFactory.diDeps;i=u.map(function(t){return n._getDependency(t,e,r.sourceSpan)})}else if(t.useClass){var u=t.deps||t.useClass.diDeps;i=u.map(function(t){return n._getDependency(t,e,r.sourceSpan)})}return fe(t,{useExisting:s,useValue:o,deps:i})})}),this._transformedProviders.set(M(t),i),i)},t.prototype._getDependency=function(t,e,n){void 0===e&&(e=null);var r=!1;t.isSkipSelf||null==t.token||(M(t.token)===se(lu.Injector)||M(t.token)===se(lu.ComponentFactoryResolver)?r=!0:null!=this._getOrCreateLocalProvider(t.token,e)&&(r=!0));var i=t;return t.isSelf&&!r&&(t.isOptional?i={isValue:!0,value:null}:this._errors.push(new mu("No provider for "+S(t.token),n))),i},t}(),_u=function(){function t(){}return t.prototype.hasProperty=function(t,e,n){},t.prototype.hasElement=function(t,e){},t.prototype.securityContext=function(t,e,n){},t.prototype.allKnownElementNames=function(){},t.prototype.getMappedPropName=function(t){},t.prototype.getDefaultComponentElementName=function(){},t.prototype.validateProperty=function(t){},t.prototype.validateAttribute=function(t){},t.prototype.normalizeAnimationStyleProperty=function(t){},t.prototype.normalizeAnimationStyleValue=function(t,e,n){},t}(),bu=function(){function t(t,e){this.style=t,this.styleUrls=e}return t}(),wu=/@import\s+(?:url\()?\s*(?:(?:['"]([^'"]*))|([^;\)\s]*))[^;]*;?/g,xu=/\/\*.+?\*\//g,Eu=/^([^:\/?#]+):/,Su=".",Mu="attr",Cu="class",Tu="style",Au="animate-",Pu={};Pu.DEFAULT=0,Pu.LITERAL_ATTR=1,Pu.ANIMATION=2,Pu[Pu.DEFAULT]="DEFAULT",Pu[Pu.LITERAL_ATTR]="LITERAL_ATTR",Pu[Pu.ANIMATION]="ANIMATION";var Ru=function(){function t(t,e,n,r){this.name=t,this.expression=e,this.type=n,this.sourceSpan=r}return Object.defineProperty(t.prototype,"isLiteral",{get:function(){return this.type===Pu.LITERAL_ATTR},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAnimation",{get:function(){return this.type===Pu.ANIMATION},enumerable:!0,configurable:!0}),t}(),Ou=function(){function t(t,e,n,r,i){var o=this;this._exprParser=t,this._interpolationConfig=e,this._schemaRegistry=n,this._targetErrors=i,this.pipesByName=new Map,this._usedPipes=new Map,r.forEach(function(t){return o.pipesByName.set(t.name,t)})}return t.prototype.getUsedPipes=function(){return Array.from(this._usedPipes.values())},t.prototype.createDirectiveHostPropertyAsts=function(t,e,n){var r=this;if(t.hostProperties){var i=[];return Object.keys(t.hostProperties).forEach(function(e){var o=t.hostProperties[e];"string"==typeof o?r.parsePropertyBinding(e,o,!0,n,[],i):r._reportError('Value of the host property binding "'+e+'" needs to be a string representing an expression but got "'+o+'" ('+typeof o+")",n)}),i.map(function(t){return r.createElementPropertyAst(e,t)})}},t.prototype.createDirectiveHostEventAsts=function(t,e){var n=this;if(t.hostListeners){var r=[];return Object.keys(t.hostListeners).forEach(function(i){var o=t.hostListeners[i];"string"==typeof o?n.parseEvent(i,o,e,[],r):n._reportError('Value of the host listener "'+i+'" needs to be a string representing an expression but got "'+o+'" ('+typeof o+")",e)}),r}},t.prototype.parseInterpolation=function(t,e){var n=e.start.toString();try{var r=this._exprParser.parseInterpolation(t,n,this._interpolationConfig);return r&&this._reportExpressionParserErrors(r.errors,e),this._checkPipes(r,e),r}catch(t){return this._reportError(""+t,e),this._exprParser.wrapLiteralPrimitive("ERROR",n)}},t.prototype.parseInlineTemplateBinding=function(t,e,n,r,i,o){for(var s=this._parseTemplateBindings(t,e,n),a=0;a<s.length;a++){var u=s[a];u.keyIsVar?o.push(new Zr(u.key,u.name,n)):u.expression?this._parsePropertyAst(u.key,u.expression,n,r,i):(r.push([u.key,""]),this.parseLiteralAttr(u.key,null,n,r,i))}},t.prototype._parseTemplateBindings=function(t,e,n){var r=this,i=n.start.toString();try{var o=this._exprParser.parseTemplateBindings(t,e,i);return this._reportExpressionParserErrors(o.errors,n),o.templateBindings.forEach(function(t){t.expression&&r._checkPipes(t.expression,n)}),o.warnings.forEach(function(t){r._reportError(t,n,As.WARNING)}),o.templateBindings}catch(t){return this._reportError(""+t,n),[]}},t.prototype.parseLiteralAttr=function(t,e,n,r,i){xe(t)?(t=t.substring(1),e&&this._reportError('Assigning animation triggers via @prop="exp" attributes with an expression is invalid. Use property bindings (e.g. [@prop]="exp") or use an attribute without a value (e.g. @prop) instead.',n,As.ERROR),this._parseAnimation(t,e,n,r,i)):i.push(new Ru(t,this._exprParser.wrapLiteralPrimitive(e,""),Pu.LITERAL_ATTR,n))},t.prototype.parsePropertyBinding=function(t,e,n,r,i,o){var s=!1;t.startsWith(Au)?(s=!0,t=t.substring(Au.length)):xe(t)&&(s=!0,t=t.substring(1)),s?this._parseAnimation(t,e,r,i,o):this._parsePropertyAst(t,this._parseBinding(e,n,r),r,i,o)},t.prototype.parsePropertyInterpolation=function(t,e,n,r,i){var o=this.parseInterpolation(e,n);return!!o&&(this._parsePropertyAst(t,o,n,r,i),!0)},t.prototype._parsePropertyAst=function(t,e,n,r,i){r.push([t,e.source]),i.push(new Ru(t,e,Pu.DEFAULT,n))},t.prototype._parseAnimation=function(t,e,n,r,i){var o=this._parseBinding(e||"null",!1,n);r.push([t,o.source]),i.push(new Ru(t,o,Pu.ANIMATION,n))},t.prototype._parseBinding=function(t,e,n){var r=n.start.toString();try{var i=e?this._exprParser.parseSimpleBinding(t,r,this._interpolationConfig):this._exprParser.parseBinding(t,r,this._interpolationConfig);return i&&this._reportExpressionParserErrors(i.errors,n),this._checkPipes(i,n),i}catch(t){return this._reportError(""+t,n),this._exprParser.wrapLiteralPrimitive("ERROR",r)}},t.prototype.createElementPropertyAst=function(t,e){if(e.isAnimation)return new qr(e.name,ri.Animation,Vr.SecurityContext.NONE,e.expression,null,e.sourceSpan);var n,r,i=null,o=null,a=e.name.split(Su);if(a.length>1)if(a[0]==Mu){o=a[1],this._validatePropertyOrAttributeName(o,e.sourceSpan,!0),r=Ee(this._schemaRegistry,t,o,!0);var u=o.indexOf(":");if(u>-1){var c=o.substring(0,u),l=o.substring(u+1);o=s(c,l)}n=ri.Attribute}else a[0]==Cu?(o=a[1],n=ri.Class,r=[Vr.SecurityContext.NONE]):a[0]==Tu&&(i=a.length>2?a[2]:null,o=a[1],n=ri.Style,r=[Vr.SecurityContext.STYLE]);return null===o&&(o=this._schemaRegistry.getMappedPropName(e.name),r=Ee(this._schemaRegistry,t,o,!1),n=ri.Property,this._validatePropertyOrAttributeName(o,e.sourceSpan,!1)),new qr(o,n,r[0],e.expression,i,e.sourceSpan)},t.prototype.parseEvent=function(t,e,n,r,i){xe(t)?(t=t.substr(1),this._parseAnimationEvent(t,e,n,i)):this._parseEvent(t,e,n,r,i)},t.prototype._parseAnimationEvent=function(t,e,n,r){var i=l(t,[t,""]),o=i[0],s=i[1].toLowerCase();if(s)switch(s){case"start":case"done":var a=this._parseAction(e,n);r.push(new Xr(o,null,s,a,n));break;default:this._reportError('The provided animation output phase value "'+s+'" for "@'+o+'" is not supported (use start or done)',n)}else this._reportError("The animation trigger output event (@"+o+") is missing its phase value name (start or done are currently supported)",n)},t.prototype._parseEvent=function(t,e,n,r,i){var o=c(t,[null,t]),s=o[0],a=o[1],u=this._parseAction(e,n);r.push([t,u.source]),i.push(new Xr(a,s,null,u,n))},t.prototype._parseAction=function(t,e){var n=e.start.toString();try{var r=this._exprParser.parseAction(t,n,this._interpolationConfig);return r&&this._reportExpressionParserErrors(r.errors,e),!r||r.ast instanceof Bi?(this._reportError("Empty expressions are not allowed",e),this._exprParser.wrapLiteralPrimitive("ERROR",n)):(this._checkPipes(r,e),r)}catch(t){return this._reportError(""+t,e),this._exprParser.wrapLiteralPrimitive("ERROR",n)}},t.prototype._reportError=function(t,e,n){void 0===n&&(n=As.ERROR),this._targetErrors.push(new Ps(e,t,n))},t.prototype._reportExpressionParserErrors=function(t,e){for(var n=0,r=t;n<r.length;n++){var i=r[n];this._reportError(i.message,e)}},t.prototype._checkPipes=function(t,e){var n=this;if(t){var r=new Lu;t.visit(r),r.pipes.forEach(function(t,r){var i=n.pipesByName.get(r);i?n._usedPipes.set(r,i):n._reportError("The pipe '"+r+"' could not be found",new Ts(e.start.moveBy(t.span.start),e.start.moveBy(t.span.end)))})}},t.prototype._validatePropertyOrAttributeName=function(t,e,n){var r=n?this._schemaRegistry.validateAttribute(t):this._schemaRegistry.validateProperty(t);r.error&&this._reportError(r.msg,e,As.ERROR)},t}(),Lu=function(t){function e(){var e=t.apply(this,arguments)||this;return e.pipes=new Map,e}return Hr(e,t),e.prototype.visitPipe=function(t,e){return this.pipes.set(t.name,t),t.exp.visit(this),this.visitAll(t.args,e),null},e}(ao),Iu="select",Nu="ng-content",Du="link",ku="rel",ju="href",Fu="stylesheet",Uu="style",Bu="script",Vu="ngNonBindable",Hu="ngProjectAs",zu={};zu.NG_CONTENT=0,zu.STYLE=1,zu.STYLESHEET=2,zu.SCRIPT=3,zu.OTHER=4,zu[zu.NG_CONTENT]="NG_CONTENT",zu[zu.STYLE]="STYLE",zu[zu.STYLESHEET]="STYLESHEET",zu[zu.SCRIPT]="SCRIPT",zu[zu.OTHER]="OTHER";var Gu=function(){function t(t,e,n,r,i){this.type=t,this.selectAttr=e,this.hrefAttr=n,this.nonBindable=r,this.projectAs=i}return t}(),Wu=/^(?:(?:(?:(bind-)|(let-)|(ref-|#)|(on-)|(bindon-)|(@))(.+))|\[\(([^\)]+)\)\]|\[([^\]]+)\]|\(([^\)]+)\))$/,qu=1,Xu=2,Yu=3,Zu=4,Qu=5,Ku=6,Ju=7,$u=8,tc=9,ec=10,nc="ng-template",rc="template",ic="template",oc="*",sc="class",ac=hi.parse("*")[0],uc="The <template> element is deprecated. Use <ng-template> instead",cc="The template attribute is deprecated. Use an ng-template element instead.",lc={},pc=new Vr.InjectionToken("TemplateTransforms"),hc=function(t){function e(e,n,r){return t.call(this,n,e,r)||this}return Hr(e,t),e}(Ps),fc=function(){function t(t,e,n){this.templateAst=t,this.usedPipes=e,this.errors=n}return t}(),dc=function(){function t(t,e,n,r,i,o){this._config=t,this._exprParser=e,this._schemaRegistry=n,this._htmlParser=r,this._console=i,this.transforms=o}return t.prototype.parse=function(t,e,n,r,i,o){var s=this.tryParse(t,e,n,r,i,o),a=s.errors.filter(function(t){return t.level===As.WARNING}).filter(Ce([cc,uc])),u=s.errors.filter(function(t){return t.level===As.ERROR});if(a.length>0&&this._console.warn("Template parse warnings:\n"+a.join("\n")),u.length>0){throw f("Template parse errors:\n"+u.join("\n"))}return{template:s.templateAst,pipes:s.usedPipes}},t.prototype.tryParse=function(t,e,n,r,i,o){return this.tryParseHtml(this.expandHtml(this._htmlParser.parse(e,o,!0,this.getInterpolationConfig(t))),t,e,n,r,i,o)},t.prototype.tryParseHtml=function(t,e,n,i,o,s,a){var u,c=t.errors,l=[];if(t.rootNodes.length>0){var p=Re(i),h=Re(o),f=new vu(e),d=void 0;e.template&&e.template.interpolation&&(d={start:e.template.interpolation[0],end:e.template.interpolation[1]});var m=new Ou(this._exprParser,d,this._schemaRegistry,h,c);u=it(new mc(this._config,f,p,m,this._schemaRegistry,s,c),t.rootNodes,_c),c.push.apply(c,f.errors),l.push.apply(l,m.getUsedPipes())}else u=[];return this._assertNoReferenceDuplicationOnTemplate(u,c),c.length>0?new fc(u,l,c):(this.transforms&&this.transforms.forEach(function(t){u=r(t,u)}),new fc(u,l,c))},t.prototype.expandHtml=function(t,e){void 0===e&&(e=!1);var n=t.errors;if(0==n.length||e){var r=le(t.rootNodes);n.push.apply(n,r.errors),t=new Gs(r.nodes,n)}return t},t.prototype.getInterpolationConfig=function(t){if(t.template)return hs.fromArray(t.template.interpolation)},t.prototype._assertNoReferenceDuplicationOnTemplate=function(t,e){var n=[];t.filter(function(t){return!!t.references}).forEach(function(t){return t.references.forEach(function(t){var r=t.name;if(n.indexOf(r)<0)n.push(r);else{var i=new hc('Reference "#'+r+'" is defined several times',t.sourceSpan,As.ERROR);e.push(i)}})})},t}();dc.decorators=[{type:F}],dc.ctorParameters=function(){return[{type:Di},{type:xs},{type:_u},{type:uu},{type:Vr["ÉµConsole"]},{type:Array,decorators:[{type:Vr.Optional},{type:Vr.Inject,args:[pc]}]}]};var mc=function(){function t(t,e,n,r,i,o,s){var a=this;this.config=t,this.providerViewContext=e,this._bindingParser=r,this._schemaRegistry=i,this._schemas=o,this._targetErrors=s,this.selectorMatcher=new fi,this.directivesIndex=new Map,this.ngContentCount=0,this.contentQueryStartId=e.component.viewQueries.length+1,n.forEach(function(t,e){var n=hi.parse(t.selector);a.selectorMatcher.addSelectables(n,t),a.directivesIndex.set(t,e)})}return t.prototype.visitExpansion=function(t,e){return null},t.prototype.visitExpansionCase=function(t,e){return null},t.prototype.visitText=function(t,e){var n=e.findNgContentIndex(ac),r=this._bindingParser.parseInterpolation(t.value,t.sourceSpan);return r?new Gr(r,n,t.sourceSpan):new zr(t.value,n,t.sourceSpan)},t.prototype.visitAttribute=function(t,e){return new Wr(t.name,t.value,t.sourceSpan)},t.prototype.visitComment=function(t,e){return null},t.prototype.visitElement=function(t,e){var n=this,r=this.contentQueryStartId,i=t.name,o=Se(t);if(o.type===zu.SCRIPT||o.type===zu.STYLE)return null;if(o.type===zu.STYLESHEET&&be(o.hrefAttr))return null;var s=[],a=[],u=[],c=[],l=[],p=[],h=[],f=[],d=!1,m=[],v=Le(t,this.config.enableLegacyTemplate,function(t,e){return n._reportError(t,e,As.WARNING)});t.attrs.forEach(function(t){var e,r,i=n._parseAttr(v,t,s,a,l,u,c),o=n._normalizeAttributeName(t.name);n.config.enableLegacyTemplate&&o==ic?(n._reportError(cc,t.sourceSpan,As.WARNING),e=t.value):o.startsWith(oc)&&(e=t.value,r=o.substring(oc.length)+":");var g=null!=e;g&&(d&&n._reportError("Can't have multiple template bindings on one element. Use only one attribute named 'template' or prefixed with *",t.sourceSpan),d=!0,n._bindingParser.parseInlineTemplateBinding(r,e,t.sourceSpan,h,p,f)),i||g||(m.push(n.visitAttribute(t,null)),s.push([t.name,t.value]))});var g=Ae(i,s),y=this._parseDirectives(this.selectorMatcher,g),_=y.directives,b=y.matchElement,w=[],x=new Set,E=this._createDirectiveAsts(v,t.name,_,a,u,t.sourceSpan,w,x),S=this._createElementPropertyAsts(t.name,a,x),M=e.isTemplateElement||d,C=new gu(this.providerViewContext,e.providerContext,M,E,m,w,v,r,t.sourceSpan),T=it(o.nonBindable?bc:this,t.children,yc.create(v,E,v?e.providerContext:C));C.afterElement();var A,P=null!=o.projectAs?hi.parse(o.projectAs)[0]:g,R=e.findNgContentIndex(P);if(o.type===zu.NG_CONTENT)t.children&&!t.children.every(Pe)&&this._reportError("<ng-content> element cannot have content.",t.sourceSpan),A=new ni(this.ngContentCount++,d?null:R,t.sourceSpan);else if(v)this._assertAllEventsPublishedByDirectives(E,l),this._assertNoComponentsNorElementBindingsOnTemplate(E,S,t.sourceSpan),A=new Kr(m,l,w,c,C.transformedDirectiveAsts,C.transformProviders,C.transformedHasViewContainer,C.queryMatches,T,d?null:R,t.sourceSpan);else{this._assertElementExists(b,t),this._assertOnlyOneComponent(E,t.sourceSpan);var O=d?null:e.findNgContentIndex(P);A=new Qr(i,m,S,l,w,C.transformedDirectiveAsts,C.transformProviders,C.transformedHasViewContainer,C.queryMatches,T,d?null:O,t.sourceSpan,t.endSourceSpan)}if(d){var L=this.contentQueryStartId,I=Ae(rc,h),N=this._parseDirectives(this.selectorMatcher,I).directives,D=new Set,k=this._createDirectiveAsts(!0,t.name,N,p,[],t.sourceSpan,[],D),j=this._createElementPropertyAsts(t.name,p,D);this._assertNoComponentsNorElementBindingsOnTemplate(k,j,t.sourceSpan);var F=new gu(this.providerViewContext,e.providerContext,e.isTemplateElement,k,[],[],!0,L,t.sourceSpan);F.afterElement(),A=new Kr([],[],[],f,F.transformedDirectiveAsts,F.transformProviders,F.transformedHasViewContainer,F.queryMatches,[A],R,t.sourceSpan)}return A},t.prototype._parseAttr=function(t,e,n,r,i,o,s){var a=this._normalizeAttributeName(e.name),u=e.value,c=e.sourceSpan,l=a.match(Wu),p=!1;if(null!==l)if(p=!0,null!=l[qu])this._bindingParser.parsePropertyBinding(l[Ju],u,!1,c,n,r);else if(l[Xu])if(t){var h=l[Ju];this._parseVariable(h,u,c,s)}else this._reportError('"let-" is only supported on template elements.',c);else if(l[Yu]){var h=l[Ju];this._parseReference(h,u,c,o)}else l[Zu]?this._bindingParser.parseEvent(l[Ju],u,c,n,i):l[Qu]?(this._bindingParser.parsePropertyBinding(l[Ju],u,!1,c,n,r),this._parseAssignmentEvent(l[Ju],u,c,n,i)):l[Ku]?this._bindingParser.parseLiteralAttr(a,u,c,n,r):l[$u]?(this._bindingParser.parsePropertyBinding(l[$u],u,!1,c,n,r),this._parseAssignmentEvent(l[$u],u,c,n,i)):l[tc]?this._bindingParser.parsePropertyBinding(l[tc],u,!1,c,n,r):l[ec]&&this._bindingParser.parseEvent(l[ec],u,c,n,i);else p=this._bindingParser.parsePropertyInterpolation(a,u,c,n,r);return p||this._bindingParser.parseLiteralAttr(a,u,c,n,r),p},t.prototype._normalizeAttributeName=function(t){return/^data-/i.test(t)?t.substring(5):t},t.prototype._parseVariable=function(t,e,n,r){t.indexOf("-")>-1&&this._reportError('"-" is not allowed in variable names',n),r.push(new Zr(t,e,n))},t.prototype._parseReference=function(t,e,n,r){t.indexOf("-")>-1&&this._reportError('"-" is not allowed in reference names',n),r.push(new gc(t,e,n))},t.prototype._parseAssignmentEvent=function(t,e,n,r,i){this._bindingParser.parseEvent(t+"Change",e+"=$event",n,r,i)},t.prototype._parseDirectives=function(t,e){var n=this,r=new Array(this.directivesIndex.size),i=!1;return t.match(e,function(t,e){r[n.directivesIndex.get(e)]=e,i=i||t.hasElementSelector()}),{directives:r.filter(function(t){return!!t}),matchElement:i}},t.prototype._createDirectiveAsts=function(t,e,n,r,i,o,s,a){var u=this,c=new Set,l=null,p=n.map(function(t){var n=new Ts(o.start,o.end,"Directive "+y(t.type));t.isComponent&&(l=t);var p=[],h=u._bindingParser.createDirectiveHostPropertyAsts(t,e,n);h=u._checkPropertiesInSchema(e,h);var f=u._bindingParser.createDirectiveHostEventAsts(t,n);u._createDirectivePropertyAsts(t.inputs,r,p,a),i.forEach(function(e){(0===e.value.length&&t.isComponent||t.exportAs==e.value)&&(s.push(new Yr(e.name,ue(t.type),e.sourceSpan)),c.add(e.name))});var d=u.contentQueryStartId;return u.contentQueryStartId+=t.queries.length,new $r(t,p,h,f,d,n)});return i.forEach(function(e){if(e.value.length>0)c.has(e.name)||u._reportError('There is no directive with "exportAs" set to "'+e.value+'"',e.sourceSpan);else if(!l){var n=null;t&&(n=ce(lu.TemplateRef)),s.push(new Yr(e.name,n,e.sourceSpan))}}),p},t.prototype._createDirectivePropertyAsts=function(t,e,n,r){if(t){var i=new Map;e.forEach(function(t){var e=i.get(t.name);e&&!e.isLiteral||i.set(t.name,t)}),Object.keys(t).forEach(function(e){var o=t[e],s=i.get(o);s&&(r.add(s.name),Oe(s.expression)||n.push(new Jr(e,s.name,s.expression,s.sourceSpan)))})}},t.prototype._createElementPropertyAsts=function(t,e,n){var r=this,i=[];return e.forEach(function(e){e.isLiteral||n.has(e.name)||i.push(r._bindingParser.createElementPropertyAst(t,e))}),this._checkPropertiesInSchema(t,i)},t.prototype._findComponentDirectives=function(t){return t.filter(function(t){return t.directive.isComponent})},t.prototype._findComponentDirectiveNames=function(t){return this._findComponentDirectives(t).map(function(t){return y(t.directive.type)})},t.prototype._assertOnlyOneComponent=function(t,e){var n=this._findComponentDirectiveNames(t);n.length>1&&this._reportError("More than one component matched on this element.\nMake sure that only one component's selector can match a given element.\nConflicting components: "+n.join(","),e)},t.prototype._assertElementExists=function(t,e){var n=e.name.replace(/^:xhtml:/,"");if(!t&&!this._schemaRegistry.hasElement(n,this._schemas)){var r="'"+n+"' is not a known element:\n";r+="1. If '"+n+"' is an Angular component, then verify that it is part of this module.\n",r+=n.indexOf("-")>-1?"2. If '"+n+"' is a Web Component then add 'CUSTOM_ELEMENTS_SCHEMA' to the '@NgModule.schemas' of this component to suppress this message.":"2. To allow any element add 'NO_ERRORS_SCHEMA' to the '@NgModule.schemas' of this component.",this._reportError(r,e.sourceSpan)}},t.prototype._assertNoComponentsNorElementBindingsOnTemplate=function(t,e,n){var r=this,i=this._findComponentDirectiveNames(t);i.length>0&&this._reportError("Components on an embedded template: "+i.join(","),n),e.forEach(function(t){r._reportError("Property binding "+t.name+' not used by any directive on an embedded template. Make sure that the property name is spelled correctly and all directives are listed in the "@NgModule.declarations".',n)})},t.prototype._assertAllEventsPublishedByDirectives=function(t,e){var n=this,r=new Set;t.forEach(function(t){Object.keys(t.directive.outputs).forEach(function(e){var n=t.directive.outputs[e];r.add(n)})}),e.forEach(function(t){null==t.target&&r.has(t.name)||n._reportError("Event binding "+t.fullName+' not emitted by any directive on an embedded template. Make sure that the event name is spelled correctly and all directives are listed in the "@NgModule.declarations".',t.sourceSpan)})},t.prototype._checkPropertiesInSchema=function(t,e){var n=this;return e.filter(function(e){if(e.type===ri.Property&&!n._schemaRegistry.hasProperty(t,e.name,n._schemas)){var r="Can't bind to '"+e.name+"' since it isn't a known property of '"+t+"'.";t.startsWith("ng-")?r+="\n1. If '"+e.name+"' is an Angular directive, then add 'CommonModule' to the '@NgModule.imports' of this component.\n2. To allow any property add 'NO_ERRORS_SCHEMA' to the '@NgModule.schemas' of this component.":t.indexOf("-")>-1&&(r+="\n1. If '"+t+"' is an Angular component and it has '"+e.name+"' input, then verify that it is part of this module.\n2. If '"+t+"' is a Web Component then add 'CUSTOM_ELEMENTS_SCHEMA' to the '@NgModule.schemas' of this component to suppress this message.\n3. To allow any property add 'NO_ERRORS_SCHEMA' to the '@NgModule.schemas' of this component."),n._reportError(r,e.sourceSpan)}return!Oe(e.value)})},t.prototype._reportError=function(t,e,n){void 0===n&&(n=As.ERROR),this._targetErrors.push(new Ps(e,t,n))},t}(),vc=function(){function t(){}return t.prototype.visitElement=function(t,e){var n=Se(t);if(n.type===zu.SCRIPT||n.type===zu.STYLE||n.type===zu.STYLESHEET)return null;var r=t.attrs.map(function(t){return[t.name,t.value]}),i=Ae(t.name,r),o=e.findNgContentIndex(i),s=it(this,t.children,_c);return new Qr(t.name,it(this,t.attrs),[],[],[],[],[],!1,[],s,o,t.sourceSpan,t.endSourceSpan)},t.prototype.visitComment=function(t,e){return null},t.prototype.visitAttribute=function(t,e){return new Wr(t.name,t.value,t.sourceSpan)},t.prototype.visitText=function(t,e){var n=e.findNgContentIndex(ac);return new zr(t.value,n,t.sourceSpan)},t.prototype.visitExpansion=function(t,e){return t},t.prototype.visitExpansionCase=function(t,e){return t},t}(),gc=function(){function t(t,e,n){this.name=t,this.value=e,this.sourceSpan=n}return t}(),yc=function(){function t(t,e,n,r){this.isTemplateElement=t,this._ngContentIndexMatcher=e,this._wildcardNgContentIndex=n,this.providerContext=r}return t.create=function(e,n,r){var i=new fi,o=null,s=n.find(function(t){return t.directive.isComponent});if(s)for(var a=s.directive.template.ngContentSelectors,u=0;u<a.length;u++){var c=a[u];"*"===c?o=u:i.addSelectables(hi.parse(a[u]),u)}return new t(e,i,o,r)},t.prototype.findNgContentIndex=function(t){var e=[];return this._ngContentIndexMatcher.match(t,function(t,n){e.push(n)}),e.sort(),null!=this._wildcardNgContentIndex&&e.push(this._wildcardNgContentIndex),e.length>0?e[0]:null},t}(),_c=new yc(!0,new fi,null,null),bc=new vc,wc=function(){function t(){}return t.prototype.get=function(t){return null},t}(),xc={provide:Vr.PACKAGE_ROOT_URL,useValue:"/"},Ec=function(){function t(t){void 0===t&&(t=null),this._packagePrefix=t}return t.prototype.resolve=function(t,e){var n=e;null!=t&&t.length>0&&(n=Ue(t,n));var r=ke(n),i=this._packagePrefix;if(null!=i&&null!=r&&"package"==r[Mc.Scheme]){var o=r[Mc.Path];return i=i.replace(/\/+$/,""),o=o.replace(/^\/+/,""),i+"/"+o}return n},t}();Ec.decorators=[{type:F}],Ec.ctorParameters=function(){return[{type:void 0,decorators:[{type:Vr.Inject,args:[Vr.PACKAGE_ROOT_URL]}]}]};var Sc=new RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$"),Mc={};Mc.Scheme=1,Mc.UserInfo=2,Mc.Domain=3,Mc.Port=4,Mc.Path=5,Mc.QueryData=6,Mc.Fragment=7,Mc[Mc.Scheme]="Scheme",Mc[Mc.UserInfo]="UserInfo",Mc[Mc.Domain]="Domain",Mc[Mc.Port]="Port",Mc[Mc.Path]="Path",Mc[Mc.QueryData]="QueryData",Mc[Mc.Fragment]="Fragment";/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var Cc=function(){function t(t,e,n,r){this._resourceLoader=t,this._urlResolver=e,this._htmlParser=n,this._config=r,this._resourceLoaderCache=new Map}return t.prototype.clearCache=function(){this._resourceLoaderCache.clear()},t.prototype.clearCacheFor=function(t){var e=this;t.isComponent&&(this._resourceLoaderCache.delete(t.template.templateUrl),t.template.externalStylesheets.forEach(function(t){e._resourceLoaderCache.delete(t.moduleUrl)}))},t.prototype._fetch=function(t){var e=this._resourceLoaderCache.get(t);return e||(e=this._resourceLoader.get(t),this._resourceLoaderCache.set(t,e)),e},t.prototype.normalizeTemplate=function(t){var e,r=this,i=null;if(null!=t.template){if(null!=t.templateUrl)throw f("'"+n.i(Vr["Éµstringify"])(t.componentType)+"' component cannot define both template and templateUrl");if("string"!=typeof t.template)throw f("The template specified for component "+n.i(Vr["Éµstringify"])(t.componentType)+" is not a string");i=this.normalizeTemplateSync(t),e=Promise.resolve(i)}else{if(!t.templateUrl)throw f("No template specified for component "+n.i(Vr["Éµstringify"])(t.componentType));if("string"!=typeof t.templateUrl)throw f("The templateUrl specified for component "+n.i(Vr["Éµstringify"])(t.componentType)+" is not a string");e=this.normalizeTemplateAsync(t)}return i&&0===i.styleUrls.length?new _i(i):new _i(null,e.then(function(t){return r.normalizeExternalStylesheets(t)}))},t.prototype.normalizeTemplateSync=function(t){return this.normalizeLoadedTemplate(t,t.template,t.moduleUrl)},t.prototype.normalizeTemplateAsync=function(t){var e=this,n=this._urlResolver.resolve(t.moduleUrl,t.templateUrl);return this._fetch(n).then(function(r){return e.normalizeLoadedTemplate(t,r,n)})},t.prototype.normalizeLoadedTemplate=function(t,e,n){var r=!!t.template,i=hs.fromArray(t.interpolation),o=this._htmlParser.parse(e,R({reference:t.ngModuleType},{type:{reference:t.componentType}},{isInline:r,templateUrl:n}),!0,i);if(o.errors.length>0){throw f("Template parse errors:\n"+o.errors.join("\n"))}var s=this.normalizeStylesheet(new Ai({styles:t.styles,styleUrls:t.styleUrls,moduleUrl:t.moduleUrl})),a=new Tc;it(a,o.rootNodes);var u=this.normalizeStylesheet(new Ai({styles:a.styles,styleUrls:a.styleUrls,moduleUrl:n})),c=t.encapsulation;null==c&&(c=this._config.defaultEncapsulation);var l=s.styles.concat(u.styles),p=s.styleUrls.concat(u.styleUrls);return c===Vr.ViewEncapsulation.Emulated&&0===l.length&&0===p.length&&(c=Vr.ViewEncapsulation.None),new Pi({encapsulation:c,template:e,templateUrl:n,styles:l,styleUrls:p,ngContentSelectors:a.ngContentSelectors,animations:t.animations,interpolation:t.interpolation,isInline:r})},t.prototype.normalizeExternalStylesheets=function(t){return this._loadMissingExternalStylesheets(t.styleUrls).then(function(e){return new Pi({encapsulation:t.encapsulation,template:t.template,templateUrl:t.templateUrl,styles:t.styles,styleUrls:t.styleUrls,externalStylesheets:e,ngContentSelectors:t.ngContentSelectors,animations:t.animations,interpolation:t.interpolation,isInline:t.isInline})})},t.prototype._loadMissingExternalStylesheets=function(t,e){var n=this;return void 0===e&&(e=new Map),Promise.all(t.filter(function(t){return!e.has(t)}).map(function(t){return n._fetch(t).then(function(r){var i=n.normalizeStylesheet(new Ai({styles:[r],moduleUrl:t}));return e.set(t,i),n._loadMissingExternalStylesheets(i.styleUrls,e)})})).then(function(t){return Array.from(e.values())})},t.prototype.normalizeStylesheet=function(t){var e=this,n=t.styleUrls.filter(be).map(function(n){return e._urlResolver.resolve(t.moduleUrl,n)});return new Ai({styles:t.styles.map(function(r){var i=we(e._urlResolver,t.moduleUrl,r);return n.push.apply(n,i.styleUrls),i.style}),styleUrls:n,moduleUrl:t.moduleUrl})},t}();Cc.decorators=[{type:F}],Cc.ctorParameters=function(){return[{type:wc},{type:Ec},{type:ou},{type:Di}]};var Tc=function(){function t(){this.ngContentSelectors=[],this.styles=[],this.styleUrls=[],this.ngNonBindableStackCount=0}return t.prototype.visitElement=function(t,e){var n=Se(t);switch(n.type){case zu.NG_CONTENT:0===this.ngNonBindableStackCount&&this.ngContentSelectors.push(n.selectAttr);break;case zu.STYLE:var r="";t.children.forEach(function(t){t instanceof Rs&&(r+=t.value)}),this.styles.push(r);break;case zu.STYLESHEET:this.styleUrls.push(n.hrefAttr)}return n.nonBindable&&this.ngNonBindableStackCount++,it(this,t.children),n.nonBindable&&this.ngNonBindableStackCount--,null},t.prototype.visitExpansion=function(t,e){it(this,t.cases)},t.prototype.visitExpansionCase=function(t,e){it(this,t.expression)},t.prototype.visitComment=function(t,e){return null},t.prototype.visitAttribute=function(t,e){return null},t.prototype.visitText=function(t,e){return null},t}(),Ac=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Pc=function(){function t(t){void 0===t&&(t=Vr["Éµreflector"]),this._reflector=t}return t.prototype.isDirective=function(t){var e=this._reflector.annotations(n.i(Vr.resolveForwardRef)(t));return e&&e.some(Be)},t.prototype.resolve=function(t,e){void 0===e&&(e=!0);var r=this._reflector.annotations(n.i(Vr.resolveForwardRef)(t));if(r){var i=Ve(r,Be);if(i){var o=this._reflector.propMetadata(t);return this._mergeWithPropertyMetadata(i,o,t)}}if(e)throw new Error("No Directive annotation found on "+n.i(Vr["Éµstringify"])(t));return null},t.prototype._mergeWithPropertyMetadata=function(t,e,n){var r=[],i=[],o={},s={};return Object.keys(e).forEach(function(t){var n=Ve(e[t],function(t){return t instanceof Vr.Input});n&&(n.bindingPropertyName?r.push(t+": "+n.bindingPropertyName):r.push(t));var a=Ve(e[t],function(t){return t instanceof Vr.Output});a&&(a.bindingPropertyName?i.push(t+": "+a.bindingPropertyName):i.push(t)),e[t].filter(function(t){return t&&t instanceof Vr.HostBinding}).forEach(function(e){if(e.hostPropertyName){var n=e.hostPropertyName[0];if("("===n)throw new Error("@HostBinding can not bind to events. Use @HostListener instead.");if("["===n)throw new Error("@HostBinding parameter should be a property name, 'class.<name>', or 'attr.<name>'.");o["["+e.hostPropertyName+"]"]=t}else o["["+t+"]"]=t}),e[t].filter(function(t){return t&&t instanceof Vr.HostListener}).forEach(function(e){var n=e.args||[];o["("+e.eventName+")"]=t+"("+n.join(",")+")"});var u=Ve(e[t],function(t){return t instanceof Vr.Query});u&&(s[t]=u)}),this._merge(t,r,i,o,s,n)},t.prototype._extractPublicName=function(t){return c(t,[null,t])[1].trim()},t.prototype._dedupeBindings=function(t){for(var e=new Set,n=[],r=t.length-1;r>=0;r--){var i=t[r],o=this._extractPublicName(i);e.has(o)||(e.add(o),n.push(i))}return n.reverse()},t.prototype._merge=function(t,e,n,r,i,o){var s=this._dedupeBindings(t.inputs?t.inputs.concat(e):e),a=this._dedupeBindings(t.outputs?t.outputs.concat(n):n),u=t.host?Ac({},t.host,r):r,c=t.queries?Ac({},t.queries,i):i;return t instanceof Vr.Component?new Vr.Component({selector:t.selector,inputs:s,outputs:a,host:u,exportAs:t.exportAs,moduleId:t.moduleId,queries:c,changeDetection:t.changeDetection,providers:t.providers,viewProviders:t.viewProviders,entryComponents:t.entryComponents,template:t.template,templateUrl:t.templateUrl,styles:t.styles,styleUrls:t.styleUrls,encapsulation:t.encapsulation,animations:t.animations,interpolation:t.interpolation}):new Vr.Directive({selector:t.selector,inputs:s,outputs:a,host:u,exportAs:t.exportAs,queries:c,providers:t.providers})},t}();Pc.decorators=[{type:F}],Pc.ctorParameters=function(){return[{type:Vr["ÉµReflectorReader"]}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var Rc=/(\.ts|\.d\.ts|\.js|\.jsx|\.tsx)$/,Oc=/\.ngfactory\./,Lc=function(){function t(t){void 0===t&&(t=Vr["Éµreflector"]),this._reflector=t}return t.prototype.isNgModule=function(t){return this._reflector.annotations(t).some(Ze)},t.prototype.resolve=function(t,e){void 0===e&&(e=!0);var r=Ve(this._reflector.annotations(t),Ze);if(r)return r;if(e)throw new Error("No NgModule metadata found for '"+n.i(Vr["Éµstringify"])(t)+"'.");return null},t}();Lc.decorators=[{type:F}],Lc.ctorParameters=function(){return[{type:Vr["ÉµReflectorReader"]}]};var Ic=function(){function t(t){void 0===t&&(t=Vr["Éµreflector"]),this._reflector=t}return t.prototype.isPipe=function(t){var e=this._reflector.annotations(n.i(Vr.resolveForwardRef)(t));return e&&e.some(Qe)},t.prototype.resolve=function(t,e){void 0===e&&(e=!0);var r=this._reflector.annotations(n.i(Vr.resolveForwardRef)(t));if(r){var i=Ve(r,Qe);if(i)return i}if(e)throw new Error("No Pipe decorator found on "+n.i(Vr["Éµstringify"])(t));return null},t}();Ic.decorators=[{type:F}],Ic.ctorParameters=function(){return[{type:Vr["ÉµReflectorReader"]}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var Nc=function(){function t(){}return t.prototype.isLibraryFile=function(t){return!1},t.prototype.getLibraryFileName=function(t){return null},t.prototype.resolveSummary=function(t){return null},t.prototype.getSymbolsOf=function(t){return[]},t.prototype.getImportAs=function(t){return t},t}();Nc.decorators=[{type:F}],Nc.ctorParameters=function(){return[]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var Dc=new Vr.InjectionToken("ErrorCollector"),kc=function(){function t(t,e,n,r,i,o,s,a,u,c,l){void 0===c&&(c=Vr["Éµreflector"]),this._config=t,this._ngModuleResolver=e,this._directiveResolver=n,this._pipeResolver=r,this._summaryResolver=i,this._schemaRegistry=o,this._directiveNormalizer=s,this._console=a,this._staticSymbolCache=u,this._reflector=c,this._errorCollector=l,this._nonNormalizedDirectiveCache=new Map,this._directiveCache=new Map,this._summaryCache=new Map,this._pipeCache=new Map,this._ngModuleCache=new Map,this._ngModuleOfTypes=new Map}return t.prototype.clearCacheFor=function(t){var e=this._directiveCache.get(t);this._directiveCache.delete(t),this._nonNormalizedDirectiveCache.delete(t),this._summaryCache.delete(t),this._pipeCache.delete(t),this._ngModuleOfTypes.delete(t),this._ngModuleCache.clear(),e&&this._directiveNormalizer.clearCacheFor(e)},t.prototype.clearCache=function(){this._directiveCache.clear(),this._nonNormalizedDirectiveCache.clear(),this._summaryCache.clear(),this._pipeCache.clear(),this._ngModuleCache.clear(),this._ngModuleOfTypes.clear(),this._directiveNormalizer.clearCache()},t.prototype._createProxyClass=function(t,e){var r=null,i=function(){if(!r)throw new Error("Illegal state: Class "+e+" for type "+n.i(Vr["Éµstringify"])(t)+" is not compiled yet!");return r.apply(this,arguments)};return i.setDelegate=function(t){r=t,i.prototype=t.prototype},i.overriddenName=e,i},t.prototype.getGeneratedClass=function(t,e){return t instanceof ii?this._staticSymbolCache.get(He(t.filePath),e):this._createProxyClass(t,e)},t.prototype.getComponentViewClass=function(t){return this.getGeneratedClass(t,b(t,0))},t.prototype.getHostComponentViewClass=function(t){return this.getGeneratedClass(t,x(t))},t.prototype.getHostComponentType=function(t){var e=y({reference:t})+"_Host";if(t instanceof ii)return this._staticSymbolCache.get(t.filePath,e);var n=function(){};return n.overriddenName=e,n},t.prototype.getRendererType=function(t){return t instanceof ii?this._staticSymbolCache.get(He(t.filePath),w(t)):{}},t.prototype.getComponentFactory=function(t,e,r,i){if(e instanceof ii)return this._staticSymbolCache.get(He(e.filePath),E(e));var o=this.getHostComponentViewClass(e);return n.i(Vr["Éµccf"])(t,e,o,r,i,[])},t.prototype.initComponentFactory=function(t,e){t instanceof ii||(n=t.ngContentSelectors).push.apply(n,e);var n},t.prototype._loadSummary=function(t,e){var n=this._summaryCache.get(t);if(!n){var r=this._summaryResolver.resolveSummary(t);n=r?r.type:null,this._summaryCache.set(t,n)}return n&&n.summaryKind===e?n:null},t.prototype._loadDirectiveMetadata=function(t,e,r){var i=this;if(!this._directiveCache.has(e)){e=n.i(Vr.resolveForwardRef)(e);var o=this.getNonNormalizedDirectiveMetadata(e),s=o.annotation,a=o.metadata,u=function(t){var n=new Ri({type:a.type,isComponent:a.isComponent,selector:a.selector,exportAs:a.exportAs,changeDetection:a.changeDetection,inputs:a.inputs,outputs:a.outputs,hostListeners:a.hostListeners,hostProperties:a.hostProperties,hostAttributes:a.hostAttributes,providers:a.providers,viewProviders:a.viewProviders,queries:a.queries,viewQueries:a.viewQueries,entryComponents:a.entryComponents,componentViewType:a.componentViewType,rendererType:a.rendererType,componentFactory:a.componentFactory,template:t});return t&&i.initComponentFactory(a.componentFactory,t.ngContentSelectors),i._directiveCache.set(e,n),i._summaryCache.set(e,n.toSummary()),n};if(a.isComponent){var c=this._directiveNormalizer.normalizeTemplate({ngModuleType:t,componentType:e,moduleUrl:en(this._reflector,e,s),encapsulation:a.template.encapsulation,template:a.template.template,templateUrl:a.template.templateUrl,styles:a.template.styles,styleUrls:a.template.styleUrls,animations:a.template.animations,interpolation:a.template.interpolation});return c.syncResult?(u(c.syncResult),null):r?(this._reportError(on(e),e),null):c.asyncResult.then(u)}return u(null),null}},t.prototype.getNonNormalizedDirectiveMetadata=function(t){var e=this;if(!(t=n.i(Vr.resolveForwardRef)(t)))return null;var r=this._nonNormalizedDirectiveCache.get(t);if(r)return r;var i=this._directiveResolver.resolve(t,!1);if(!i)return null;var o;if(i instanceof Vr.Component){U("styles",i.styles),U("styleUrls",i.styleUrls),B("interpolation",i.interpolation);var s=i.animations;o=new Pi({encapsulation:i.encapsulation,template:i.template,templateUrl:i.templateUrl,styles:i.styles,styleUrls:i.styleUrls,animations:s,interpolation:i.interpolation,isInline:!!i.template})}var a=null,u=[],c=[],l=i.selector;i instanceof Vr.Component?(a=i.changeDetection,i.viewProviders&&(u=this._getProvidersMetadata(i.viewProviders,c,'viewProviders for "'+rn(t)+'"',[],t)),i.entryComponents&&(c=$e(i.entryComponents).map(function(t){return e._getEntryComponentMetadata(t)}).concat(c)),l||(l=this._schemaRegistry.getDefaultComponentElementName())):l||(this._reportError(f("Directive "+rn(t)+" has no selector, please add it!"),t),l="error");var p=[];null!=i.providers&&(p=this._getProvidersMetadata(i.providers,c,'providers for "'+rn(t)+'"',[],t));var h=[],d=[];null!=i.queries&&(h=this._getQueriesMetadata(i.queries,!1,t),d=this._getQueriesMetadata(i.queries,!0,t));var m=Ri.create({selector:l,exportAs:i.exportAs,isComponent:!!o,type:this._getTypeMetadata(t),template:o,changeDetection:a,inputs:i.inputs,outputs:i.outputs,host:i.host,providers:p,viewProviders:u,queries:h,viewQueries:d,entryComponents:c,componentViewType:o?this.getComponentViewClass(t):void 0,rendererType:o?this.getRendererType(t):void 0,componentFactory:void 0});return o&&(m.componentFactory=this.getComponentFactory(l,t,m.inputs,m.outputs)),r={metadata:m,annotation:i},this._nonNormalizedDirectiveCache.set(t,r),r},t.prototype.getDirectiveMetadata=function(t){var e=this._directiveCache.get(t);return e||this._reportError(f("Illegal state: getDirectiveMetadata can only be called after loadNgModuleDirectiveAndPipeMetadata for a module that declares it. Directive "+rn(t)+"."),t),e},t.prototype.getDirectiveSummary=function(t){var e=this._loadSummary(t,Ti.Directive);return e||this._reportError(f("Illegal state: Could not load the summary for directive "+rn(t)+"."),t),e},t.prototype.isDirective=function(t){return this._directiveResolver.isDirective(t)},t.prototype.isPipe=function(t){return this._pipeResolver.isPipe(t)},t.prototype.getNgModuleSummary=function(t){var e=this._loadSummary(t,Ti.NgModule);if(!e){var n=this.getNgModuleMetadata(t,!1);e=n?n.toSummary():null,e&&this._summaryCache.set(t,e)}return e},t.prototype.loadNgModuleDirectiveAndPipeMetadata=function(t,e,n){var r=this;void 0===n&&(n=!0);var i=this.getNgModuleMetadata(t,n),o=[];return i&&(i.declaredDirectives.forEach(function(n){var i=r._loadDirectiveMetadata(t,n.reference,e);i&&o.push(i)}),i.declaredPipes.forEach(function(t){return r._loadPipeMetadata(t.reference)})),Promise.all(o)},t.prototype.getNgModuleMetadata=function(t,e){var r=this;void 0===e&&(e=!0),t=n.i(Vr.resolveForwardRef)(t);var i=this._ngModuleCache.get(t);if(i)return i;var o=this._ngModuleResolver.resolve(t,e);if(!o)return null;var s=[],a=[],u=[],c=[],l=[],p=[],h=[],d=[],m=[];o.imports&&$e(o.imports).forEach(function(e){var n;if(tn(e))n=e;else if(e&&e.ngModule){var i=e;n=i.ngModule,i.providers&&p.push.apply(p,r._getProvidersMetadata(i.providers,h,"provider for the NgModule '"+rn(n)+"'",[],e))}if(!n)return void r._reportError(f("Unexpected value '"+rn(e)+"' imported by the module '"+rn(t)+"'"),t);if(!r._checkSelfImport(t,n)){var o=r.getNgModuleSummary(n);if(!o)return void r._reportError(f("Unexpected "+r._getTypeDescriptor(e)+" '"+rn(e)+"' imported by the module '"+rn(t)+"'. Please add a @NgModule annotation."),t);c.push(o)}}),o.exports&&$e(o.exports).forEach(function(e){if(!tn(e))return void r._reportError(f("Unexpected value '"+rn(e)+"' exported by the module '"+rn(t)+"'"),t);var n=r.getNgModuleSummary(e);n?l.push(n):a.push(r._getIdentifierMetadata(e))});var v=this._getTransitiveNgModuleMetadata(c,l);o.declarations&&$e(o.declarations).forEach(function(e){if(!tn(e))return void r._reportError(f("Unexpected value '"+rn(e)+"' declared by the module '"+rn(t)+"'"),t);var n=r._getIdentifierMetadata(e);if(r._directiveResolver.isDirective(e))v.addDirective(n),s.push(n),r._addTypeToModule(e,t);else{if(!r._pipeResolver.isPipe(e))return void r._reportError(f("Unexpected "+r._getTypeDescriptor(e)+" '"+rn(e)+"' declared by the module '"+rn(t)+"'. Please add a @Pipe/@Directive/@Component annotation."),t);v.addPipe(n),v.pipes.push(n),u.push(n),r._addTypeToModule(e,t)}});var g=[],y=[];return a.forEach(function(e){v.directivesSet.has(e.reference)?(g.push(e),v.addExportedDirective(e)):v.pipesSet.has(e.reference)?(y.push(e),v.addExportedPipe(e)):r._reportError(f("Can't export "+r._getTypeDescriptor(e.reference)+" "+rn(e.reference)+" from "+rn(t)+" as it was neither declared nor imported!"),t)}),o.providers&&p.push.apply(p,this._getProvidersMetadata(o.providers,h,"provider for the NgModule '"+rn(t)+"'",[],t)),o.entryComponents&&h.push.apply(h,$e(o.entryComponents).map(function(t){return r._getEntryComponentMetadata(t)})),o.bootstrap&&$e(o.bootstrap).forEach(function(e){if(!tn(e))return void r._reportError(f("Unexpected value '"+rn(e)+"' used in the bootstrap property of module '"+rn(t)+"'"),t);d.push(r._getIdentifierMetadata(e))}),h.push.apply(h,d.map(function(t){return r._getEntryComponentMetadata(t.reference)})),o.schemas&&m.push.apply(m,$e(o.schemas)),i=new Li({type:this._getTypeMetadata(t),providers:p,entryComponents:h,bootstrapComponents:d,schemas:m,declaredDirectives:s,exportedDirectives:g,declaredPipes:u,exportedPipes:y,importedModules:c,exportedModules:l,transitiveModule:v,id:o.id}),h.forEach(function(t){return v.addEntryComponent(t)}),p.forEach(function(t){return v.addProvider(t,i.type)}),v.addModule(i.type),this._ngModuleCache.set(t,i),i},t.prototype._checkSelfImport=function(t,e){return t===e&&(this._reportError(f("'"+rn(t)+"' module can't import itself"),t),!0)},t.prototype._getTypeDescriptor=function(t){return this._directiveResolver.isDirective(t)?"directive":this._pipeResolver.isPipe(t)?"pipe":this._ngModuleResolver.isNgModule(t)?"module":t.provide?"provider":"value"},t.prototype._addTypeToModule=function(t,e){var n=this._ngModuleOfTypes.get(t);n&&n!==e&&this._reportError(f("Type "+rn(t)+" is part of the declarations of 2 modules: "+rn(n)+" and "+rn(e)+"! Please consider moving "+rn(t)+" to a higher module that imports "+rn(n)+" and "+rn(e)+". You can also create a new NgModule that exports and includes "+rn(t)+" then import that NgModule in "+rn(n)+" and "+rn(e)+"."),e),this._ngModuleOfTypes.set(t,e)},t.prototype._getTransitiveNgModuleMetadata=function(t,e){var n=new Ii,r=new Map;return t.concat(e).forEach(function(t){t.modules.forEach(function(t){return n.addModule(t)}),t.entryComponents.forEach(function(t){return n.addEntryComponent(t)});var e=new Set;t.providers.forEach(function(t){var i=M(t.provider.token),o=r.get(i);o||(o=new Set,r.set(i,o));var s=t.module.reference;!e.has(i)&&o.has(s)||(o.add(s),e.add(i),n.addProvider(t.provider,t.module))})}),e.forEach(function(t){t.exportedDirectives.forEach(function(t){return n.addExportedDirective(t)}),t.exportedPipes.forEach(function(t){return n.addExportedPipe(t)})}),t.forEach(function(t){t.exportedDirectives.forEach(function(t){return n.addDirective(t)}),t.exportedPipes.forEach(function(t){return n.addPipe(t)})}),n},t.prototype._getIdentifierMetadata=function(t){return t=n.i(Vr.resolveForwardRef)(t),{reference:t}},t.prototype.isInjectable=function(t){return this._reflector.annotations(t).some(function(t){return t.constructor===Vr.Injectable})},t.prototype.getInjectableSummary=function(t){return{summaryKind:Ti.Injectable,type:this._getTypeMetadata(t,null,!1)}},t.prototype._getInjectableMetadata=function(t,e){void 0===e&&(e=null);var n=this._loadSummary(t,Ti.Injectable);return n?n.type:this._getTypeMetadata(t,e)},t.prototype._getTypeMetadata=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!0);var r=this._getIdentifierMetadata(t);return{reference:r.reference,diDeps:this._getDependenciesMetadata(r.reference,e,n),lifecycleHooks:Vr["ÉµLIFECYCLE_HOOKS_VALUES"].filter(function(t){return Xe(t,r.reference)})}},t.prototype._getFactoryMetadata=function(t,e){return void 0===e&&(e=null),t=n.i(Vr.resolveForwardRef)(t),{reference:t,diDeps:this._getDependenciesMetadata(t,e)}},t.prototype.getPipeMetadata=function(t){var e=this._pipeCache.get(t);return e||this._reportError(f("Illegal state: getPipeMetadata can only be called after loadNgModuleDirectiveAndPipeMetadata for a module that declares it. Pipe "+rn(t)+"."),t),e},t.prototype.getPipeSummary=function(t){var e=this._loadSummary(t,Ti.Pipe);return e||this._reportError(f("Illegal state: Could not load the summary for pipe "+rn(t)+"."),t),e},t.prototype.getOrLoadPipeMetadata=function(t){var e=this._pipeCache.get(t);return e||(e=this._loadPipeMetadata(t)),e},t.prototype._loadPipeMetadata=function(t){t=n.i(Vr.resolveForwardRef)(t);var e=this._pipeResolver.resolve(t),r=new Oi({type:this._getTypeMetadata(t),name:e.name,pure:e.pure});return this._pipeCache.set(t,r),this._summaryCache.set(t,r.toSummary()),r},t.prototype._getDependenciesMetadata=function(t,e,n){var r=this;void 0===n&&(n=!0);var i=!1,o=e||this._reflector.parameters(t)||[],s=o.map(function(t){var e=!1,n=!1,o=!1,s=!1,a=!1,u=null;return Array.isArray(t)?t.forEach(function(t){t instanceof Vr.Host?n=!0:t instanceof Vr.Self?o=!0:t instanceof Vr.SkipSelf?s=!0:t instanceof Vr.Optional?a=!0:t instanceof Vr.Attribute?(e=!0,u=t.attributeName):t instanceof Vr.Inject?u=t.token:t instanceof Vr.InjectionToken?u=t:tn(t)&&null==u&&(u=t)}):u=t,null==u?(i=!0,null):{isAttribute:e,isHost:n,isSelf:o,isSkipSelf:s,isOptional:a,token:r._getTokenMetadata(u)}});if(i){var a=s.map(function(t){return t?rn(t.token):"?"}).join(", "),u="Can't resolve all parameters for "+rn(t)+": ("+a+").";n?this._reportError(f(u),t):this._console.warn("Warning: "+u+" This will become an error in Angular v5.x")}return s},t.prototype._getTokenMetadata=function(t){t=n.i(Vr.resolveForwardRef)(t);return"string"==typeof t?{value:t}:{identifier:{reference:t}}},t.prototype._getProvidersMetadata=function(t,e,r,i,o){var s=this;return void 0===i&&(i=[]),t.forEach(function(a,u){if(Array.isArray(a))s._getProvidersMetadata(a,e,r,i);else{a=n.i(Vr.resolveForwardRef)(a);var c=void 0;if(a&&"object"==typeof a&&a.hasOwnProperty("provide"))s._validateProvider(a),c=new Ni(a.provide,a);else if(tn(a))c=new Ni(a,{useClass:a});else if(void 0===a)s._reportError(f("Encountered undefined provider! Usually this means you have a circular dependencies (might be caused by using 'barrel' index.ts files."));else{var l=t.reduce(function(t,e,n){return n<u?t.push(""+rn(e)):n==u?t.push("?"+rn(e)+"?"):n==u+1&&t.push("..."),t},[]).join(", ");s._reportError(f("Invalid "+(r?r:"provider")+" - only instances of Provider and Type are allowed, got: ["+l+"]"),o)}c.token===se(lu.ANALYZE_FOR_ENTRY_COMPONENTS)?e.push.apply(e,s._getEntryComponentsFromProvider(c,o)):i.push(s.getProviderMetadata(c))}}),i},t.prototype._validateProvider=function(t){t.hasOwnProperty("useClass")&&null==t.useClass&&this._reportError(f("Invalid provider for "+rn(t.provide)+". useClass cannot be "+t.useClass+".\n           Usually it happens when:\n           1. There's a circular dependency (might be caused by using index.ts (barrel) files).\n           2. Class was used before it was declared. Use forwardRef in this case."))},t.prototype._getEntryComponentsFromProvider=function(t,e){var n=this,r=[],i=[];return t.useFactory||t.useExisting||t.useClass?(this._reportError(f("The ANALYZE_FOR_ENTRY_COMPONENTS token only supports useValue!"),e),[]):t.multi?(nn(t.useValue,i),i.forEach(function(t){var e=n._getEntryComponentMetadata(t.reference,!1);e&&r.push(e)}),r):(this._reportError(f("The ANALYZE_FOR_ENTRY_COMPONENTS token only supports 'multi = true'!"),e),[])},t.prototype._getEntryComponentMetadata=function(t,e){void 0===e&&(e=!0);var n=this.getNonNormalizedDirectiveMetadata(t);if(n&&n.metadata.isComponent)return{componentType:t,componentFactory:n.metadata.componentFactory};var r=this._loadSummary(t,Ti.Directive);if(r&&r.isComponent)return{componentType:t,componentFactory:r.componentFactory};if(e)throw f(t.name+" cannot be used as an entry component.")},t.prototype.getProviderMetadata=function(t){var e,n=null,r=null,i=this._getTokenMetadata(t.token);return t.useClass?(n=this._getInjectableMetadata(t.useClass,t.dependencies),e=n.diDeps,t.token===t.useClass&&(i={identifier:n})):t.useFactory&&(r=this._getFactoryMetadata(t.useFactory,t.dependencies),e=r.diDeps),{token:i,useClass:n,useValue:t.useValue,useFactory:r,useExisting:t.useExisting?this._getTokenMetadata(t.useExisting):null,deps:e,multi:t.multi}},t.prototype._getQueriesMetadata=function(t,e,n){var r=this,i=[];return Object.keys(t).forEach(function(o){var s=t[o];s.isViewQuery===e&&i.push(r._getQueryMetadata(s,o,n))}),i},t.prototype._queryVarBindings=function(t){return t.split(/\s*,\s*/)},t.prototype._getQueryMetadata=function(t,e,n){var r,i=this;return"string"==typeof t.selector?r=this._queryVarBindings(t.selector).map(function(t){return i._getTokenMetadata(t)}):(t.selector||this._reportError(f("Can't construct a query for the property \""+e+'" of "'+rn(n)+"\" since the query selector wasn't defined."),n),r=[this._getTokenMetadata(t.selector)]),{selectors:r,first:t.first,descendants:t.descendants,propertyName:e,read:t.read?this._getTokenMetadata(t.read):null}},t.prototype._reportError=function(t,e,n){if(!this._errorCollector)throw t;this._errorCollector(t,e),n&&this._errorCollector(t,n)},t}();kc.decorators=[{type:F}],kc.ctorParameters=function(){return[{type:Di},{type:Lc},{type:Pc},{type:Ic},{type:Nc},{type:_u},{type:Cc},{type:Vr["ÉµConsole"]},{type:oi,decorators:[{type:Vr.Optional}]},{type:Vr["ÉµReflectorReader"]},{type:void 0,decorators:[{type:Vr.Optional},{type:Vr.Inject,args:[Dc]}]}]};var jc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Hr(e,t),e.prototype.visitOther=function(t,e){e.push({reference:t})},e}(yi),Fc={};Fc.Const=0,Fc[Fc.Const]="Const";var Uc=function(){function t(t){void 0===t&&(t=null),this.modifiers=t,t||(this.modifiers=[])}return t.prototype.visitType=function(t,e){},t.prototype.hasModifier=function(t){return this.modifiers.indexOf(t)!==-1},t}(),Bc={};Bc.Dynamic=0,Bc.Bool=1,Bc.String=2,Bc.Int=3,Bc.Number=4,Bc.Function=5,Bc.Inferred=6,Bc[Bc.Dynamic]="Dynamic",Bc[Bc.Bool]="Bool",Bc[Bc.String]="String",Bc[Bc.Int]="Int",Bc[Bc.Number]="Number",Bc[Bc.Function]="Function",Bc[Bc.Inferred]="Inferred";var Vc=function(t){function e(e,n){void 0===n&&(n=null);var r=t.call(this,n)||this;return r.name=e,r}return Hr(e,t),e.prototype.visitType=function(t,e){return t.visitBuiltintType(this,e)},e}(Uc),Hc=function(t){function e(e,n){void 0===n&&(n=null);var r=t.call(this,n)||this;return r.value=e,r}return Hr(e,t),e.prototype.visitType=function(t,e){return t.visitExpressionType(this,e)},e}(Uc),zc=function(t){function e(e,n){void 0===n&&(n=null);var r=t.call(this,n)||this;return r.of=e,r}return Hr(e,t),e.prototype.visitType=function(t,e){return t.visitArrayType(this,e)},e}(Uc),Gc=function(t){function e(e,n){void 0===n&&(n=null);var r=t.call(this,n)||this;return r.valueType=e,r}return Hr(e,t),e.prototype.visitType=function(t,e){return t.visitMapType(this,e)},e}(Uc),Wc=new Vc(Bc.Dynamic),qc=new Vc(Bc.Inferred),Xc=new Vc(Bc.Bool),Yc=(new Vc(Bc.Int),new Vc(Bc.Number),new Vc(Bc.String),new Vc(Bc.Function),{});Yc.Equals=0,Yc.NotEquals=1,Yc.Identical=2,Yc.NotIdentical=3,Yc.Minus=4,Yc.Plus=5,Yc.Divide=6,Yc.Multiply=7,Yc.Modulo=8,Yc.And=9,Yc.Or=10,Yc.Lower=11,Yc.LowerEquals=12,Yc.Bigger=13,Yc.BiggerEquals=14,Yc[Yc.Equals]="Equals",Yc[Yc.NotEquals]="NotEquals",Yc[Yc.Identical]="Identical",Yc[Yc.NotIdentical]="NotIdentical",Yc[Yc.Minus]="Minus",Yc[Yc.Plus]="Plus",Yc[Yc.Divide]="Divide",Yc[Yc.Multiply]="Multiply",Yc[Yc.Modulo]="Modulo",Yc[Yc.And]="And",Yc[Yc.Or]="Or",Yc[Yc.Lower]="Lower",Yc[Yc.LowerEquals]="LowerEquals",Yc[Yc.Bigger]="Bigger",Yc[Yc.BiggerEquals]="BiggerEquals";var Zc=function(){function t(t,e){this.type=t,this.sourceSpan=e}return t.prototype.visitExpression=function(t,e){},t.prototype.prop=function(t,e){return new fl(this,t,null,e)},t.prototype.key=function(t,e,n){return void 0===e&&(e=null),new dl(this,t,e,n)},t.prototype.callMethod=function(t,e,n){return new nl(this,t,e,null,n)},t.prototype.callFn=function(t,e){return new rl(this,t,null,e)},t.prototype.instantiate=function(t,e,n){return void 0===e&&(e=null),new il(this,t,e,n)},t.prototype.conditional=function(t,e,n){return void 0===e&&(e=null),new al(this,t,e,null,n)},t.prototype.equals=function(t,e){return new hl(Yc.Equals,this,t,null,e)},t.prototype.notEquals=function(t,e){return new hl(Yc.NotEquals,this,t,null,e)},t.prototype.identical=function(t,e){return new hl(Yc.Identical,this,t,null,e)},t.prototype.notIdentical=function(t,e){return new hl(Yc.NotIdentical,this,t,null,e)},t.prototype.minus=function(t,e){return new hl(Yc.Minus,this,t,null,e)},t.prototype.plus=function(t,e){return new hl(Yc.Plus,this,t,null,e)},t.prototype.divide=function(t,e){return new hl(Yc.Divide,this,t,null,e)},t.prototype.multiply=function(t,e){return new hl(Yc.Multiply,this,t,null,e)},t.prototype.modulo=function(t,e){return new hl(Yc.Modulo,this,t,null,e)},t.prototype.and=function(t,e){return new hl(Yc.And,this,t,null,e)},t.prototype.or=function(t,e){return new hl(Yc.Or,this,t,null,e)},t.prototype.lower=function(t,e){return new hl(Yc.Lower,this,t,null,e)},t.prototype.lowerEquals=function(t,e){return new hl(Yc.LowerEquals,this,t,null,e)},t.prototype.bigger=function(t,e){return new hl(Yc.Bigger,this,t,null,e)},t.prototype.biggerEquals=function(t,e){return new hl(Yc.BiggerEquals,this,t,null,e)},t.prototype.isBlank=function(t){return this.equals(xl,t)},t.prototype.cast=function(t,e){return new cl(this,t,e)},t.prototype.toStmt=function(){return new Tl(this)},t}(),Qc={};Qc.This=0,Qc.Super=1,Qc.CatchError=2,Qc.CatchStack=3,Qc[Qc.This]="This",Qc[Qc.Super]="Super",Qc[Qc.CatchError]="CatchError",Qc[Qc.CatchStack]="CatchStack";var Kc=function(t){function e(e,n,r){void 0===n&&(n=null);var i=t.call(this,n,r)||this;return"string"==typeof e?(i.name=e,i.builtin=null):(i.name=null,i.builtin=e),i}return Hr(e,t),e.prototype.visitExpression=function(t,e){return t.visitReadVarExpr(this,e)},e.prototype.set=function(t){return new Jc(this.name,t,null,this.sourceSpan)},e}(Zc),Jc=function(t){function e(e,n,r,i){void 0===r&&(r=null);var o=t.call(this,r||n.type,i)||this;return o.name=e,o.value=n,o}return Hr(e,t),e.prototype.visitExpression=function(t,e){return t.visitWriteVarExpr(this,e)},e.prototype.toDeclStmt=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=null),new Ml(this.name,this.value,t,e,this.sourceSpan)},e}(Zc),$c=function(t){function e(e,n,r,i,o){void 0===i&&(i=null);var s=t.call(this,i||r.type,o)||this;return s.receiver=e,s.index=n,s.value=r,s}return Hr(e,t),e.prototype.visitExpression=function(t,e){return t.visitWriteKeyExpr(this,e)},e}(Zc),tl=function(t){function e(e,n,r,i,o){void 0===i&&(i=null);var s=t.call(this,i||r.type,o)||this;return s.receiver=e,s.name=n,s.value=r,s}return Hr(e,t),e.prototype.visitExpression=function(t,e){return t.visitWritePropExpr(this,e)},e}(Zc),el={};el.ConcatArray=0,el.SubscribeObservable=1,el.Bind=2,el[el.ConcatArray]="ConcatArray",el[el.SubscribeObservable]="SubscribeObservable",el[el.Bind]="Bind";var nl=function(t){function e(e,n,r,i,o){void 0===i&&(i=null);var s=t.call(this,i,o)||this;return s.receiver=e,s.args=r,"string"==typeof n?(s.name=n,s.builtin=null):(s.name=null,s.builtin=n),s}return Hr(e,t),e.prototype.visitExpression=function(t,e){return t.visitInvokeMethodExpr(this,e)},e}(Zc),rl=function(t){function e(e,n,r,i){void 0===r&&(r=null);var o=t.call(this,r,i)||this;return o.fn=e,o.args=n,o}return Hr(e,t),e.prototype.visitExpression=function(t,e){return t.visitInvokeFunctionExpr(this,e)},e}(Zc),il=function(t){function e(e,n,r,i){var o=t.call(this,r,i)||this;return o.classExpr=e,o.args=n,o}return Hr(e,t),e.prototype.visitExpression=function(t,e){return t.visitInstantiateExpr(this,e)},e}(Zc),ol=function(t){function e(e,n,r){void 0===n&&(n=null);var i=t.call(this,n,r)||this;return i.value=e,i}return Hr(e,t),e.prototype.visitExpression=function(t,e){return t.visitLiteralExpr(this,e)},e}(Zc),sl=function(t){function e(e,n,r,i){void 0===n&&(n=null),void 0===r&&(r=null);var o=t.call(this,n,i)||this;return o.value=e,o.typeParams=r,o}return Hr(e,t),e.prototype.visitExpression=function(t,e){return t.visitExternalExpr(this,e)},e}(Zc),al=function(t){function e(e,n,r,i,o){void 0===r&&(r=null),void 0===i&&(i=null);var s=t.call(this,i||n.type,o)||this;return s.condition=e,s.falseCase=r,s.trueCase=n,s}return Hr(e,t),e.prototype.visitExpression=function(t,e){return t.visitConditionalExpr(this,e)},e}(Zc),ul=function(t){function e(e,n){var r=t.call(this,Xc,n)||this;return r.condition=e,r}return Hr(e,t),e.prototype.visitExpression=function(t,e){return t.visitNotExpr(this,e)},e}(Zc),cl=function(t){function e(e,n,r){var i=t.call(this,n,r)||this;return i.value=e,i}return Hr(e,t),e.prototype.visitExpression=function(t,e){return t.visitCastExpr(this,e)},e}(Zc),ll=function(){function t(t,e){void 0===e&&(e=null),this.name=t,this.type=e}return t}(),pl=function(t){function e(e,n,r,i){void 0===r&&(r=null);var o=t.call(this,r,i)||this;return o.params=e,o.statements=n,o}return Hr(e,t),e.prototype.visitExpression=function(t,e){return t.visitFunctionExpr(this,e)},e.prototype.toDeclStmt=function(t,e){return void 0===e&&(e=null),new Cl(t,this.params,this.statements,this.type,e,this.sourceSpan)},e}(Zc),hl=function(t){function e(e,n,r,i,o){void 0===i&&(i=null);var s=t.call(this,i||n.type,o)||this;return s.operator=e,s.rhs=r,s.lhs=n,s}return Hr(e,t),e.prototype.visitExpression=function(t,e){return t.visitBinaryOperatorExpr(this,e)},e}(Zc),fl=function(t){function e(e,n,r,i){void 0===r&&(r=null);var o=t.call(this,r,i)||this;return o.receiver=e,o.name=n,o}return Hr(e,t),e.prototype.visitExpression=function(t,e){return t.visitReadPropExpr(this,e)},e.prototype.set=function(t){return new tl(this.receiver,this.name,t,null,this.sourceSpan)},e}(Zc),dl=function(t){function e(e,n,r,i){void 0===r&&(r=null);var o=t.call(this,r,i)||this;return o.receiver=e,o.index=n,o}return Hr(e,t),e.prototype.visitExpression=function(t,e){return t.visitReadKeyExpr(this,e)},e.prototype.set=function(t){return new $c(this.receiver,this.index,t,null,this.sourceSpan)},e}(Zc),ml=function(t){function e(e,n,r){void 0===n&&(n=null);var i=t.call(this,n,r)||this;return i.entries=e,i}return Hr(e,t),e.prototype.visitExpression=function(t,e){return t.visitLiteralArrayExpr(this,e)},e}(Zc),vl=function(){function t(t,e,n){void 0===n&&(n=!1),this.key=t,this.value=e,this.quoted=n}return t}(),gl=function(t){function e(e,n,r){void 0===n&&(n=null);var i=t.call(this,n,r)||this;return i.entries=e,i.valueType=null,n&&(i.valueType=n.valueType),i}return Hr(e,t),e.prototype.visitExpression=function(t,e){return t.visitLiteralMapExpr(this,e)},e}(Zc),yl=function(t){function e(e,n){var r=t.call(this,e[e.length-1].type,n)||this;return r.parts=e,r}return Hr(e,t),e.prototype.visitExpression=function(t,e){return t.visitCommaExpr(this,e)},e}(Zc),_l=new Kc(Qc.This),bl=new Kc(Qc.Super),wl=(new Kc(Qc.CatchError),new Kc(Qc.CatchStack),new ol(null,null)),xl=new ol(null,qc),El={};El.Final=0,El.Private=1,El[El.Final]="Final",El[El.Private]="Private";var Sl=function(){function t(t,e){void 0===t&&(t=null),this.modifiers=t,this.sourceSpan=e,t||(this.modifiers=[])}return t.prototype.visitStatement=function(t,e){},t.prototype.hasModifier=function(t){return this.modifiers.indexOf(t)!==-1},t}(),Ml=function(t){function e(e,n,r,i,o){void 0===r&&(r=null),void 0===i&&(i=null);var s=t.call(this,i,o)||this;return s.name=e,s.value=n,s.type=r||n.type,s}return Hr(e,t),e.prototype.visitStatement=function(t,e){return t.visitDeclareVarStmt(this,e)},e}(Sl),Cl=function(t){function e(e,n,r,i,o,s){void 0===i&&(i=null),void 0===o&&(o=null);var a=t.call(this,o,s)||this;return a.name=e,a.params=n,a.statements=r,a.type=i,a}return Hr(e,t),e.prototype.visitStatement=function(t,e){return t.visitDeclareFunctionStmt(this,e)},e}(Sl),Tl=function(t){function e(e,n){var r=t.call(this,null,n)||this;return r.expr=e,r}return Hr(e,t),e.prototype.visitStatement=function(t,e){return t.visitExpressionStmt(this,e)},e}(Sl),Al=function(t){function e(e,n){var r=t.call(this,null,n)||this;return r.value=e,r}return Hr(e,t),e.prototype.visitStatement=function(t,e){return t.visitReturnStmt(this,e)},e}(Sl),Pl=function(){function t(t,e){void 0===t&&(t=null),this.type=t,this.modifiers=e,e||(this.modifiers=[])}return t.prototype.hasModifier=function(t){return this.modifiers.indexOf(t)!==-1},t}(),Rl=function(t){function e(e,n,r){void 0===n&&(n=null),void 0===r&&(r=null);var i=t.call(this,n,r)||this;return i.name=e,i}return Hr(e,t),e}(Pl),Ol=function(t){function e(e,n,r,i,o){void 0===i&&(i=null),void 0===o&&(o=null);var s=t.call(this,i,o)||this;return s.name=e,s.params=n,s.body=r,s}return Hr(e,t),e}(Pl),Ll=function(t){function e(e,n,r,i){void 0===r&&(r=null),void 0===i&&(i=null);var o=t.call(this,r,i)||this;return o.name=e,o.body=n,o}return Hr(e,t),e}(Pl),Il=function(t){function e(e,n,r,i,o,s,a,u){void 0===a&&(a=null);var c=t.call(this,a,u)||this;return c.name=e,c.parent=n,c.fields=r,c.getters=i,c.constructorMethod=o,c.methods=s,c}return Hr(e,t),e.prototype.visitStatement=function(t,e){return t.visitDeclareClassStmt(this,e)},e}(Sl),Nl=function(t){function e(e,n,r,i){void 0===r&&(r=[]);var o=t.call(this,null,i)||this;return o.condition=e,o.trueCase=n,o.falseCase=r,o}return Hr(e,t),e.prototype.visitStatement=function(t,e){return t.visitIfStmt(this,e)},e}(Sl),Dl=function(t){function e(e,n,r){var i=t.call(this,null,r)||this;return i.bodyStmts=e,i.catchStmts=n,i}return Hr(e,t),e.prototype.visitStatement=function(t,e){return t.visitTryCatchStmt(this,e)},e}(Sl),kl=function(t){function e(e,n){var r=t.call(this,null,n)||this;return r.error=e,r}return Hr(e,t),e.prototype.visitStatement=function(t,e){return t.visitThrowStmt(this,e)},e}(Sl),jl=function(){function t(){}return t.prototype.transformExpr=function(t,e){return t},t.prototype.transformStmt=function(t,e){return t},t.prototype.visitReadVarExpr=function(t,e){return this.transformExpr(t,e)},t.prototype.visitWriteVarExpr=function(t,e){return this.transformExpr(new Jc(t.name,t.value.visitExpression(this,e),t.type,t.sourceSpan),e)},t.prototype.visitWriteKeyExpr=function(t,e){return this.transformExpr(new $c(t.receiver.visitExpression(this,e),t.index.visitExpression(this,e),t.value.visitExpression(this,e),t.type,t.sourceSpan),e)},t.prototype.visitWritePropExpr=function(t,e){return this.transformExpr(new tl(t.receiver.visitExpression(this,e),t.name,t.value.visitExpression(this,e),t.type,t.sourceSpan),e)},t.prototype.visitInvokeMethodExpr=function(t,e){var n=t.builtin||t.name;return this.transformExpr(new nl(t.receiver.visitExpression(this,e),n,this.visitAllExpressions(t.args,e),t.type,t.sourceSpan),e)},t.prototype.visitInvokeFunctionExpr=function(t,e){return this.transformExpr(new rl(t.fn.visitExpression(this,e),this.visitAllExpressions(t.args,e),t.type,t.sourceSpan),e)},t.prototype.visitInstantiateExpr=function(t,e){return this.transformExpr(new il(t.classExpr.visitExpression(this,e),this.visitAllExpressions(t.args,e),t.type,t.sourceSpan),e)},t.prototype.visitLiteralExpr=function(t,e){return this.transformExpr(t,e)},t.prototype.visitExternalExpr=function(t,e){return this.transformExpr(t,e)},t.prototype.visitConditionalExpr=function(t,e){return this.transformExpr(new al(t.condition.visitExpression(this,e),t.trueCase.visitExpression(this,e),t.falseCase.visitExpression(this,e),t.type,t.sourceSpan),e)},t.prototype.visitNotExpr=function(t,e){return this.transformExpr(new ul(t.condition.visitExpression(this,e),t.sourceSpan),e)},t.prototype.visitCastExpr=function(t,e){return this.transformExpr(new cl(t.value.visitExpression(this,e),t.type,t.sourceSpan),e)},t.prototype.visitFunctionExpr=function(t,e){return this.transformExpr(new pl(t.params,this.visitAllStatements(t.statements,e),t.type,t.sourceSpan),e)},t.prototype.visitBinaryOperatorExpr=function(t,e){return this.transformExpr(new hl(t.operator,t.lhs.visitExpression(this,e),t.rhs.visitExpression(this,e),t.type,t.sourceSpan),e)},t.prototype.visitReadPropExpr=function(t,e){return this.transformExpr(new fl(t.receiver.visitExpression(this,e),t.name,t.type,t.sourceSpan),e)},t.prototype.visitReadKeyExpr=function(t,e){return this.transformExpr(new dl(t.receiver.visitExpression(this,e),t.index.visitExpression(this,e),t.type,t.sourceSpan),e)},t.prototype.visitLiteralArrayExpr=function(t,e){return this.transformExpr(new ml(this.visitAllExpressions(t.entries,e),t.type,t.sourceSpan),e)},t.prototype.visitLiteralMapExpr=function(t,e){var n=this,r=t.entries.map(function(t){return new vl(t.key,t.value.visitExpression(n,e),t.quoted)}),i=new Gc(t.valueType);return this.transformExpr(new gl(r,i,t.sourceSpan),e)},t.prototype.visitCommaExpr=function(t,e){return this.transformExpr(new yl(this.visitAllExpressions(t.parts,e),t.sourceSpan),e)},t.prototype.visitAllExpressions=function(t,e){var n=this;return t.map(function(t){return t.visitExpression(n,e)})},t.prototype.visitDeclareVarStmt=function(t,e){return this.transformStmt(new Ml(t.name,t.value.visitExpression(this,e),t.type,t.modifiers,t.sourceSpan),e)},t.prototype.visitDeclareFunctionStmt=function(t,e){return this.transformStmt(new Cl(t.name,t.params,this.visitAllStatements(t.statements,e),t.type,t.modifiers,t.sourceSpan),e)},t.prototype.visitExpressionStmt=function(t,e){return this.transformStmt(new Tl(t.expr.visitExpression(this,e),t.sourceSpan),e)},t.prototype.visitReturnStmt=function(t,e){return this.transformStmt(new Al(t.value.visitExpression(this,e),t.sourceSpan),e)},t.prototype.visitDeclareClassStmt=function(t,e){var n=this,r=t.parent.visitExpression(this,e),i=t.getters.map(function(t){return new Ll(t.name,n.visitAllStatements(t.body,e),t.type,t.modifiers)}),o=t.constructorMethod&&new Ol(t.constructorMethod.name,t.constructorMethod.params,this.visitAllStatements(t.constructorMethod.body,e),t.constructorMethod.type,t.constructorMethod.modifiers),s=t.methods.map(function(t){return new Ol(t.name,t.params,n.visitAllStatements(t.body,e),t.type,t.modifiers)});return this.transformStmt(new Il(t.name,r,t.fields,i,o,s,t.modifiers,t.sourceSpan),e)},t.prototype.visitIfStmt=function(t,e){return this.transformStmt(new Nl(t.condition.visitExpression(this,e),this.visitAllStatements(t.trueCase,e),this.visitAllStatements(t.falseCase,e),t.sourceSpan),e)},t.prototype.visitTryCatchStmt=function(t,e){return this.transformStmt(new Dl(this.visitAllStatements(t.bodyStmts,e),this.visitAllStatements(t.catchStmts,e),t.sourceSpan),e)},t.prototype.visitThrowStmt=function(t,e){return this.transformStmt(new kl(t.error.visitExpression(this,e),t.sourceSpan),e)},t.prototype.visitCommentStmt=function(t,e){return this.transformStmt(t,e)},t.prototype.visitAllStatements=function(t,e){var n=this;return t.map(function(t){return t.visitStatement(n,e)})},t}(),Fl=function(){function t(){}return t.prototype.visitReadVarExpr=function(t,e){return t},t.prototype.visitWriteVarExpr=function(t,e){return t.value.visitExpression(this,e),t},t.prototype.visitWriteKeyExpr=function(t,e){return t.receiver.visitExpression(this,e),t.index.visitExpression(this,e),t.value.visitExpression(this,e),t},t.prototype.visitWritePropExpr=function(t,e){return t.receiver.visitExpression(this,e),t.value.visitExpression(this,e),t},t.prototype.visitInvokeMethodExpr=function(t,e){return t.receiver.visitExpression(this,e),this.visitAllExpressions(t.args,e),t},t.prototype.visitInvokeFunctionExpr=function(t,e){return t.fn.visitExpression(this,e),this.visitAllExpressions(t.args,e),t},t.prototype.visitInstantiateExpr=function(t,e){return t.classExpr.visitExpression(this,e),this.visitAllExpressions(t.args,e),t},t.prototype.visitLiteralExpr=function(t,e){return t},t.prototype.visitExternalExpr=function(t,e){return t},t.prototype.visitConditionalExpr=function(t,e){return t.condition.visitExpression(this,e),t.trueCase.visitExpression(this,e),t.falseCase.visitExpression(this,e),t},t.prototype.visitNotExpr=function(t,e){return t.condition.visitExpression(this,e),t},t.prototype.visitCastExpr=function(t,e){return t.value.visitExpression(this,e),t},t.prototype.visitFunctionExpr=function(t,e){return this.visitAllStatements(t.statements,e),t},t.prototype.visitBinaryOperatorExpr=function(t,e){return t.lhs.visitExpression(this,e),t.rhs.visitExpression(this,e),t},t.prototype.visitReadPropExpr=function(t,e){return t.receiver.visitExpression(this,e),t},t.prototype.visitReadKeyExpr=function(t,e){return t.receiver.visitExpression(this,e),t.index.visitExpression(this,e),t},t.prototype.visitLiteralArrayExpr=function(t,e){return this.visitAllExpressions(t.entries,e),t},t.prototype.visitLiteralMapExpr=function(t,e){var n=this;return t.entries.forEach(function(t){return t.value.visitExpression(n,e)}),t},t.prototype.visitCommaExpr=function(t,e){this.visitAllExpressions(t.parts,e)},t.prototype.visitAllExpressions=function(t,e){var n=this;t.forEach(function(t){return t.visitExpression(n,e)})},t.prototype.visitDeclareVarStmt=function(t,e){return t.value.visitExpression(this,e),t},t.prototype.visitDeclareFunctionStmt=function(t,e){return this.visitAllStatements(t.statements,e),t},t.prototype.visitExpressionStmt=function(t,e){return t.expr.visitExpression(this,e),t},t.prototype.visitReturnStmt=function(t,e){return t.value.visitExpression(this,e),t},t.prototype.visitDeclareClassStmt=function(t,e){var n=this;return t.parent.visitExpression(this,e),t.getters.forEach(function(t){return n.visitAllStatements(t.body,e)}),t.constructorMethod&&this.visitAllStatements(t.constructorMethod.body,e),t.methods.forEach(function(t){return n.visitAllStatements(t.body,e)}),t},t.prototype.visitIfStmt=function(t,e){return t.condition.visitExpression(this,e),this.visitAllStatements(t.trueCase,e),this.visitAllStatements(t.falseCase,e),t},t.prototype.visitTryCatchStmt=function(t,e){return this.visitAllStatements(t.bodyStmts,e),this.visitAllStatements(t.catchStmts,e),t},t.prototype.visitThrowStmt=function(t,e){return t.error.visitExpression(this,e),t},t.prototype.visitCommentStmt=function(t,e){return t},t.prototype.visitAllStatements=function(t,e){var n=this;t.forEach(function(t){return t.visitStatement(n,e)})},t}(),Ul=function(t){function e(){var e=t.apply(this,arguments)||this;return e.varNames=new Set,e}return Hr(e,t),e.prototype.visitDeclareFunctionStmt=function(t,e){return t},e.prototype.visitDeclareClassStmt=function(t,e){return t},e.prototype.visitReadVarExpr=function(t,e){return this.varNames.add(t.name),null},e}(Fl),Bl=function(t){function e(e){var n=t.call(this)||this;return n.sourceSpan=e,n}return Hr(e,t),e.prototype._clone=function(t){var e=Object.create(t.constructor.prototype);for(var n in t)e[n]=t[n];return e},e.prototype.transformExpr=function(t,e){return t.sourceSpan||(t=this._clone(t),t.sourceSpan=this.sourceSpan),t},e.prototype.transformStmt=function(t,e){return t.sourceSpan||(t=this._clone(t),t.sourceSpan=this.sourceSpan),t},e}(jl),Vl="$quoted$",Hl=function(){function t(){}return t.prototype.visitArray=function(t,e){var n=this;return fn(t.map(function(t){return h(t,n,null)}),e)},t.prototype.visitStringMap=function(t,e){var n=this,r=[],i=new Set(t&&t[Vl]);return Object.keys(t).forEach(function(e){r.push(new vl(e,h(t[e],n,null),i.has(e)))}),new gl(r,e)},t.prototype.visitPrimitive=function(t,e){return gn(t,e)},t.prototype.visitOther=function(t,e){return t instanceof Zc?t:ln({reference:t})},t}(),zl=function(){function t(t){this.compType=t}return t}(),Gl=function(){function t(t,e,n){this.statements=t,this.ngModuleFactoryVar=e,this.dependencies=n}return t}(),Wl=function(){function t(){}return t.prototype.compile=function(t,e){var n=rt("NgModule",t.type),r=[],i=[],o=t.transitiveModule.entryComponents.map(function(e){return t.bootstrapComponents.some(function(t){return t.reference===e.componentType})&&i.push({reference:e.componentFactory}),r.push(new zl(e.componentType)),{reference:e.componentFactory}}),s=new ql(t,o,i,n);new yu(t,e,n).parse().forEach(function(t){return s.addProvider(t)});var a=s.build(),u=y(t.type)+"NgFactory",c=cn(u).set(ln(ae(lu.NgModuleFactory)).instantiate([cn(a.name),ln(t.type)],pn(ae(lu.NgModuleFactory),[pn(t.type)],[Fc.Const]))).toDeclStmt(null,[El.Final]),l=[a,c];if(t.id){var p=ln(ae(lu.RegisterModuleFactoryFn)).callFn([gn(t.id),cn(u)]).toStmt();l.push(p)}return new Gl(l,u,r)},t}();Wl.decorators=[{type:F}],Wl.ctorParameters=function(){return[]};var ql=function(){function t(t,e,n,r){this._ngModuleMeta=t,this._entryComponentFactories=e,this._bootstrapComponentFactories=n,this._sourceSpan=r,this.fields=[],this.getters=[],this.methods=[],this.ctorStmts=[],this._lazyProps=new Map,this._tokens=[],this._instances=new Map,this._createStmts=[],this._destroyStmts=[]}return t.prototype.addProvider=function(t){var e=this,n=t.providers.map(function(t){return e._getProviderValue(t)}),r="_"+S(t.token)+"_"+this._instances.size,i=this._createProviderProperty(r,t,n,t.multiProvider,t.eager);if(t.lifecycleHooks.indexOf(Vr["ÉµLifecycleHooks"].OnDestroy)!==-1){var o=i.callMethod("ngOnDestroy",[]);t.eager||(o=this._lazyProps.get(i.name).and(o)),this._destroyStmts.push(o.toStmt())}this._tokens.push(t.token),this._instances.set(M(t.token),i)},t.prototype.build=function(){var t=this,e=this._tokens.map(function(e){var n=t._instances.get(M(e));return new Nl(Yl.token.identical(wn(e)),[new Al(n)])}),n=[new Ol("createInternal",[],this._createStmts.concat(new Al(this._instances.get(this._ngModuleMeta.type.reference))),pn(this._ngModuleMeta.type)),new Ol("getInternal",[new ll(Yl.token.name,Wc),new ll(Yl.notFoundResult.name,Wc)],e.concat([new Al(Yl.notFoundResult)]),Wc),new Ol("destroyInternal",[],this._destroyStmts)],r=[cn(Xl.parent.name),fn(this._entryComponentFactories.map(function(t){return ln(t)})),fn(this._bootstrapComponentFactories.map(function(t){return ln(t)}))];return yn({name:y(this._ngModuleMeta.type)+"Injector",ctorParams:[new ll(Xl.parent.name,pn(ae(lu.Injector)))],parent:ln(ae(lu.NgModuleInjector),[pn(this._ngModuleMeta.type)]),parentArgs:r,builders:[{methods:n},this]})},t.prototype._getProviderValue=function(t){var e,n=this;if(null!=t.useExisting)e=this._getDependency({token:t.useExisting});else if(null!=t.useFactory){var r=t.deps||t.useFactory.diDeps,i=r.map(function(t){return n._getDependency(t)});e=ln(t.useFactory).callFn(i)}else if(null!=t.useClass){var r=t.deps||t.useClass.diDeps,i=r.map(function(t){return n._getDependency(t)});e=ln(t.useClass).instantiate(i,pn(t.useClass))}else e=bn(t.useValue);return e},t.prototype._createProviderProperty=function(t,e,n,r,i){var o,s;if(r?(o=fn(n),s=new zc(Wc)):(o=n[0],s=n[0].type),s||(s=Wc),i)this.fields.push(new Rl(t,s)),this._createStmts.push(_l.prop(t).set(o).toStmt());else{var a=_l.prop("_"+t);this.fields.push(new Rl(a.name,s));var u=[new Nl(a.isBlank(),[a.set(o).toStmt()]),new Al(a)];this.getters.push(new Ll(t,u,s)),this._lazyProps.set(t,a)}return _l.prop(t)},t.prototype._getDependency=function(t){var e=null;if(t.isValue&&(e=gn(t.value)),t.isSkipSelf||(t.token&&(M(t.token)===se(lu.Injector)?e=_l:M(t.token)===se(lu.ComponentFactoryResolver)&&(e=_l.prop("componentFactoryResolver"))),e||(e=this._instances.get(M(t.token)))),!e){var n=[wn(t.token)];t.isOptional&&n.push(wl),e=Xl.parent.callMethod("get",n)}return e},t}(),Xl=function(){function t(){}return t}();Xl.parent=_l.prop("parent");var Yl=function(){function t(){}return t}();Yl.token=cn("token"),Yl.notFoundResult=cn("notFoundResult");/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var Zl=3,Ql="# sourceMappingURL=data:application/json;base64,",Kl=function(){function t(t){void 0===t&&(t=null),this.file=t,this.sourcesContent=new Map,this.lines=[],this.lastCol0=0,this.hasMappings=!1}return t.prototype.addSource=function(t,e){return void 0===e&&(e=null),this.sourcesContent.has(t)||this.sourcesContent.set(t,e),this},t.prototype.addLine=function(){return this.lines.push([]),this.lastCol0=0,this},t.prototype.addMapping=function(t,e,n,r){if(!this.currentLine)throw new Error("A line must be added before mappings can be added");if(null!=e&&!this.sourcesContent.has(e))throw new Error('Unknown source file "'+e+'"');if(null==t)throw new Error("The column in the generated code must be provided");if(t<this.lastCol0)throw new Error("Mapping should be added in output order");if(e&&(null==n||null==r))throw new Error("The source location must be provided when a source url is provided");return this.hasMappings=!0,this.lastCol0=t,this.currentLine.push({col0:t,sourceUrl:e,sourceLine0:n,sourceCol0:r}),this},Object.defineProperty(t.prototype,"currentLine",{get:function(){return this.lines.slice(-1)[0]},enumerable:!0,configurable:!0}),t.prototype.toJSON=function(){var t=this;if(!this.hasMappings)return null;var e=new Map,n=[],r=[];Array.from(this.sourcesContent.keys()).forEach(function(i,o){e.set(i,o),n.push(i),r.push(t.sourcesContent.get(i)||null)});var i="",o=0,s=0,a=0,u=0;return this.lines.forEach(function(t){o=0,i+=t.map(function(t){var n=En(t.col0-o);return o=t.col0,null!=t.sourceUrl&&(n+=En(e.get(t.sourceUrl)-s),s=e.get(t.sourceUrl),n+=En(t.sourceLine0-a),a=t.sourceLine0,n+=En(t.sourceCol0-u),u=t.sourceCol0),n}).join(","),i+=";"}),i=i.slice(0,-1),{file:this.file||"",version:Zl,sourceRoot:"",sources:n,sourcesContent:r,mappings:i}},t.prototype.toJsComment=function(){return this.hasMappings?"//"+Ql+xn(JSON.stringify(this,null,0)):""},t}(),Jl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$l=/'|\\|\n|\r|\$/g,tp=/^[$A-Z_][0-9A-Z_$]*$/i,ep="  ",np=cn("error"),rp=cn("stack"),ip=function(){function t(t){this.indent=t,this.parts=[],this.srcSpans=[]}return t}(),op=function(){function t(t,e){this._exportedVars=t,this._indent=e,this._classes=[],this._lines=[new ip(e)]}return t.createRoot=function(e){return new t(e,0)},Object.defineProperty(t.prototype,"_currentLine",{get:function(){return this._lines[this._lines.length-1]},enumerable:!0,configurable:!0}),t.prototype.isExportedVar=function(t){return this._exportedVars.indexOf(t)!==-1},t.prototype.println=function(t,e){void 0===e&&(e=""),this.print(t,e,!0)},t.prototype.lineIsEmpty=function(){return 0===this._currentLine.parts.length},t.prototype.print=function(t,e,n){void 0===n&&(n=!1),e.length>0&&(this._currentLine.parts.push(e),this._currentLine.srcSpans.push(t&&t.sourceSpan||null)),n&&this._lines.push(new ip(this._indent))},t.prototype.removeEmptyLastLine=function(){this.lineIsEmpty()&&this._lines.pop()},t.prototype.incIndent=function(){this._indent++,this._currentLine.indent=this._indent},t.prototype.decIndent=function(){this._indent--,this._currentLine.indent=this._indent},t.prototype.pushClass=function(t){this._classes.push(t)},t.prototype.popClass=function(){return this._classes.pop()},Object.defineProperty(t.prototype,"currentClass",{get:function(){return this._classes.length>0?this._classes[this._classes.length-1]:null},enumerable:!0,configurable:!0}),t.prototype.toSource=function(){return this.sourceLines.map(function(t){return t.parts.length>0?Cn(t.indent)+t.parts.join(""):""}).join("\n")},t.prototype.toSourceMapGenerator=function(t,e,n){void 0===n&&(n=0);for(var r=new Kl(e),i=!1,o=function(){i||(r.addSource(t," ").addMapping(0,t,0,0),i=!0)},s=0;s<n;s++)r.addLine(),o();return this.sourceLines.forEach(function(t,e){r.addLine();for(var n=t.srcSpans,s=t.parts,a=t.indent*ep.length,u=0;u<n.length&&!n[u];)a+=s[u].length,u++;for(u<n.length&&0===e&&0===a?i=!0:o();u<n.length;){var c=n[u],l=c.start.file,p=c.start.line,h=c.start.col;for(r.addSource(l.url,l.content).addMapping(a,l.url,p,h),a+=s[u].length,u++;u<n.length&&(c===n[u]||!n[u]);)a+=s[u].length,u++}}),r},Object.defineProperty(t.prototype,"sourceLines",{get:function(){return this._lines.length&&0===this._lines[this._lines.length-1].parts.length?this._lines.slice(0,-1):this._lines},enumerable:!0,configurable:!0}),t}(),sp=function(){function t(t){this._escapeDollarInStrings=t}return t.prototype.visitExpressionStmt=function(t,e){return t.expr.visitExpression(this,e),e.println(t,";"),null},t.prototype.visitReturnStmt=function(t,e){return e.print(t,"return "),t.value.visitExpression(this,e),e.println(t,";"),null},t.prototype.visitCastExpr=function(t,e){},t.prototype.visitDeclareClassStmt=function(t,e){},t.prototype.visitIfStmt=function(t,e){e.print(t,"if ("),t.condition.visitExpression(this,e),e.print(t,") {");var n=null!=t.falseCase&&t.falseCase.length>0;return t.trueCase.length<=1&&!n?(e.print(t," "),this.visitAllStatements(t.trueCase,e),e.removeEmptyLastLine(),e.print(t," ")):(e.println(),e.incIndent(),this.visitAllStatements(t.trueCase,e),e.decIndent(),n&&(e.println(t,"} else {"),e.incIndent(),this.visitAllStatements(t.falseCase,e),e.decIndent())),e.println(t,"}"),null},t.prototype.visitTryCatchStmt=function(t,e){},t.prototype.visitThrowStmt=function(t,e){return e.print(t,"throw "),t.error.visitExpression(this,e),e.println(t,";"),null},t.prototype.visitCommentStmt=function(t,e){return t.comment.split("\n").forEach(function(n){e.println(t,"// "+n)}),null},t.prototype.visitDeclareVarStmt=function(t,e){},t.prototype.visitWriteVarExpr=function(t,e){var n=e.lineIsEmpty();return n||e.print(t,"("),e.print(t,t.name+" = "),t.value.visitExpression(this,e),n||e.print(t,")"),null},t.prototype.visitWriteKeyExpr=function(t,e){var n=e.lineIsEmpty();return n||e.print(t,"("),t.receiver.visitExpression(this,e),e.print(t,"["),t.index.visitExpression(this,e),e.print(t,"] = "),t.value.visitExpression(this,e),n||e.print(t,")"),null},t.prototype.visitWritePropExpr=function(t,e){var n=e.lineIsEmpty();return n||e.print(t,"("),t.receiver.visitExpression(this,e),e.print(t,"."+t.name+" = "),t.value.visitExpression(this,e),n||e.print(t,")"),null},t.prototype.visitInvokeMethodExpr=function(t,e){t.receiver.visitExpression(this,e);var n=t.name;return null!=t.builtin&&null==(n=this.getBuiltinMethodName(t.builtin))?null:(e.print(t,"."+n+"("),this.visitAllExpressions(t.args,e,","),e.print(t,")"),null)},t.prototype.getBuiltinMethodName=function(t){},t.prototype.visitInvokeFunctionExpr=function(t,e){return t.fn.visitExpression(this,e),e.print(t,"("),this.visitAllExpressions(t.args,e,","),e.print(t,")"),null},t.prototype.visitReadVarExpr=function(t,e){var n=t.name;if(null!=t.builtin)switch(t.builtin){case Qc.Super:n="super";break;case Qc.This:n="this";break;case Qc.CatchError:n=np.name;break;case Qc.CatchStack:n=rp.name;break;default:throw new Error("Unknown builtin variable "+t.builtin)}return e.print(t,n),null},t.prototype.visitInstantiateExpr=function(t,e){return e.print(t,"new "),t.classExpr.visitExpression(this,e),e.print(t,"("),this.visitAllExpressions(t.args,e,","),e.print(t,")"),null},t.prototype.visitLiteralExpr=function(t,e){var n=t.value;return"string"==typeof n?e.print(t,Mn(n,this._escapeDollarInStrings)):e.print(t,""+n),null},t.prototype.visitExternalExpr=function(t,e){},t.prototype.visitConditionalExpr=function(t,e){return e.print(t,"("),t.condition.visitExpression(this,e),e.print(t,"? "),t.trueCase.visitExpression(this,e),e.print(t,": "),t.falseCase.visitExpression(this,e),e.print(t,")"),null},t.prototype.visitNotExpr=function(t,e){return e.print(t,"!"),t.condition.visitExpression(this,e),null},t.prototype.visitFunctionExpr=function(t,e){},t.prototype.visitDeclareFunctionStmt=function(t,e){},t.prototype.visitBinaryOperatorExpr=function(t,e){var n;switch(t.operator){case Yc.Equals:n="==";break;case Yc.Identical:n="===";break;case Yc.NotEquals:n="!=";break;case Yc.NotIdentical:n="!==";break;case Yc.And:n="&&";break;case Yc.Or:n="||";break;case Yc.Plus:n="+";break;case Yc.Minus:n="-";break;case Yc.Divide:n="/";break;case Yc.Multiply:n="*";break;case Yc.Modulo:n="%";break;case Yc.Lower:n="<";break;case Yc.LowerEquals:n="<=";break;case Yc.Bigger:n=">";break;case Yc.BiggerEquals:n=">=";break;default:throw new Error("Unknown operator "+t.operator)}return e.print(t,"("),t.lhs.visitExpression(this,e),e.print(t," "+n+" "),t.rhs.visitExpression(this,e),e.print(t,")"),null},t.prototype.visitReadPropExpr=function(t,e){return t.receiver.visitExpression(this,e),e.print(t,"."),e.print(t,t.name),null},t.prototype.visitReadKeyExpr=function(t,e){return t.receiver.visitExpression(this,e),e.print(t,"["),t.index.visitExpression(this,e),e.print(t,"]"),null},t.prototype.visitLiteralArrayExpr=function(t,e){var n=t.entries.length>1;return e.print(t,"[",n),e.incIndent(),this.visitAllExpressions(t.entries,e,",",n),e.decIndent(),e.print(t,"]",n),null},t.prototype.visitLiteralMapExpr=function(t,e){var n=this,r=t.entries.length>1;return e.print(t,"{",r),e.incIndent(),this.visitAllObjects(function(r){e.print(t,Mn(r.key,n._escapeDollarInStrings,r.quoted)+": "),r.value.visitExpression(n,e)},t.entries,e,",",r),e.decIndent(),e.print(t,"}",r),null},t.prototype.visitCommaExpr=function(t,e){return e.print(t,"("),this.visitAllExpressions(t.parts,e,","),e.print(t,")"),null},t.prototype.visitAllExpressions=function(t,e,n,r){var i=this;void 0===r&&(r=!1),this.visitAllObjects(function(t){return t.visitExpression(i,e)},t,e,n,r)},t.prototype.visitAllObjects=function(t,e,n,r,i){void 0===i&&(i=!1);for(var o=0;o<e.length;o++)o>0&&n.print(null,r,i),t(e[o]);i&&n.println()},t.prototype.visitAllStatements=function(t,e){var n=this;t.forEach(function(t){return t.visitStatement(n,e)})},t}(),ap="/debug/lib",up=(function(){function t(t){this._importResolver=t}t.prototype.emitStatements=function(t,e,n,r,i){var o=this;void 0===i&&(i="");var s=new up(e,this._importResolver),a=op.createRoot(r);s.visitAllStatements(n,a);var u=i?i.split("\n"):[];s.reexports.forEach(function(t,n){var r=t.map(function(t){return t.name+" as "+t.as}).join(",");u.push("export {"+r+"} from '"+o._importResolver.fileNameToModuleName(n,e)+"';")}),s.importsWithPrefixes.forEach(function(t,n){u.push("import * as "+t+" from '"+o._importResolver.fileNameToModuleName(n,e)+"';")});var c=a.toSourceMapGenerator(t,e,u.length).toJsComment(),l=u.concat([a.toSource(),c]);return c&&l.push(""),l.join("\n")},t}(),function(t){function e(e,n){var r=t.call(this,!1)||this;return r._genFilePath=e,r._importResolver=n,r.typeExpression=0,r.importsWithPrefixes=new Map,r.reexports=new Map,r}return Hr(e,t),e.prototype.visitType=function(t,e,n){void 0===n&&(n="any"),null!=t?(this.typeExpression++,t.visitType(this,e),this.typeExpression--):e.print(null,n)},e.prototype.visitLiteralExpr=function(e,n){var r=e.value;return null==r&&e.type!=qc?(n.print(e,"("+r+" as any)"),null):t.prototype.visitLiteralExpr.call(this,e,n)},e.prototype.visitLiteralArrayExpr=function(e,n){0===e.entries.length&&n.print(e,"(");var r=t.prototype.visitLiteralArrayExpr.call(this,e,n);return 0===e.entries.length&&n.print(e," as any[])"),r},e.prototype.visitExternalExpr=function(t,e){return this._visitIdentifier(t.value,t.typeParams,e),null},e.prototype.visitDeclareVarStmt=function(t,e){if(e.isExportedVar(t.name)&&t.value instanceof sl&&!t.type){var n=this._resolveStaticSymbol(t.value.value),r=n.name,i=n.filePath;if(0===n.members.length&&i!==this._genFilePath){var o=this.reexports.get(i);return o||(o=[],this.reexports.set(i,o)),o.push({name:r,as:t.name}),null}}return e.isExportedVar(t.name)&&e.print(t,"export "),t.hasModifier(El.Final)?e.print(t,"const"):e.print(t,"var"),e.print(t," "+t.name),this._printColonType(t.type,e),e.print(t," = "),t.value.visitExpression(this,e),e.println(t,";"),null},e.prototype.visitCastExpr=function(t,e){return e.print(t,"(<"),t.type.visitType(this,e),e.print(t,">"),t.value.visitExpression(this,e),e.print(t,")"),null},e.prototype.visitInstantiateExpr=function(t,e){return e.print(t,"new "),this.typeExpression++,t.classExpr.visitExpression(this,e),this.typeExpression--,e.print(t,"("),this.visitAllExpressions(t.args,e,","),e.print(t,")"),null},e.prototype.visitDeclareClassStmt=function(t,e){var n=this;return e.pushClass(t),e.isExportedVar(t.name)&&e.print(t,"export "),e.print(t,"class "+t.name),null!=t.parent&&(e.print(t," extends "),this.typeExpression++,t.parent.visitExpression(this,e),this.typeExpression--),e.println(t," {"),e.incIndent(),t.fields.forEach(function(t){return n._visitClassField(t,e)}),null!=t.constructorMethod&&this._visitClassConstructor(t,e),t.getters.forEach(function(t){return n._visitClassGetter(t,e)}),t.methods.forEach(function(t){return n._visitClassMethod(t,e)}),e.decIndent(),e.println(t,"}"),e.popClass(),null},e.prototype._visitClassField=function(t,e){t.hasModifier(El.Private)&&e.print(null,"/*private*/ "),e.print(null,t.name),this._printColonType(t.type,e),e.println(null,";")},e.prototype._visitClassGetter=function(t,e){t.hasModifier(El.Private)&&e.print(null,"private "),e.print(null,"get "+t.name+"()"),this._printColonType(t.type,e),e.println(null," {"),e.incIndent(),this.visitAllStatements(t.body,e),e.decIndent(),e.println(null,"}")},e.prototype._visitClassConstructor=function(t,e){e.print(t,"constructor("),this._visitParams(t.constructorMethod.params,e),e.println(t,") {"),e.incIndent(),this.visitAllStatements(t.constructorMethod.body,e),e.decIndent(),e.println(t,"}")},e.prototype._visitClassMethod=function(t,e){t.hasModifier(El.Private)&&e.print(null,"private "),e.print(null,t.name+"("),this._visitParams(t.params,e),e.print(null,")"),this._printColonType(t.type,e,"void"),e.println(null," {"),e.incIndent(),this.visitAllStatements(t.body,e),e.decIndent(),e.println(null,"}")},e.prototype.visitFunctionExpr=function(t,e){return e.print(t,"("),this._visitParams(t.params,e),e.print(t,")"),this._printColonType(t.type,e,"void"),e.println(t," => {"),e.incIndent(),this.visitAllStatements(t.statements,e),e.decIndent(),e.print(t,"}"),null},e.prototype.visitDeclareFunctionStmt=function(t,e){return e.isExportedVar(t.name)&&e.print(t,"export "),e.print(t,"function "+t.name+"("),this._visitParams(t.params,e),e.print(t,")"),this._printColonType(t.type,e,"void"),e.println(t," {"),e.incIndent(),this.visitAllStatements(t.statements,e),e.decIndent(),e.println(t,"}"),null},e.prototype.visitTryCatchStmt=function(t,e){e.println(t,"try {"),e.incIndent(),this.visitAllStatements(t.bodyStmts,e),e.decIndent(),e.println(t,"} catch ("+np.name+") {"),e.incIndent();var n=[rp.set(np.prop("stack")).toDeclStmt(null,[El.Final])].concat(t.catchStmts);return this.visitAllStatements(n,e),e.decIndent(),e.println(t,"}"),null},e.prototype.visitBuiltintType=function(t,e){var n;switch(t.name){case Bc.Bool:n="boolean";break;case Bc.Dynamic:n="any";break;case Bc.Function:n="Function";break;case Bc.Number:n="number";break;case Bc.Int:n="number";break;case Bc.String:n="string";break;default:throw new Error("Unsupported builtin type "+t.name)}return e.print(null,n),null},e.prototype.visitExpressionType=function(t,e){return t.value.visitExpression(this,e),null},e.prototype.visitArrayType=function(t,e){return this.visitType(t.of,e),e.print(null,"[]"),null},e.prototype.visitMapType=function(t,e){return e.print(null,"{[key: string]:"),this.visitType(t.valueType,e),e.print(null,"}"),null},e.prototype.getBuiltinMethodName=function(t){var e;switch(t){case el.ConcatArray:e="concat";break;case el.SubscribeObservable:e="subscribe";break;case el.Bind:e="bind";break;default:throw new Error("Unknown builtin method: "+t)}return e},e.prototype._visitParams=function(t,e){var n=this;this.visitAllObjects(function(t){e.print(null,t.name),n._printColonType(t.type,e)},t,e,",")},e.prototype._resolveStaticSymbol=function(t){var e=t.reference;if(!(e instanceof ii))throw new Error("Internal error: unknown identifier "+JSON.stringify(t));var n=this._importResolver.getTypeArity(e)||void 0,r=this._importResolver.getImportAs(e)||e;return{name:r.name,filePath:r.filePath,members:r.members,arity:n}},e.prototype._visitIdentifier=function(t,e,n){var r=this,i=this._resolveStaticSymbol(t),o=i.name,s=i.filePath,a=i.members,u=i.arity;if(s!=this._genFilePath){var c=this.importsWithPrefixes.get(s);null==c&&(c="import"+this.importsWithPrefixes.size,this.importsWithPrefixes.set(s,c)),n.print(null,c+".")}if(a.length?(n.print(null,o),n.print(null,"."),n.print(null,a.join("."))):n.print(null,o),this.typeExpression>0){var l=e&&e.length||0,p=(u||0)-l;if(l>0||p>0){if(n.print(null,"<"),l>0&&this.visitAllObjects(function(t){return t.visitType(r,n)},e,n,","),p>0)for(var h=0;h<p;h++)(h>0||l>0)&&n.print(null,","),n.print(null,"any");n.print(null,">")}}},e.prototype._printColonType=function(t,e,n){t!==qc&&(e.print(null,":"),this.visitType(t,e,n))},e}(sp)),cp={};An(Vr.SecurityContext.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),An(Vr.SecurityContext.STYLE,["*|style"]),An(Vr.SecurityContext.URL,["*|formAction","area|href","area|ping","audio|src","a|href","a|ping","blockquote|cite","body|background","del|cite","form|action","img|src","img|srcset","input|src","ins|cite","q|cite","source|src","source|srcset","track|src","video|poster","video|src"]),An(Vr.SecurityContext.RESOURCE_URL,["applet|code","applet|codebase","base|href","embed|src","frame|src","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src"]);/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var lp="boolean",pp="number",hp="string",fp="object",dp=["[Element]|textContent,%classList,className,id,innerHTML,*beforecopy,*beforecut,*beforepaste,*copy,*cut,*paste,*search,*selectstart,*webkitfullscreenchange,*webkitfullscreenerror,*wheel,outerHTML,#scrollLeft,#scrollTop","[HTMLElement]^[Element]|accessKey,contentEditable,dir,!draggable,!hidden,innerText,lang,*abort,*beforecopy,*beforecut,*beforepaste,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*message,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*mozfullscreenchange,*mozfullscreenerror,*mozpointerlockchange,*mozpointerlockerror,*paste,*pause,*play,*playing,*progress,*ratechange,*reset,*resize,*scroll,*search,*seeked,*seeking,*select,*selectstart,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,*webglcontextcreationerror,*webglcontextlost,*webglcontextrestored,*webkitfullscreenchange,*webkitfullscreenerror,*wheel,outerText,!spellcheck,%style,#tabIndex,title,!translate","abbr,address,article,aside,b,bdi,bdo,cite,code,dd,dfn,dt,em,figcaption,figure,footer,header,i,kbd,main,mark,nav,noscript,rb,rp,rt,rtc,ruby,s,samp,section,small,strong,sub,sup,u,var,wbr^[HTMLElement]|accessKey,contentEditable,dir,!draggable,!hidden,innerText,lang,*abort,*beforecopy,*beforecut,*beforepaste,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*message,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*mozfullscreenchange,*mozfullscreenerror,*mozpointerlockchange,*mozpointerlockerror,*paste,*pause,*play,*playing,*progress,*ratechange,*reset,*resize,*scroll,*search,*seeked,*seeking,*select,*selectstart,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,*webglcontextcreationerror,*webglcontextlost,*webglcontextrestored,*webkitfullscreenchange,*webkitfullscreenerror,*wheel,outerText,!spellcheck,%style,#tabIndex,title,!translate","media^[HTMLElement]|!autoplay,!controls,%crossOrigin,#currentTime,!defaultMuted,#defaultPlaybackRate,!disableRemotePlayback,!loop,!muted,*encrypted,#playbackRate,preload,src,%srcObject,#volume",":svg:^[HTMLElement]|*abort,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,%style,#tabIndex",":svg:graphics^:svg:|",":svg:animation^:svg:|*begin,*end,*repeat",":svg:geometry^:svg:|",":svg:componentTransferFunction^:svg:|",":svg:gradient^:svg:|",":svg:textContent^:svg:graphics|",":svg:textPositioning^:svg:textContent|","a^[HTMLElement]|charset,coords,download,hash,host,hostname,href,hreflang,name,password,pathname,ping,port,protocol,referrerPolicy,rel,rev,search,shape,target,text,type,username","area^[HTMLElement]|alt,coords,hash,host,hostname,href,!noHref,password,pathname,ping,port,protocol,referrerPolicy,search,shape,target,username","audio^media|","br^[HTMLElement]|clear","base^[HTMLElement]|href,target","body^[HTMLElement]|aLink,background,bgColor,link,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,text,vLink","button^[HTMLElement]|!autofocus,!disabled,formAction,formEnctype,formMethod,!formNoValidate,formTarget,name,type,value","canvas^[HTMLElement]|#height,#width","content^[HTMLElement]|select","dl^[HTMLElement]|!compact","datalist^[HTMLElement]|","details^[HTMLElement]|!open","dialog^[HTMLElement]|!open,returnValue","dir^[HTMLElement]|!compact","div^[HTMLElement]|align","embed^[HTMLElement]|align,height,name,src,type,width","fieldset^[HTMLElement]|!disabled,name","font^[HTMLElement]|color,face,size","form^[HTMLElement]|acceptCharset,action,autocomplete,encoding,enctype,method,name,!noValidate,target","frame^[HTMLElement]|frameBorder,longDesc,marginHeight,marginWidth,name,!noResize,scrolling,src","frameset^[HTMLElement]|cols,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,rows","hr^[HTMLElement]|align,color,!noShade,size,width","head^[HTMLElement]|","h1,h2,h3,h4,h5,h6^[HTMLElement]|align","html^[HTMLElement]|version","iframe^[HTMLElement]|align,!allowFullscreen,frameBorder,height,longDesc,marginHeight,marginWidth,name,referrerPolicy,%sandbox,scrolling,src,srcdoc,width","img^[HTMLElement]|align,alt,border,%crossOrigin,#height,#hspace,!isMap,longDesc,lowsrc,name,referrerPolicy,sizes,src,srcset,useMap,#vspace,#width","input^[HTMLElement]|accept,align,alt,autocapitalize,autocomplete,!autofocus,!checked,!defaultChecked,defaultValue,dirName,!disabled,%files,formAction,formEnctype,formMethod,!formNoValidate,formTarget,#height,!incremental,!indeterminate,max,#maxLength,min,#minLength,!multiple,name,pattern,placeholder,!readOnly,!required,selectionDirection,#selectionEnd,#selectionStart,#size,src,step,type,useMap,value,%valueAsDate,#valueAsNumber,#width","keygen^[HTMLElement]|!autofocus,challenge,!disabled,keytype,name","li^[HTMLElement]|type,#value","label^[HTMLElement]|htmlFor","legend^[HTMLElement]|align","link^[HTMLElement]|as,charset,%crossOrigin,!disabled,href,hreflang,integrity,media,rel,%relList,rev,%sizes,target,type","map^[HTMLElement]|name","marquee^[HTMLElement]|behavior,bgColor,direction,height,#hspace,#loop,#scrollAmount,#scrollDelay,!trueSpeed,#vspace,width","menu^[HTMLElement]|!compact","meta^[HTMLElement]|content,httpEquiv,name,scheme","meter^[HTMLElement]|#high,#low,#max,#min,#optimum,#value","ins,del^[HTMLElement]|cite,dateTime","ol^[HTMLElement]|!compact,!reversed,#start,type","object^[HTMLElement]|align,archive,border,code,codeBase,codeType,data,!declare,height,#hspace,name,standby,type,useMap,#vspace,width","optgroup^[HTMLElement]|!disabled,label","option^[HTMLElement]|!defaultSelected,!disabled,label,!selected,text,value","output^[HTMLElement]|defaultValue,%htmlFor,name,value","p^[HTMLElement]|align","param^[HTMLElement]|name,type,value,valueType","picture^[HTMLElement]|","pre^[HTMLElement]|#width","progress^[HTMLElement]|#max,#value","q,blockquote,cite^[HTMLElement]|","script^[HTMLElement]|!async,charset,%crossOrigin,!defer,event,htmlFor,integrity,src,text,type","select^[HTMLElement]|!autofocus,!disabled,#length,!multiple,name,!required,#selectedIndex,#size,value","shadow^[HTMLElement]|","source^[HTMLElement]|media,sizes,src,srcset,type","span^[HTMLElement]|","style^[HTMLElement]|!disabled,media,type","caption^[HTMLElement]|align","th,td^[HTMLElement]|abbr,align,axis,bgColor,ch,chOff,#colSpan,headers,height,!noWrap,#rowSpan,scope,vAlign,width","col,colgroup^[HTMLElement]|align,ch,chOff,#span,vAlign,width","table^[HTMLElement]|align,bgColor,border,%caption,cellPadding,cellSpacing,frame,rules,summary,%tFoot,%tHead,width","tr^[HTMLElement]|align,bgColor,ch,chOff,vAlign","tfoot,thead,tbody^[HTMLElement]|align,ch,chOff,vAlign","template^[HTMLElement]|","textarea^[HTMLElement]|autocapitalize,!autofocus,#cols,defaultValue,dirName,!disabled,#maxLength,#minLength,name,placeholder,!readOnly,!required,#rows,selectionDirection,#selectionEnd,#selectionStart,value,wrap","title^[HTMLElement]|text","track^[HTMLElement]|!default,kind,label,src,srclang","ul^[HTMLElement]|!compact,type","unknown^[HTMLElement]|","video^media|#height,poster,#width",":svg:a^:svg:graphics|",":svg:animate^:svg:animation|",":svg:animateMotion^:svg:animation|",":svg:animateTransform^:svg:animation|",":svg:circle^:svg:geometry|",":svg:clipPath^:svg:graphics|",":svg:cursor^:svg:|",":svg:defs^:svg:graphics|",":svg:desc^:svg:|",":svg:discard^:svg:|",":svg:ellipse^:svg:geometry|",":svg:feBlend^:svg:|",":svg:feColorMatrix^:svg:|",":svg:feComponentTransfer^:svg:|",":svg:feComposite^:svg:|",":svg:feConvolveMatrix^:svg:|",":svg:feDiffuseLighting^:svg:|",":svg:feDisplacementMap^:svg:|",":svg:feDistantLight^:svg:|",":svg:feDropShadow^:svg:|",":svg:feFlood^:svg:|",":svg:feFuncA^:svg:componentTransferFunction|",":svg:feFuncB^:svg:componentTransferFunction|",":svg:feFuncG^:svg:componentTransferFunction|",":svg:feFuncR^:svg:componentTransferFunction|",":svg:feGaussianBlur^:svg:|",":svg:feImage^:svg:|",":svg:feMerge^:svg:|",":svg:feMergeNode^:svg:|",":svg:feMorphology^:svg:|",":svg:feOffset^:svg:|",":svg:fePointLight^:svg:|",":svg:feSpecularLighting^:svg:|",":svg:feSpotLight^:svg:|",":svg:feTile^:svg:|",":svg:feTurbulence^:svg:|",":svg:filter^:svg:|",":svg:foreignObject^:svg:graphics|",":svg:g^:svg:graphics|",":svg:image^:svg:graphics|",":svg:line^:svg:geometry|",":svg:linearGradient^:svg:gradient|",":svg:mpath^:svg:|",":svg:marker^:svg:|",":svg:mask^:svg:|",":svg:metadata^:svg:|",":svg:path^:svg:geometry|",":svg:pattern^:svg:|",":svg:polygon^:svg:geometry|",":svg:polyline^:svg:geometry|",":svg:radialGradient^:svg:gradient|",":svg:rect^:svg:geometry|",":svg:svg^:svg:graphics|#currentScale,#zoomAndPan",":svg:script^:svg:|type",":svg:set^:svg:animation|",":svg:stop^:svg:|",":svg:style^:svg:|!disabled,media,title,type",":svg:switch^:svg:graphics|",":svg:symbol^:svg:|",":svg:tspan^:svg:textPositioning|",":svg:text^:svg:textPositioning|",":svg:textPath^:svg:textContent|",":svg:title^:svg:|",":svg:use^:svg:graphics|",":svg:view^:svg:|#zoomAndPan","data^[HTMLElement]|value","menuitem^[HTMLElement]|type,label,icon,!disabled,!checked,radiogroup,!default","summary^[HTMLElement]|","time^[HTMLElement]|dateTime"],mp={class:"className",for:"htmlFor",formaction:"formAction",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},vp=function(t){function e(){var e=t.call(this)||this;return e._schema={},dp.forEach(function(t){var n={},r=t.split("|"),i=r[0],o=r[1],s=o.split(","),a=i.split("^"),u=a[0],c=a[1];u.split(",").forEach(function(t){return e._schema[t.toLowerCase()]=n});var l=c&&e._schema[c.toLowerCase()];l&&Object.keys(l).forEach(function(t){n[t]=l[t]}),s.forEach(function(t){if(t.length>0)switch(t[0]){case"*":break;case"!":n[t.substring(1)]=lp;break;case"#":n[t.substring(1)]=pp;break;case"%":n[t.substring(1)]=fp;break;default:n[t]=hp}})}),e}return Hr(e,t),e.prototype.hasProperty=function(t,e,n){if(n.some(function(t){return t.name===Vr.NO_ERRORS_SCHEMA.name}))return!0;if(t.indexOf("-")>-1){if("ng-container"===t||"ng-content"===t)return!1;if(n.some(function(t){return t.name===Vr.CUSTOM_ELEMENTS_SCHEMA.name}))return!0}return!!(this._schema[t.toLowerCase()]||this._schema.unknown)[e]},e.prototype.hasElement=function(t,e){if(e.some(function(t){return t.name===Vr.NO_ERRORS_SCHEMA.name}))return!0;if(t.indexOf("-")>-1){if("ng-container"===t||"ng-content"===t)return!0;if(e.some(function(t){return t.name===Vr.CUSTOM_ELEMENTS_SCHEMA.name}))return!0}return!!this._schema[t.toLowerCase()]},e.prototype.securityContext=function(t,e,n){n&&(e=this.getMappedPropName(e)),t=t.toLowerCase(),e=e.toLowerCase();var r=cp[t+"|"+e];return r?r:(r=cp["*|"+e],r?r:Vr.SecurityContext.NONE)},e.prototype.getMappedPropName=function(t){return mp[t]||t},e.prototype.getDefaultComponentElementName=function(){return"ng-component"},e.prototype.validateProperty=function(t){if(t.toLowerCase().startsWith("on")){return{error:!0,msg:"Binding to event property '"+t+"' is disallowed for security reasons, please use ("+t.slice(2)+")=...\nIf '"+t+"' is a directive input, make sure the directive is imported by the current module."}}return{error:!1}},e.prototype.validateAttribute=function(t){if(t.toLowerCase().startsWith("on")){return{error:!0,msg:"Binding to event attribute '"+t+"' is disallowed for security reasons, please use ("+t.slice(2)+")=..."}}return{error:!1}},e.prototype.allKnownElementNames=function(){return Object.keys(this._schema)},e.prototype.normalizeAnimationStyleProperty=function(t){return u(t)},e.prototype.normalizeAnimationStyleValue=function(t,e,n){var r="",i=n.toString().trim(),o=null;if(Pn(t)&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{var s=n.match(/^[+-]?[\d\.]+([a-z]*)$/);s&&0==s[1].length&&(o="Please provide a CSS unit value for "+e+":"+n)}return{error:o,value:i+r}},e}(_u);vp.decorators=[{type:F}],vp.ctorParameters=function(){return[]};var gp=function(){function t(){this.strictStyling=!0}return t.prototype.shimCssText=function(t,e,n){void 0===n&&(n="");var r=On(t);return t=Rn(t),t=this._insertDirectives(t),this._scopeCssText(t,e,n)+r},t.prototype._insertDirectives=function(t){return t=this._insertPolyfillDirectivesInCssText(t),this._insertPolyfillRulesInCssText(t)},t.prototype._insertPolyfillDirectivesInCssText=function(t){return t.replace(_p,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t[2]+"{"})},t.prototype._insertPolyfillRulesInCssText=function(t){return t.replace(bp,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[0].replace(t[1],"").replace(t[2],"");return t[4]+n})},t.prototype._scopeCssText=function(t,e,n){var r=this._extractUnscopedRulesFromCssText(t);return t=this._insertPolyfillHostInCssText(t),t=this._convertColonHost(t),t=this._convertColonHostContext(t),t=this._convertShadowDOMSelectors(t),e&&(t=this._scopeSelectors(t,e,n)),t=t+"\n"+r,t.trim()},t.prototype._extractUnscopedRulesFromCssText=function(t){var e,n="";for(wp.lastIndex=0;null!==(e=wp.exec(t));){n+=e[0].replace(e[2],"").replace(e[1],e[4])+"\n\n"}return n},t.prototype._convertColonHost=function(t){return this._convertColonRule(t,Mp,this._colonHostPartReplacer)},t.prototype._convertColonHostContext=function(t){return this._convertColonRule(t,Cp,this._colonHostContextPartReplacer)},t.prototype._convertColonRule=function(t,e,n){return t.replace(e,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t[2]){for(var r=t[2].split(","),i=[],o=0;o<r.length;o++){var s=r[o].trim();if(!s)break;i.push(n(Tp,s,t[3]))}return i.join(",")}return Tp+t[3]})},t.prototype._colonHostContextPartReplacer=function(t,e,n){return e.indexOf(xp)>-1?this._colonHostPartReplacer(t,e,n):t+e+n+", "+e+" "+t+n},t.prototype._colonHostPartReplacer=function(t,e,n){return t+e.replace(xp,"")+n},t.prototype._convertShadowDOMSelectors=function(t){return Pp.reduce(function(t,e){return t.replace(e," ")},t)},t.prototype._scopeSelectors=function(t,e,n){var r=this;return Ln(t,function(t){var i=t.selector,o=t.content;return"@"!=t.selector[0]?i=r._scopeSelector(t.selector,e,n,r.strictStyling):(t.selector.startsWith("@media")||t.selector.startsWith("@supports")||t.selector.startsWith("@page")||t.selector.startsWith("@document"))&&(o=r._scopeSelectors(t.content,e,n)),new Hp(i,o)})},t.prototype._scopeSelector=function(t,e,n,r){var i=this;return t.split(",").map(function(t){return t.trim().split(Rp)}).map(function(t){var o=t[0],s=t.slice(1);return[function(t){return i._selectorNeedsScoping(t,e)?r?i._applyStrictSelectorScope(t,e,n):i._applySelectorScope(t,e,n):t}(o)].concat(s).join(" ")}).join(", ")},t.prototype._selectorNeedsScoping=function(t,e){return!this._makeScopeMatcher(e).test(t)},t.prototype._makeScopeMatcher=function(t){var e=/\[/g,n=/\]/g;return t=t.replace(e,"\\[").replace(n,"\\]"),new RegExp("^("+t+")"+Op,"m")},t.prototype._applySelectorScope=function(t,e,n){return this._applySimpleSelectorScope(t,e,n)},t.prototype._applySimpleSelectorScope=function(t,e,n){if(Lp.lastIndex=0,Lp.test(t)){var r=this.strictStyling?"["+n+"]":e;return t.replace(Ap,function(t,e){return e.replace(/([^:]*)(:*)(.*)/,function(t,e,n,i){return e+r+n+i})}).replace(Lp,r+" ")}return e+" "+t},t.prototype._applyStrictSelectorScope=function(t,e,n){var r=this,i=/\[is=([^\]]*)\]/g;e=e.replace(i,function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e[0]});var o="["+e+"]",s=function(t){var i=t.trim();if(!i)return"";if(t.indexOf(Tp)>-1)i=r._applySimpleSelectorScope(t,e,n);else{var s=t.replace(Lp,"");if(s.length>0){var a=s.match(/([^:]*)(:*)(.*)/);a&&(i=a[1]+o+a[2]+a[3])}}return i},a=new yp(t);t=a.content();for(var u,c="",l=0,p=/( |>|\+|~(?!=))\s*/g,h=t.indexOf(Tp);null!==(u=p.exec(t));){var f=u[1],d=t.slice(l,u.index).trim();c+=(l>=h?s(d):d)+" "+f+" ",l=p.lastIndex}return c+=s(t.substring(l)),a.restore(c)},t.prototype._insertPolyfillHostInCssText=function(t){return t.replace(Np,Ep).replace(Ip,xp)},t}(),yp=function(){function t(t){var e=this;this.placeholders=[],this.index=0,t=t.replace(/(\[[^\]]*\])/g,function(t,n){var r="__ph-"+e.index+"__";return e.placeholders.push(n),e.index++,r}),this._content=t.replace(/(:nth-[-\w]+)(\([^)]+\))/g,function(t,n,r){var i="__ph-"+e.index+"__";return e.placeholders.push(r),e.index++,n+i})}return t.prototype.restore=function(t){var e=this;return t.replace(/__ph-(\d+)__/g,function(t,n){return e.placeholders[+n]})},t.prototype.content=function(){return this._content},t}(),_p=/polyfill-next-selector[^}]*content:[\s]*?(['"])(.*?)\1[;\s]*}([^{]*?){/gim,bp=/(polyfill-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,wp=/(polyfill-unscoped-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,xp="-shadowcsshost",Ep="-shadowcsscontext",Sp=")(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))?([^,{]*)",Mp=new RegExp("("+xp+Sp,"gim"),Cp=new RegExp("("+Ep+Sp,"gim"),Tp=xp+"-no-combinator",Ap=/-shadowcsshost-no-combinator([^\s]*)/,Pp=[/::shadow/g,/::content/g,/\/shadow-deep\//g,/\/shadow\//g],Rp=/(?:>>>)|(?:\/deep\/)/g,Op="([>\\s~+[.,{:][\\s\\S]*)?$",Lp=/-shadowcsshost/gim,Ip=/:host/gim,Np=/:host-context/gim,Dp=/\/\*\s*[\s\S]*?\*\//g,kp=/\/\*\s*#\s*sourceMappingURL=[\s\S]+?\*\//,jp=/(\s*)([^;\{\}]+?)(\s*)((?:{%BLOCK%}?\s*;?)|(?:\s*;))/g,Fp=/([{}])/g,Up="{",Bp="}",Vp="%BLOCK%",Hp=function(){function t(t,e){this.selector=t,this.content=e}return t}(),zp=function(){function t(t,e){this.escapedString=t,this.blocks=e}return t}(),Gp="%COMP%",Wp="_nghost-"+Gp,qp="_ngcontent-"+Gp,Xp=function(){function t(t,e,n,r){this.name=t,this.moduleUrl=e,this.isShimmed=n,this.valuePlaceholder=r}return t}(),Yp=function(){function t(t,e){this.componentStylesheet=t,this.externalStylesheets=e}return t}(),Zp=function(){function t(t,e,n,r,i){this.statements=t,this.stylesVar=e,this.dependencies=n,this.isShimmed=r,this.meta=i}return t}(),Qp=function(){function t(t){this._urlResolver=t,this._shadowCss=new gp}return t.prototype.compileComponent=function(t){var e=this,n=[],r=this._compileStyles(t,new Ai({styles:t.template.styles,styleUrls:t.template.styleUrls,moduleUrl:_(t.type)}),!0);return t.template.externalStylesheets.forEach(function(r){var i=e._compileStyles(t,r,!1);n.push(i)}),new Yp(r,n)},t.prototype._compileStyles=function(t,e,n){for(var r=this,i=t.template.encapsulation===Vr.ViewEncapsulation.Emulated,o=e.styles.map(function(t){return gn(r._shimIfNeeded(t,i))}),s=[],a=0;a<e.styleUrls.length;a++){var u={reference:null};s.push(new Xp(Nn(null),e.styleUrls[a],i,u)),o.push(new sl(u))}var c=Nn(n?t:null);return new Zp([cn(c).set(fn(o,new zc(Wc,[Fc.Const]))).toDeclStmt(null,[El.Final])],c,s,i,e)},t.prototype._shimIfNeeded=function(t,e){return e?this._shadowCss.shimCssText(t,qp,Wp):t},t}();Qp.decorators=[{type:F}],Qp.ctorParameters=function(){return[{type:Ec}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var Kp=function(){function t(){}return t}();Kp.event=cn("$event");var Jp=function(){function t(t,e){this.stmts=t,this.allowDefault=e}return t}(),$p=function(){function t(t,e){this.stmts=t,this.currValExpr=e}return t}(),th={};th.Statement=0,th.Expression=1,th[th.Statement]="Statement",th[th.Expression]="Expression";var eh=function(t){function e(e){var n=t.call(this)||this;return n._converterFactory=e,n}return Hr(e,t),e.prototype.visitPipe=function(t,e){var n=this,r=[t.exp].concat(t.args).map(function(t){return t.visit(n,e)});return new ih(t.span,r,this._converterFactory.createPipeConverter(t.name,r.length))},e.prototype.visitLiteralArray=function(t,e){var n=this,r=t.expressions.map(function(t){return t.visit(n,e)});return new ih(t.span,r,this._converterFactory.createLiteralArrayConverter(t.expressions.length))},e.prototype.visitLiteralMap=function(t,e){var n=this,r=t.values.map(function(t){return t.visit(n,e)});return new ih(t.span,r,this._converterFactory.createLiteralMapConverter(t.keys))},e}(uo),nh=function(){function t(t,e,n){this._localResolver=t,this._implicitReceiver=e,this.bindingId=n,this._nodeMap=new Map,this._resultMap=new Map,this._currentTemporary=0,this.temporaryCount=0}return t.prototype.visitBinary=function(t,e){var n;switch(t.operation){case"+":n=Yc.Plus;break;case"-":n=Yc.Minus;break;case"*":n=Yc.Multiply;break;case"/":n=Yc.Divide;break;case"%":n=Yc.Modulo;break;case"&&":n=Yc.And;break;case"||":n=Yc.Or;break;case"==":n=Yc.Equals;break;case"!=":n=Yc.NotEquals;break;case"===":n=Yc.Identical;break;case"!==":n=Yc.NotIdentical;break;case"<":n=Yc.Lower;break;case">":n=Yc.Bigger;break;case"<=":n=Yc.LowerEquals;break;case">=":n=Yc.BiggerEquals;break;default:throw new Error("Unsupported operation "+t.operation)}return Gn(e,new hl(n,this.visit(t.left,th.Expression),this.visit(t.right,th.Expression)))},t.prototype.visitChain=function(t,e){return Hn(e,t),this.visitAll(t.expressions,e)},t.prototype.visitConditional=function(t,e){return Gn(e,this.visit(t.condition,th.Expression).conditional(this.visit(t.trueExp,th.Expression),this.visit(t.falseExp,th.Expression)))},t.prototype.visitPipe=function(t,e){throw new Error("Illegal state: Pipes should have been converted into functions. Pipe: "+t.name)},t.prototype.visitFunctionCall=function(t,e){var n,r=this.visitAll(t.args,th.Expression);return n=t instanceof ih?t.converter(r):this.visit(t.target,th.Expression).callFn(r),Gn(e,n)},t.prototype.visitImplicitReceiver=function(t,e){return zn(e,t),this._implicitReceiver},t.prototype.visitInterpolation=function(t,e){zn(e,t);for(var n=[gn(t.expressions.length)],r=0;r<t.strings.length-1;r++)n.push(gn(t.strings[r])),n.push(this.visit(t.expressions[r],th.Expression));return n.push(gn(t.strings[t.strings.length-1])),t.expressions.length<=9?ln(ae(lu.inlineInterpolate)).callFn(n):ln(ae(lu.interpolate)).callFn([n[0],fn(n.slice(1))])},t.prototype.visitKeyedRead=function(t,e){var n=this.leftMostSafeNode(t);return n?this.convertSafeAccess(t,n,e):Gn(e,this.visit(t.obj,th.Expression).key(this.visit(t.key,th.Expression)))},t.prototype.visitKeyedWrite=function(t,e){var n=this.visit(t.obj,th.Expression),r=this.visit(t.key,th.Expression),i=this.visit(t.value,th.Expression);return Gn(e,n.key(r).set(i))},t.prototype.visitLiteralArray=function(t,e){throw new Error("Illegal State: literal arrays should have been converted into functions")},t.prototype.visitLiteralMap=function(t,e){throw new Error("Illegal State: literal maps should have been converted into functions")},t.prototype.visitLiteralPrimitive=function(t,e){return Gn(e,gn(t.value))},t.prototype._getLocal=function(t){return this._localResolver.getLocal(t)},t.prototype.visitMethodCall=function(t,e){var n=this.leftMostSafeNode(t);if(n)return this.convertSafeAccess(t,n,e);var r=this.visitAll(t.args,th.Expression),i=null,o=this.visit(t.receiver,th.Expression);if(o===this._implicitReceiver){var s=this._getLocal(t.name);s&&(i=s.callFn(r))}return null==i&&(i=o.callMethod(t.name,r)),Gn(e,i)},t.prototype.visitPrefixNot=function(t,e){return Gn(e,mn(this.visit(t.expression,th.Expression)))},t.prototype.visitPropertyRead=function(t,e){var n=this.leftMostSafeNode(t);if(n)return this.convertSafeAccess(t,n,e);var r=null,i=this.visit(t.receiver,th.Expression);return i===this._implicitReceiver&&(r=this._getLocal(t.name)),null==r&&(r=i.prop(t.name)),Gn(e,r)},t.prototype.visitPropertyWrite=function(t,e){var n=this.visit(t.receiver,th.Expression);if(n===this._implicitReceiver){if(this._getLocal(t.name))throw new Error("Cannot assign to a reference or variable!")}return Gn(e,n.prop(t.name).set(this.visit(t.value,th.Expression)))},t.prototype.visitSafePropertyRead=function(t,e){return this.convertSafeAccess(t,this.leftMostSafeNode(t),e)},t.prototype.visitSafeMethodCall=function(t,e){return this.convertSafeAccess(t,this.leftMostSafeNode(t),e)},t.prototype.visitAll=function(t,e){var n=this;return t.map(function(t){return n.visit(t,e)})},t.prototype.visitQuote=function(t,e){throw new Error("Quotes are not supported for evaluation!")},t.prototype.visit=function(t,e){var n=this._resultMap.get(t);return n?n:(this._nodeMap.get(t)||t).visit(this,e)},t.prototype.convertSafeAccess=function(t,e,n){var r,i=this.visit(e.receiver,th.Expression);this.needsTemporary(e.receiver)&&(r=this.allocateTemporary(),i=r.set(i),this._resultMap.set(e.receiver,r));var o=i.isBlank();e instanceof ro?this._nodeMap.set(e,new no(e.span,e.receiver,e.name,e.args)):this._nodeMap.set(e,new Gi(e.span,e.receiver,e.name));var s=this.visit(t,th.Expression);return this._nodeMap.delete(e),r&&this.releaseTemporary(r),Gn(n,o.conditional(gn(null),s))},t.prototype.leftMostSafeNode=function(t){var e=this,n=function(t,n){return(e._nodeMap.get(n)||n).visit(t)};return t.visit({visitBinary:function(t){return null},visitChain:function(t){return null},visitConditional:function(t){return null},visitFunctionCall:function(t){return null},visitImplicitReceiver:function(t){return null},visitInterpolation:function(t){return null},visitKeyedRead:function(t){return n(this,t.obj)},visitKeyedWrite:function(t){return null},visitLiteralArray:function(t){return null},visitLiteralMap:function(t){return null},visitLiteralPrimitive:function(t){return null},visitMethodCall:function(t){return n(this,t.receiver)},visitPipe:function(t){return null},visitPrefixNot:function(t){return null},visitPropertyRead:function(t){return n(this,t.receiver)},visitPropertyWrite:function(t){return null},visitQuote:function(t){return null},visitSafeMethodCall:function(t){return n(this,t.receiver)||t},visitSafePropertyRead:function(t){return n(this,t.receiver)||t}})},t.prototype.needsTemporary=function(t){var e=this,n=function(t,n){return n&&(e._nodeMap.get(n)||n).visit(t)},r=function(t,e){return e.some(function(e){return n(t,e)})};return t.visit({visitBinary:function(t){return n(this,t.left)||n(this,t.right)},visitChain:function(t){return!1},visitConditional:function(t){return n(this,t.condition)||n(this,t.trueExp)||n(this,t.falseExp)},visitFunctionCall:function(t){return!0},visitImplicitReceiver:function(t){return!1},visitInterpolation:function(t){return r(this,t.expressions)},visitKeyedRead:function(t){return!1},visitKeyedWrite:function(t){return!1},visitLiteralArray:function(t){return!0},visitLiteralMap:function(t){return!0},visitLiteralPrimitive:function(t){return!1},visitMethodCall:function(t){return!0},visitPipe:function(t){return!0},visitPrefixNot:function(t){return n(this,t.expression)},visitPropertyRead:function(t){return!1},visitPropertyWrite:function(t){return!1},visitQuote:function(t){return!1},visitSafeMethodCall:function(t){return!0},visitSafePropertyRead:function(t){return!1}})},t.prototype.allocateTemporary=function(){var t=this._currentTemporary++;return this.temporaryCount=Math.max(this._currentTemporary,this.temporaryCount),new Kc(Un(this.bindingId,t))},t.prototype.releaseTemporary=function(t){if(this._currentTemporary--,t.name!=Un(this.bindingId,this._currentTemporary))throw new Error("Temporary "+t.name+" released out of order")},t}(),rh=function(){function t(){}return t.prototype.getLocal=function(t){return t===Kp.event.name?Kp.event:null},t}(),ih=function(t){function e(e,n,r){var i=t.call(this,e,null,n)||this;return i.args=n,i.converter=r,i}return Hr(e,t),e}(io),oh="class",sh="style",ah="$implicit",uh="ng-container",ch=function(){function t(t,e,n){this.statements=t,this.viewClassVar=e,this.rendererTypeVar=n}return t}(),lh=function(){function t(t,e){this._genConfigNext=t,this._schemaRegistry=e}return t.prototype.compileComponent=function(t,e,n,r){var i,o=0,s=ar(e),a=[];if(!t.isHost){var u=[];t.template.animations&&t.template.animations.length&&u.push(new vl("animation",bn(t.template.animations),!0));var c=cn(w(t.type.reference));i=c.name,a.push(c.set(ln(ae(lu.createRendererType2)).callFn([new gl([new vl("encapsulation",gn(t.template.encapsulation)),new vl("styles",n),new vl("data",new gl(u))])])).toDeclStmt(pn(ae(lu.RendererType2)),[El.Final]))}var l=function(e){return new gh(e,t,o++,r,s,l)},p=l(null);return p.visitAll([],e),a.push.apply(a,p.build()),new ch(a,p.viewName,i)},t}();lh.decorators=[{type:F}],lh.ctorParameters=function(){return[{type:Di},{type:_u}]};var ph=cn("l"),hh=cn("v"),fh=cn("ck"),dh=cn("co"),mh=cn("en"),vh=cn("ad"),gh=function(){function t(t,e,n,r,i,o){this.parent=t,this.component=e,this.embeddedViewIndex=n,this.usedPipes=r,this.staticQueryIds=i,this.viewBuilderFactory=o,this.nodes=[],this.purePipeNodeIndices=Object.create(null),this.refNodeIndices=Object.create(null),this.variables=[],this.children=[],this.compType=this.embeddedViewIndex>0?Wc:pn(this.component.type)}return Object.defineProperty(t.prototype,"viewName",{get:function(){return b(this.component.type.reference,this.embeddedViewIndex)},enumerable:!0,configurable:!0}),t.prototype.visitAll=function(t,e){var n=this;if(this.variables=t,this.parent||this.usedPipes.forEach(function(t){t.pure&&(n.purePipeNodeIndices[t.name]=n._createPipe(null,t))}),!this.parent){var i=ur(this.staticQueryIds);this.component.viewQueries.forEach(function(t,e){var r=e+1,o=t.first?0:1,s=67108864|pr(i,r,t.first);n.nodes.push(function(){return{sourceSpan:null,nodeFlags:s,nodeDef:ln(ae(lu.queryDef)).callFn([gn(s),gn(r),new gl([new vl(t.propertyName,gn(o))])])}})})}r(this,e),this.parent&&(0===e.length||tr(e))&&this.nodes.push(function(){return{sourceSpan:null,nodeFlags:1,nodeDef:ln(ae(lu.anchorDef)).callFn([gn(0),wl,wl,gn(0)])}})},t.prototype.build=function(t){void 0===t&&(t=[]),this.children.forEach(function(e){return e.build(t)});var e=this._createNodeExpressions(),n=e.updateRendererStmts,r=e.updateDirectivesStmts,i=e.nodeDefExprs,o=this._createUpdateFn(n),s=this._createUpdateFn(r),a=0;this.parent||this.component.changeDetection!==Vr.ChangeDetectionStrategy.OnPush||(a|=2);var u=new Cl(this.viewName,[new ll(ph.name)],[new Al(ln(ae(lu.viewDef)).callFn([gn(a),fn(i),s,o]))],pn(ae(lu.ViewDefinition)));return t.push(u),t},t.prototype._createUpdateFn=function(t){var e;if(t.length>0){var n=[];!this.component.isHost&&sn(t).has(dh.name)&&n.push(dh.set(hh.prop("component")).toDeclStmt(this.compType)),e=vn([new ll(fh.name,qc),new ll(hh.name,qc)],n.concat(t),qc)}else e=wl;return e},t.prototype.visitNgContent=function(t,e){this.nodes.push(function(){return{sourceSpan:t.sourceSpan,nodeFlags:4,nodeDef:ln(ae(lu.ngContentDef)).callFn([gn(t.ngContentIndex),gn(t.index)])}})},t.prototype.visitText=function(t,e){this.nodes.push(function(){return{sourceSpan:t.sourceSpan,nodeFlags:2,nodeDef:ln(ae(lu.textDef)).callFn([gn(t.ngContentIndex),fn([gn(t.value)])])}})},t.prototype.visitBoundText=function(t,e){var n=this,r=this.nodes.length;this.nodes.push(null);var i=t.value,o=i.ast,s=o.expressions.map(function(e,i){return n._preprocessUpdateExpression({nodeIndex:r,bindingIndex:i,sourceSpan:t.sourceSpan,context:dh,value:e})});this.nodes[r]=function(){return{sourceSpan:t.sourceSpan,nodeFlags:2,nodeDef:ln(ae(lu.textDef)).callFn([gn(t.ngContentIndex),fn(o.strings.map(function(t){return gn(t)}))]),updateRenderer:s}}},t.prototype.visitEmbeddedTemplate=function(t,e){var n=this,r=this.nodes.length;this.nodes.push(null);var i=this._visitElementOrTemplate(r,t),o=i.flags,s=i.queryMatchesExpr,a=i.hostEvents,u=this.viewBuilderFactory(this);this.children.push(u),u.visitAll(t.variables,t.children);var c=this.nodes.length-r-1;this.nodes[r]=function(){return{sourceSpan:t.sourceSpan,nodeFlags:1|o,nodeDef:ln(ae(lu.anchorDef)).callFn([gn(o),s,gn(t.ngContentIndex),gn(c),n._createElementHandleEventFn(r,a),cn(u.viewName)])}}},t.prototype.visitElement=function(t,e){var n=this,i=this.nodes.length;this.nodes.push(null);var o=t.name;t.name===uh&&(o=null);var s=this._visitElementOrTemplate(i,t),a=s.flags,u=s.usedEvents,c=s.queryMatchesExpr,l=s.hostBindings,p=s.hostEvents,h=[],f=[],d=[];if(o){var m=t.inputs.map(function(t){return{context:dh,inputAst:t,dirAst:null}}).concat(l);m.length&&(f=m.map(function(t,e){return n._preprocessUpdateExpression({context:t.context,nodeIndex:i,bindingIndex:e,sourceSpan:t.inputAst.sourceSpan,value:t.inputAst.value})}),h=m.map(function(t){return nr(t.inputAst,t.dirAst)})),d=u.map(function(t){var e=t[0],n=t[1];return fn([gn(e),gn(n)])})}r(this,t.children);var v=this.nodes.length-i-1,g=t.directives.find(function(t){return t.directive.isComponent}),y=wl,_=wl;g&&(_=ln({reference:g.directive.componentViewType}),y=ln({reference:g.directive.rendererType})),this.nodes[i]=function(){return{sourceSpan:t.sourceSpan,nodeFlags:1|a,nodeDef:ln(ae(lu.elementDef)).callFn([gn(a),c,gn(t.ngContentIndex),gn(v),gn(o),o?rr(t):wl,h.length?fn(h):wl,d.length?fn(d):wl,n._createElementHandleEventFn(i,p),_,y]),updateRenderer:f}}},t.prototype._visitElementOrTemplate=function(t,e){var r=this,i=0;e.hasViewContainer&&(i|=8388608);var o=new Map;e.outputs.forEach(function(t){var e=lr(t,null),r=e.name,i=e.target;o.set(n.i(Vr["ÉµelementEventFullName"])(i,r),[i,r])}),e.directives.forEach(function(t){t.hostEvents.forEach(function(e){var r=lr(e,t),i=r.name,s=r.target;o.set(n.i(Vr["ÉµelementEventFullName"])(s,i),[s,i])})});var s=[],a=[],u=cr(e.directives);u&&this._visitProvider(u,e.queryMatches),e.providers.forEach(function(n,i){var u,c;if(e.directives.forEach(function(t,e){t.directive.type.reference===M(n.token)&&(u=t,c=e)}),u){var l=r._visitDirective(n,u,c,t,e.references,e.queryMatches,o,r.staticQueryIds.get(e)),p=l.hostBindings,h=l.hostEvents;s.push.apply(s,p),a.push.apply(a,h)}else r._visitProvider(n,e.queryMatches)});var c=[];return e.queryMatches.forEach(function(t){var e;M(t.value)===se(lu.ElementRef)?e=0:M(t.value)===se(lu.ViewContainerRef)?e=3:M(t.value)===se(lu.TemplateRef)&&(e=2),null!=e&&c.push(fn([gn(t.queryId),gn(e)]))}),e.references.forEach(function(e){var n;e.value?M(e.value)===se(lu.TemplateRef)&&(n=2):n=1,null!=n&&(r.refNodeIndices[e.name]=t,c.push(fn([gn(e.name),gn(n)])))}),e.outputs.forEach(function(t){a.push({context:dh,eventAst:t,dirAst:null})}),{flags:i,usedEvents:Array.from(o.values()),queryMatchesExpr:c.length?fn(c):wl,hostBindings:s,hostEvents:a}},t.prototype._visitDirective=function(t,e,n,r,i,o,s,a){var u=this,c=this.nodes.length;this.nodes.push(null),e.directive.queries.forEach(function(t,n){var r=e.contentQueryStartId+n,i=33554432|pr(a,r,t.first),o=t.first?0:1;u.nodes.push(function(){return{sourceSpan:e.sourceSpan,nodeFlags:i,nodeDef:ln(ae(lu.queryDef)).callFn([gn(i),gn(r),new gl([new vl(t.propertyName,gn(o))])])}})});var l=this.nodes.length-c-1,p=this._visitProviderOrDirective(t,o),h=p.flags,f=p.queryMatchExprs,d=p.providerExpr,m=p.depsExpr;i.forEach(function(e){e.value&&M(e.value)===M(t.token)&&(u.refNodeIndices[e.name]=c,f.push(fn([gn(e.name),gn(4)])))}),e.directive.isComponent&&(h|=16384);var v=e.inputs.map(function(t,e){var n=fn([gn(e),gn(t.directiveName)]);return new vl(t.directiveName,n,!1)}),g=[],y=e.directive;Object.keys(y.outputs).forEach(function(t){var e=y.outputs[t];s.has(e)&&g.push(new vl(t,gn(e),!1))});var _=[];(e.inputs.length||(163840&h)>0)&&(_=e.inputs.map(function(t,e){return u._preprocessUpdateExpression({nodeIndex:c,bindingIndex:e,sourceSpan:t.sourceSpan,context:dh,value:t.value})}));var b=ln(ae(lu.nodeValue)).callFn([hh,gn(c)]),w=e.hostProperties.map(function(t){return{context:b,dirAst:e,inputAst:t}}),x=e.hostEvents.map(function(t){return{context:b,eventAst:t,dirAst:e}});return this.nodes[c]=function(){return{sourceSpan:e.sourceSpan,nodeFlags:8192|h,nodeDef:ln(ae(lu.directiveDef)).callFn([gn(h),f.length?fn(f):wl,gn(l),d,m,v.length?new gl(v):wl,g.length?new gl(g):wl]),updateDirectives:_,directive:e.directive.type}},{hostBindings:w,hostEvents:x}},t.prototype._visitProvider=function(t,e){var n=this.nodes.length;this.nodes.push(null);var r=this._visitProviderOrDirective(t,e),i=r.flags,o=r.queryMatchExprs,s=r.providerExpr,a=r.depsExpr;this.nodes[n]=function(){return{sourceSpan:t.sourceSpan,nodeFlags:i,nodeDef:ln(ae(lu.providerDef)).callFn([gn(i),o.length?fn(o):wl,Jn(t.token),s,a])}}},t.prototype._visitProviderOrDirective=function(t,e){var n=0;t.eager||(n|=2048),t.providerType===ei.PrivateService&&(n|=4096),t.lifecycleHooks.forEach(function(e){e!==Vr["ÉµLifecycleHooks"].OnDestroy&&t.providerType!==ei.Directive&&t.providerType!==ei.Component||(n|=er(e))});var r=[];e.forEach(function(e){M(e.value)===M(t.token)&&r.push(fn([gn(e.queryId),gn(4)]))});var i=Zn(t),o=i.providerExpr,s=i.depsExpr;return{flags:n|i.flags,queryMatchExprs:r,providerExpr:o,depsExpr:s}},t.prototype.getLocal=function(t){if(t==Kp.event.name)return Kp.event;for(var e=hh,n=this;n;n=n.parent,e=e.prop("parent").cast(Wc)){var r=n.refNodeIndices[t];if(null!=r)return ln(ae(lu.nodeValue)).callFn([e,gn(r)]);var i=n.variables.find(function(e){return e.name===t});if(i){var o=i.value||ah;return e.prop("context").prop(o)}}return null},t.prototype.createLiteralArrayConverter=function(t,e){if(0===e){var n=ln(ae(lu.EMPTY_ARRAY));return function(){return n}}var r=this.nodes.length;return this.nodes.push(function(){return{sourceSpan:t,nodeFlags:16,nodeDef:ln(ae(lu.pureArrayDef)).callFn([gn(e)])}}),function(t){return or(r,t)}},t.prototype.createLiteralMapConverter=function(t,e){if(0===e.length){var n=ln(ae(lu.EMPTY_MAP));return function(){return n}}var r=this.nodes.length;return this.nodes.push(function(){return{sourceSpan:t,nodeFlags:32,nodeDef:ln(ae(lu.pureObjectDef)).callFn([fn(e.map(function(t){return gn(t)}))])}}),function(t){return or(r,t)}},t.prototype.createPipeConverter=function(t,e,n){var r=this.usedPipes.find(function(t){return t.name===e});if(r.pure){var i=this.nodes.length;this.nodes.push(function(){return{sourceSpan:t.sourceSpan,nodeFlags:64,nodeDef:ln(ae(lu.purePipeDef)).callFn([gn(n)])}});for(var o=hh,s=this;s.parent;)s=s.parent,o=o.prop("parent").cast(Wc);var a=s.purePipeNodeIndices[e],u=ln(ae(lu.nodeValue)).callFn([o,gn(a)]);return function(e){return sr(t.nodeIndex,t.bindingIndex,or(i,[u].concat(e)))}}var c=this._createPipe(t.sourceSpan,r),l=ln(ae(lu.nodeValue)).callFn([hh,gn(c)]);return function(e){return sr(t.nodeIndex,t.bindingIndex,l.callMethod("transform",e))}},t.prototype._createPipe=function(t,e){var n=this.nodes.length,r=0;e.type.lifecycleHooks.forEach(function(t){t===Vr["ÉµLifecycleHooks"].OnDestroy&&(r|=er(t))});var i=e.type.diDeps.map($n);return this.nodes.push(function(){return{sourceSpan:t,nodeFlags:8,nodeDef:ln(ae(lu.pipeDef)).callFn([gn(r),ln(e.type),fn(i)])}}),n},t.prototype._preprocessUpdateExpression=function(t){var e=this;return{nodeIndex:t.nodeIndex,bindingIndex:t.bindingIndex,sourceSpan:t.sourceSpan,context:t.context,value:kn({createLiteralArrayConverter:function(n){return e.createLiteralArrayConverter(t.sourceSpan,n)},createLiteralMapConverter:function(n){return e.createLiteralMapConverter(t.sourceSpan,n)},createPipeConverter:function(n,r){return e.createPipeConverter(t,n,r)}},t.value)}},t.prototype._createNodeExpressions=function(){function t(t,r,i,o){var s=[],a=i.map(function(t){var r=t.sourceSpan,i=t.context,o=t.value,a=""+n++,u=i===dh?e:null,c=jn(u,i,o,a),l=c.stmts,p=c.currValExpr;return s.push.apply(s,l.map(function(t){return an(t,r)})),un(p,r)});return(i.length||o)&&s.push(an(or(t,a).toStmt(),r)),s}var e=this,n=0,r=[],i=[];return{updateRendererStmts:r,updateDirectivesStmts:i,nodeDefExprs:this.nodes.map(function(e,n){var o=e(),s=o.nodeDef,a=o.nodeFlags,u=o.updateDirectives,c=o.updateRenderer,l=o.sourceSpan;return c&&r.push.apply(r,t(n,l,c,!1)),u&&i.push.apply(i,t(n,l,u,(163840&a)>0)),un(3&a?new yl([ph.callFn([]).callFn([]),s]):s,l)})}},t.prototype._createElementHandleEventFn=function(t,e){var r=this,i=[],o=0;e.forEach(function(t){var e=t.context,s=t.eventAst,a=t.dirAst,u=""+o++,c=e===dh?r:null,l=Dn(c,e,s.handler,u),p=l.stmts,h=l.allowDefault,f=p;h&&f.push(vh.set(h.and(vh)).toStmt());var d=lr(s,a),m=d.target,v=d.name,g=n.i(Vr["ÉµelementEventFullName"])(m,v);i.push(an(new Nl(gn(g).identical(mh),f),s.sourceSpan))});var s;if(i.length>0){var a=[vh.set(gn(!0)).toDeclStmt(Xc)];!this.component.isHost&&sn(i).has(dh.name)&&a.push(dh.set(hh.prop("component")).toDeclStmt(this.compType)),s=vn([new ll(hh.name,qc),new ll(mh.name,qc),new ll(Kp.event.name,qc)],a.concat(i,[new Al(vh)]),qc)}else s=wl;return s},t.prototype.visitDirective=function(t,e){},t.prototype.visitDirectiveProperty=function(t,e){},t.prototype.visitReference=function(t,e){},t.prototype.visitVariable=function(t,e){},t.prototype.visitEvent=function(t,e){},t.prototype.visitElementProperty=function(t,e){},t.prototype.visitAttr=function(t,e){},t}(),yh=function(){function t(t,e,n){this.srcFileUrl=t,this.genFileUrl=e,this.source=n}return t}(),_h=function(t){function e(e,n){var r=t.call(this)||this;return r.symbolResolver=e,r.summaryResolver=n,r.symbols=[],r.indexBySymbol=new Map,r.processedSummaryBySymbol=new Map,r.processedSummaries=[],r}return Hr(e,t),e.prototype.addOrMergeSummary=function(t){var e=t.metadata;e&&"class"===e.__symbolic&&(e={__symbolic:"class",statics:e.statics,arity:e.arity});var n=this.processedSummaryBySymbol.get(t.symbol);n||(n=this.processValue({symbol:t.symbol}),this.processedSummaries.push(n),this.processedSummaryBySymbol.set(t.symbol,n)),null==n.metadata&&null!=e&&(n.metadata=this.processValue(e)),null==n.type&&null!=t.type&&(n.type=this.processValue(t.type))},e.prototype.serialize=function(){var t=this,e=[];return{json:JSON.stringify({summaries:this.processedSummaries,symbols:this.symbols.map(function(n,r){n.assertNoMembers();var i;return t.summaryResolver.isLibraryFile(n.filePath)&&(i=n.name+"_"+r,e.push({symbol:n,exportAs:i})),{__symbol:r,name:n.name,filePath:t.summaryResolver.getLibraryFileName(n.filePath),importAs:i}})}),exportAs:e}},e.prototype.processValue=function(t){return h(t,this,null)},e.prototype.visitOther=function(t,e){if(t instanceof ii){var n=this.symbolResolver.getStaticSymbol(t.filePath,t.name),r=this.indexBySymbol.get(n);return null==r&&(r=this.indexBySymbol.size,this.indexBySymbol.set(n,r),this.symbols.push(n)),{__symbol:r,members:t.members}}},e}(yi),bh=function(t){function e(e){var n=t.call(this)||this;return n.symbolCache=e,n}return Hr(e,t),e.prototype.deserialize=function(t){var e=this,n=JSON.parse(t),r=[];return this.symbols=[],n.symbols.forEach(function(t){var n=e.symbolCache.get(t.filePath,t.name);e.symbols.push(n),t.importAs&&r.push({symbol:n,importAs:t.importAs})}),{summaries:h(n.summaries,this,null),importAs:r}},e.prototype.visitStringMap=function(e,n){if("__symbol"in e){var r=this.symbols[e.__symbol],i=e.members;return i.length?this.symbolCache.get(r.filePath,r.name,i):r}return t.prototype.visitStringMap.call(this,e,n)},e}(yi),wh=(function(){function t(t,e,n,r,i,o,s,a,u,c,l,p,h){this._config=t,this._host=e,this._metadataResolver=n,this._templateParser=r,this._styleCompiler=i,this._viewCompiler=o,this._ngModuleCompiler=s,this._outputEmitter=a,this._summaryResolver=u,this._localeId=c,this._translationFormat=l,this._genFilePreamble=p,this._symbolResolver=h}t.prototype.clearCache=function(){this._metadataResolver.clearCache()},t.prototype.compileAll=function(t){var e=this,n=br(this._symbolResolver,t,this._host),r=yr(n,this._host,this._metadataResolver),i=r.ngModuleByPipeOrDirective,o=r.files,s=r.ngModules;return Promise.all(s.map(function(t){return e._metadataResolver.loadNgModuleDirectiveAndPipeMetadata(t.type.reference,!1)})).then(function(){return A(o.map(function(t){return e._compileSrcFile(t.srcUrl,i,t.directives,t.pipes,t.ngModules,t.injectables)}))})},t.prototype._compileSrcFile=function(t,e,n,r,i,o){var s=this,a=We(t)[1],u=[],c=[],l=[];if(l.push(this._createSummary(t,n,r,i,o,u,c)),c.push.apply(c,i.map(function(t){return s._compileModule(t,u)})),n.forEach(function(n){var r=s._metadataResolver.getDirectiveMetadata(n);if(!r.isComponent)return Promise.resolve(null);var i=e.get(n);if(!i)throw new Error("Internal Error: cannot determine the module for component "+y(r.type)+"!");vr(r);var o=s._styleCompiler.compileComponent(r);o.externalStylesheets.forEach(function(e){l.push(s._codgenStyles(t,e,a))});var p=s._compileComponent(r,i,i.transitiveModule.directives,o.componentStylesheet,a,u);c.push(s._compileComponentFactory(r,i,a,u),p.viewClassVar,p.compRenderTypeVar)}),u.length>0){var p=this._codegenSourceModule(t,He(t),u,c);l.unshift(p)}return l},t.prototype._createSummary=function(t,e,n,r,i,o,s){var a=this,u=this._symbolResolver.getSymbolsOf(t).map(function(t){return a._symbolResolver.resolveSymbol(t)}),c=r.map(function(t){return a._metadataResolver.getNgModuleSummary(t)}).concat(e.map(function(t){return a._metadataResolver.getDirectiveSummary(t)}),n.map(function(t){return a._metadataResolver.getPipeSummary(t)}),i.map(function(t){return a._metadataResolver.getInjectableSummary(t)})),l=hr(this._summaryResolver,this._symbolResolver,u,c),p=l.json;return l.exportAs.forEach(function(t){o.push(cn(t.exportAs).set(ln({reference:t.symbol})).toDeclStmt()),s.push(t.exportAs)}),new yh(t,qe(t),p)},t.prototype._compileModule=function(t,e){var n=this._metadataResolver.getNgModuleMetadata(t),r=[];this._localeId&&r.push({token:ce(lu.LOCALE_ID),useValue:this._localeId}),this._translationFormat&&r.push({token:ce(lu.TRANSLATIONS_FORMAT),useValue:this._translationFormat});var i=this._ngModuleCompiler.compile(n,r);return e.push.apply(e,i.statements),i.ngModuleFactoryVar},t.prototype._compileComponentFactory=function(t,e,n,r){var i=this._metadataResolver.getHostComponentType(t.type.reference),o=C(i,t,this._metadataResolver.getHostComponentViewClass(i)),s=this._compileComponent(o,e,[t.type],null,n,r).viewClassVar,a=E(t.type.reference),u=[];for(var c in t.inputs){var l=t.inputs[c];u.push(new vl(c,gn(l),!1))}var p=[];for(var c in t.outputs){var l=t.outputs[c];p.push(new vl(c,gn(l),!1))}return r.push(cn(a).set(ln(ae(lu.createComponentFactory)).callFn([gn(t.selector),ln(t.type),cn(s),new gl(u),new gl(p),fn(t.template.ngContentSelectors.map(function(t){return gn(t)}))])).toDeclStmt(pn(ae(lu.ComponentFactory),[pn(t.type)],[Fc.Const]),[El.Final])),a},t.prototype._compileComponent=function(t,e,n,r,i,o){var s=this,a=n.map(function(t){return s._metadataResolver.getDirectiveSummary(t.reference)}),u=e.transitiveModule.pipes.map(function(t){return s._metadataResolver.getPipeSummary(t.reference)}),c=this._templateParser.parse(t,t.template.template,a,u,e.schemas,R(e.type,t,t.template)),l=c.template,p=c.pipes,h=r?cn(r.stylesVar):fn([]),f=this._viewCompiler.compileComponent(t,l,h,p);return r&&o.push.apply(o,dr(this._symbolResolver,r,i)),o.push.apply(o,f.statements),{viewClassVar:f.viewClassVar,compRenderTypeVar:f.rendererTypeVar}},t.prototype._codgenStyles=function(t,e,n){return dr(this._symbolResolver,e,n),this._codegenSourceModule(t,mr(e.meta.moduleUrl,e.isShimmed,n),e.statements,[e.stylesVar])},t.prototype._codegenSourceModule=function(t,e,n,r){return new yh(t,e,this._outputEmitter.emitStatements(P(t),e,n,r,this._genFilePreamble))},t}(),function(){function t(t){this.staticDelegate=t,this.dynamicDelegate=new Vr["ÉµReflectionCapabilities"]}return t.install=function(e){Vr["Éµreflector"].updateCapabilities(new t(e))},t.prototype.isReflectionEnabled=function(){return!0},t.prototype.factory=function(t){return this.dynamicDelegate.factory(t)},t.prototype.hasLifecycleHook=function(t,e){return xr(t)?this.staticDelegate.hasLifecycleHook(t,e):this.dynamicDelegate.hasLifecycleHook(t,e)},t.prototype.parameters=function(t){return xr(t)?this.staticDelegate.parameters(t):this.dynamicDelegate.parameters(t)},t.prototype.annotations=function(t){return xr(t)?this.staticDelegate.annotations(t):this.dynamicDelegate.annotations(t)},t.prototype.propMetadata=function(t){return xr(t)?this.staticDelegate.propMetadata(t):this.dynamicDelegate.propMetadata(t)},t.prototype.getter=function(t){return this.dynamicDelegate.getter(t)},t.prototype.setter=function(t){return this.dynamicDelegate.setter(t)},t.prototype.method=function(t){return this.dynamicDelegate.method(t)},t.prototype.importUri=function(t){return this.staticDelegate.importUri(t)},t.prototype.resourceUri=function(t){return this.staticDelegate.resourceUri(t)},t.prototype.resolveIdentifier=function(t,e,n,r){return this.staticDelegate.resolveIdentifier(t,e,n)},t.prototype.resolveEnum=function(t,e){return xr(t)?this.staticDelegate.resolveEnum(t,e):null},t}()),xh="@angular/core",Eh=/^\$.*\$$/,Sh={__symbolic:"ignore"},Mh=function(){function t(t,e,n,r){void 0===e&&(e=[]),void 0===n&&(n=[]);var i=this;this.symbolResolver=t,this.errorRecorder=r,this.annotationCache=new Map,this.propertyCache=new Map,this.parameterCache=new Map,this.methodCache=new Map,this.conversionMap=new Map,this.initializeConversionMap(),e.forEach(function(t){return i._registerDecoratorOrConstructor(i.getStaticSymbol(t.filePath,t.name),t.ctor)}),n.forEach(function(t){return i._registerFunction(i.getStaticSymbol(t.filePath,t.name),t.fn)})}return t.prototype.importUri=function(t){var e=this.findSymbolDeclaration(t);return e?e.filePath:null},t.prototype.resourceUri=function(t){var e=this.findSymbolDeclaration(t);return this.symbolResolver.getResourcePath(e)},t.prototype.resolveIdentifier=function(t,e,n){var r=this.getStaticSymbol(e,t),i=this.findDeclaration(e,t);return r!=i&&this.symbolResolver.recordImportAs(i,r),n&&n.length?this.getStaticSymbol(i.filePath,i.name,n):i},t.prototype.findDeclaration=function(t,e,n){return this.findSymbolDeclaration(this.symbolResolver.getSymbolByModule(t,e,n))},t.prototype.findSymbolDeclaration=function(t){var e=this.symbolResolver.resolveSymbol(t);return e&&e.metadata instanceof ii?this.findSymbolDeclaration(e.metadata):t},t.prototype.resolveEnum=function(t,e){var n=t,r=(n.members||[]).concat(e);return this.getStaticSymbol(n.filePath,n.name,r)},t.prototype.annotations=function(t){var e=this.annotationCache.get(t);if(!e){e=[];var n=this.getTypeMetadata(t);if(n.extends){var r=this.trySimplify(t,n.extends);if(r&&r instanceof ii){var i=this.annotations(r);e.push.apply(e,i)}}if(n.decorators){var o=this.simplify(t,n.decorators);e.push.apply(e,o)}this.annotationCache.set(t,e.filter(function(t){return!!t}))}return e},t.prototype.propMetadata=function(t){var e=this,n=this.propertyCache.get(t);if(!n){var r=this.getTypeMetadata(t);if(n={},r.extends){var i=this.trySimplify(t,r.extends);if(i instanceof ii){var o=this.propMetadata(i);Object.keys(o).forEach(function(t){n[t]=o[t]})}}var s=r.members||{};Object.keys(s).forEach(function(r){var i=s[r],o=i.find(function(t){return"property"==t.__symbolic||"method"==t.__symbolic}),a=[];n[r]&&a.push.apply(a,n[r]),n[r]=a,o&&o.decorators&&a.push.apply(a,e.simplify(t,o.decorators))}),this.propertyCache.set(t,n)}return n},t.prototype.parameters=function(t){if(!(t instanceof ii))return this.reportError(new Error("parameters received "+JSON.stringify(t)+" which is not a StaticSymbol"),t),[];try{var e=this.parameterCache.get(t);if(!e){var n=this.getTypeMetadata(t),r=n?n.members:null,i=r?r.__ctor__:null;if(i){var o=i.find(function(t){return"constructor"==t.__symbolic}),s=this.simplify(t,o.parameters||[]),a=this.simplify(t,o.parameterDecorators||[]);e=[],s.forEach(function(t,n){var r=[];t&&r.push(t);var i=a?a[n]:null;i&&r.push.apply(r,i),e.push(r)})}else if(n.extends){var u=this.trySimplify(t,n.extends);u instanceof ii&&(e=this.parameters(u))}e||(e=[]),this.parameterCache.set(t,e)}return e}catch(e){throw console.error("Failed on type "+JSON.stringify(t)+" with error "+e),e}},t.prototype._methodNames=function(t){var e=this.methodCache.get(t);if(!e){var n=this.getTypeMetadata(t);if(e={},n.extends){var r=this.trySimplify(t,n.extends);if(r instanceof ii){var i=this._methodNames(r);Object.keys(i).forEach(function(t){e[t]=i[t]})}}var o=n.members||{};Object.keys(o).forEach(function(t){var n=o[t],r=n.some(function(t){return"method"==t.__symbolic});e[t]=e[t]||r}),this.methodCache.set(t,e)}return e},t.prototype.hasLifecycleHook=function(t,e){t instanceof ii||this.reportError(new Error("hasLifecycleHook received "+JSON.stringify(t)+" which is not a StaticSymbol"),t);try{return!!this._methodNames(t)[e]}catch(e){throw console.error("Failed on type "+JSON.stringify(t)+" with error "+e),e}},t.prototype._registerDecoratorOrConstructor=function(t,e){this.conversionMap.set(t,function(t,n){return new(e.bind.apply(e,[void 0].concat(n)))})},t.prototype._registerFunction=function(t,e){this.conversionMap.set(t,function(t,n){return e.apply(void 0,n)})},t.prototype.initializeConversionMap=function(){this.injectionToken=this.findDeclaration(xh,"InjectionToken"),this.opaqueToken=this.findDeclaration(xh,"OpaqueToken"),this._registerDecoratorOrConstructor(this.findDeclaration(xh,"Host"),Vr.Host),this._registerDecoratorOrConstructor(this.findDeclaration(xh,"Injectable"),Vr.Injectable),this._registerDecoratorOrConstructor(this.findDeclaration(xh,"Self"),Vr.Self),this._registerDecoratorOrConstructor(this.findDeclaration(xh,"SkipSelf"),Vr.SkipSelf),this._registerDecoratorOrConstructor(this.findDeclaration(xh,"Inject"),Vr.Inject),this._registerDecoratorOrConstructor(this.findDeclaration(xh,"Optional"),Vr.Optional),this._registerDecoratorOrConstructor(this.findDeclaration(xh,"Attribute"),Vr.Attribute),this._registerDecoratorOrConstructor(this.findDeclaration(xh,"ContentChild"),Vr.ContentChild),this._registerDecoratorOrConstructor(this.findDeclaration(xh,"ContentChildren"),Vr.ContentChildren),this._registerDecoratorOrConstructor(this.findDeclaration(xh,"ViewChild"),Vr.ViewChild),this._registerDecoratorOrConstructor(this.findDeclaration(xh,"ViewChildren"),Vr.ViewChildren),this._registerDecoratorOrConstructor(this.findDeclaration(xh,"Input"),Vr.Input),this._registerDecoratorOrConstructor(this.findDeclaration(xh,"Output"),Vr.Output),this._registerDecoratorOrConstructor(this.findDeclaration(xh,"Pipe"),Vr.Pipe),this._registerDecoratorOrConstructor(this.findDeclaration(xh,"HostBinding"),Vr.HostBinding),this._registerDecoratorOrConstructor(this.findDeclaration(xh,"HostListener"),Vr.HostListener),this._registerDecoratorOrConstructor(this.findDeclaration(xh,"Directive"),Vr.Directive),this._registerDecoratorOrConstructor(this.findDeclaration(xh,"Component"),Vr.Component),this._registerDecoratorOrConstructor(this.findDeclaration(xh,"NgModule"),Vr.NgModule),this._registerDecoratorOrConstructor(this.findDeclaration(xh,"Host"),Vr.Host),this._registerDecoratorOrConstructor(this.findDeclaration(xh,"Self"),Vr.Self),this._registerDecoratorOrConstructor(this.findDeclaration(xh,"SkipSelf"),Vr.SkipSelf),this._registerDecoratorOrConstructor(this.findDeclaration(xh,"Optional"),Vr.Optional),this._registerFunction(this.findDeclaration(xh,"trigger"),Vr.trigger),this._registerFunction(this.findDeclaration(xh,"state"),Vr.state),this._registerFunction(this.findDeclaration(xh,"transition"),Vr.transition),this._registerFunction(this.findDeclaration(xh,"style"),Vr.style),this._registerFunction(this.findDeclaration(xh,"animate"),Vr.animate),this._registerFunction(this.findDeclaration(xh,"keyframes"),Vr.keyframes),this._registerFunction(this.findDeclaration(xh,"sequence"),Vr.sequence),this._registerFunction(this.findDeclaration(xh,"group"),Vr.group)},t.prototype.getStaticSymbol=function(t,e,n){return this.symbolResolver.getStaticSymbol(t,e,n)},t.prototype.reportError=function(t,e,n){if(!this.errorRecorder)throw t;this.errorRecorder(t,e&&e.filePath||n)},t.prototype.trySimplify=function(t,e){var n=this.errorRecorder;this.errorRecorder=function(t,e){};var r=this.simplify(t,e);return this.errorRecorder=n,r},t.prototype.simplify=function(t,e){function n(t,e,r){function a(t){var e=i.symbolResolver.resolveSymbol(t);return e?e.metadata:null}function u(e,i,a){if(i&&"function"==i.__symbolic){if(s.get(e))throw new Error("Recursion not supported");s.set(e,!0);try{var u=i.value;if(u&&(0!=r||"error"!=u.__symbolic)){var l=i.parameters,p=i.defaults;a=a.map(function(e){return n(t,e,r+1)}).map(function(t){return Er(t)?void 0:t}),p&&p.length>a.length&&a.push.apply(a,p.slice(a.length).map(function(t){return c(t)}));for(var h=Ch.build(),f=0;f<l.length;f++)h.define(l[f],a[f]);var d,m=o;try{o=h.done(),d=n(e,u,r+1)}finally{o=m}return d}}finally{s.delete(e)}}return 0===r?Sh:c({__symbolic:"error",message:"Function call not supported",context:e})}function c(e){if(Tr(e))return e;if(e instanceof Array){for(var s=[],l=0,p=e;l<p.length;l++){var h=p[l];if(h&&"spread"===h.__symbolic){var f=c(h.expression);if(Array.isArray(f)){for(var d=0,m=f;d<m.length;d++){var v=m[d];s.push(v)}continue}}var g=c(h);Er(g)||s.push(g)}return s}if(e instanceof ii){if(e===i.injectionToken||e===i.opaqueToken||i.conversionMap.has(e))return e;var y=e,_=a(y);return _?n(y,_,r+1):y}if(e){if(e.__symbolic){var y=void 0;switch(e.__symbolic){case"binop":var b=c(e.left);if(Er(b))return b;var w=c(e.right);if(Er(w))return w;switch(e.operator){case"&&":return b&&w;case"||":return b||w;case"|":return b|w;case"^":return b^w;case"&":return b&w;case"==":return b==w;case"!=":return b!=w;case"===":return b===w;case"!==":return b!==w;case"<":return b<w;case">":return b>w;case"<=":return b<=w;case">=":return b>=w;case"<<":return b<<w;case">>":return b>>w;case"+":return b+w;case"-":return b-w;case"*":return b*w;case"/":return b/w;case"%":return b%w}return null;case"if":return c(c(e.condition)?e.thenExpression:e.elseExpression);case"pre":var x=c(e.operand);if(Er(x))return x;switch(e.operator){case"+":return x;case"-":return-x;case"!":return!x;case"~":return~x}return null;case"index":var E=c(e.expression),S=c(e.index);return E&&Tr(S)?E[S]:null;case"select":var M=e.member,C=t,T=c(e.expression);if(T instanceof ii){var A=T.members.concat(M);C=i.getStaticSymbol(T.filePath,T.name,A);var _=a(C);return _?n(C,_,r+1):C}return T&&Tr(M)?n(C,T[M],r+1):null;case"reference":var P=e.name,R=o.resolve(P);if(R!=Ch.missing)return R;break;case"class":return t;case"function":return t;case"new":case"call":if((y=n(t,e.expression,r+1))instanceof ii){if(y===i.injectionToken||y===i.opaqueToken)return t;var O=e.arguments||[],L=i.conversionMap.get(y);if(L){return L(t,O.map(function(e){return n(t,e,r+1)}).map(function(t){return Er(t)?void 0:t}))}return u(y,a(y),O)}break;case"error":var I=Mr(e);return e.line?(I=I+" (position "+(e.line+1)+":"+(e.character+1)+" in the original .ts file)",i.reportError(Ar(I,t.filePath,e.line,e.character),t)):i.reportError(new Error(I),t),Sh;case"ignore":return e}return null}return Cr(e,function(t,e){return c(t)})}return Sh}try{return c(e)}catch(e){var l=t.members.length?"."+t.members.join("."):"",p=e.message+", resolving symbol "+t.name+l+" in "+t.filePath;if(e.fileName)throw Ar(p,e.fileName,e.line,e.column);throw f(p)}}var r=this,i=this,o=Ch.empty,s=new Map,a=function(t,e,i){try{return n(t,e,i)}catch(e){r.reportError(e,t)}},u=this.errorRecorder?a(t,e,0):n(t,e,0);if(!Er(u))return u},t.prototype.getTypeMetadata=function(t){var e=this.symbolResolver.resolveSymbol(t);return e&&e.metadata?e.metadata:{__symbolic:"class"}},t}(),Ch=function(){function t(){}return t.prototype.resolve=function(t){},t.build=function(){var e=new Map;return{define:function(t,n){return e.set(t,n),this},done:function(){return e.size>0?new Th(e):t.empty}}},t}();Ch.missing={},Ch.empty={resolve:function(t){return Ch.missing}};var Th=function(t){function e(e){var n=t.call(this)||this;return n.bindings=e,n}return Hr(e,t),e.prototype.resolve=function(t){return this.bindings.has(t)?this.bindings.get(t):Ch.missing},e}(Ch),Ah=function(){function t(t,e){this.symbol=t,this.metadata=e}return t}(),Ph=3,Rh=function(){function t(t,e,n,r){this.host=t,this.staticSymbolCache=e,this.summaryResolver=n,this.errorRecorder=r,this.metadataCache=new Map,this.resolvedSymbols=new Map,this.resolvedFilePaths=new Set,this.importAs=new Map,this.symbolResourcePaths=new Map,this.symbolFromFile=new Map}return t.prototype.resolveSymbol=function(t){if(t.members.length>0)return this._resolveSymbolMembers(t);var e=this.resolvedSymbols.get(t);return e?e:(e=this._resolveSymbolFromSummary(t))?e:(this._createSymbolsOf(t.filePath),e=this.resolvedSymbols.get(t))},t.prototype.getImportAs=function(t){if(t.members.length){var e=this.getStaticSymbol(t.filePath,t.name),n=this.getImportAs(e);return n?this.getStaticSymbol(n.filePath,n.name,t.members):null}var r=this.summaryResolver.getImportAs(t);return r||(r=this.importAs.get(t)),r},t.prototype.getResourcePath=function(t){return this.symbolResourcePaths.get(t)||t.filePath},t.prototype.getTypeArity=function(t){if(Ge(t.filePath))return null;for(var e=this.resolveSymbol(t);e&&e.metadata instanceof ii;)e=this.resolveSymbol(e.metadata);return e&&e.metadata&&e.metadata.arity||null},t.prototype.recordImportAs=function(t,e){t.assertNoMembers(),e.assertNoMembers(),this.importAs.set(t,e)},t.prototype.invalidateFile=function(t){this.metadataCache.delete(t),this.resolvedFilePaths.delete(t);var e=this.symbolFromFile.get(t);if(e){this.symbolFromFile.delete(t);for(var n=0,r=e;n<r.length;n++){var i=r[n];this.resolvedSymbols.delete(i),this.importAs.delete(i),this.symbolResourcePaths.delete(i)}}},t.prototype._resolveSymbolMembers=function(t){var e=t.members,n=this.resolveSymbol(this.getStaticSymbol(t.filePath,t.name));if(!n)return null;var r=n.metadata;if(r instanceof ii)return new Ah(t,this.getStaticSymbol(r.filePath,r.name,e));if(!r||"class"!==r.__symbolic){for(var i=r,o=0;o<e.length&&i;o++)i=i[e[o]];return new Ah(t,i)}return r.statics&&1===e.length?new Ah(t,r.statics[e[0]]):null},t.prototype._resolveSymbolFromSummary=function(t){var e=this.summaryResolver.resolveSummary(t);return e?new Ah(t,e.metadata):null},t.prototype.getStaticSymbol=function(t,e,n){return this.staticSymbolCache.get(t,e,n)},t.prototype.getSymbolsOf=function(t){var e=new Set(this.summaryResolver.getSymbolsOf(t));return this._createSymbolsOf(t),this.resolvedSymbols.forEach(function(n){n.symbol.filePath===t&&e.add(n.symbol)}),Array.from(e)},t.prototype._createSymbolsOf=function(t){var e=this;if(!this.resolvedFilePaths.has(t)){this.resolvedFilePaths.add(t);var n=[],r=this.getModuleMetadata(t);if(r.metadata){var i=new Set(Object.keys(r.metadata).map(Pr)),o=r.origins||{};Object.keys(r.metadata).forEach(function(s){var a=r.metadata[s],u=Pr(s),c=e.getStaticSymbol(t,u),l=void 0;r.importAs&&(l=e.getStaticSymbol(r.importAs,u),e.recordImportAs(c,l));var p=o.hasOwnProperty(s)&&o[s];if(p){var h=e.resolveModule(p,t);h?e.symbolResourcePaths.set(c,h):e.reportError(new Error("Couldn't resolve original symbol for "+p+" from "+t),null)}n.push(e.createResolvedSymbol(c,t,i,a))})}if(r.exports)for(var s=function(r){if(r.export)r.export.forEach(function(i){var o;o="string"==typeof i?i:i.as,o=Pr(o);var s=o;"string"!=typeof i&&(s=Pr(i.name));var a=e.resolveModule(r.from,t);if(a){var u=e.getStaticSymbol(a,s),c=e.getStaticSymbol(t,o);n.push(e.createExport(c,u))}});else{var i=a.resolveModule(r.from,t);if(i){a.getSymbolsOf(i).forEach(function(r){var i=e.getStaticSymbol(t,r.name);n.push(e.createExport(i,r))})}}},a=this,u=0,c=r.exports;u<c.length;u++){var l=c[u];s(l)}n.forEach(function(t){return e.resolvedSymbols.set(t.symbol,t)}),this.symbolFromFile.set(t,n.map(function(t){return t.symbol}))}},t.prototype.createResolvedSymbol=function(t,e,n,r){var i=this,o=function(r){function o(){return null!==r&&r.apply(this,arguments)||this}return Hr(o,r),o.prototype.visitStringMap=function(o,s){var a=o.__symbolic;if("function"===a){var u=s.length;s.push.apply(s,o.parameters||[]);var c=r.prototype.visitStringMap.call(this,o,s);return s.length=u,c}if("reference"!==a)return r.prototype.visitStringMap.call(this,o,s);var l=o.module,p=o.name?Pr(o.name):o.name;if(!p)return null;var h=void 0;return l?(h=i.resolveModule(l,t.filePath),h?i.getStaticSymbol(h,p):{__symbolic:"error",message:"Could not resolve "+l+" relative to "+t.filePath+"."}):s.indexOf(p)>=0?{__symbolic:"reference",name:p}:n.has(p)?i.getStaticSymbol(e,p):void 0},o}(yi),s=h(r,new o,[]);return s instanceof ii?this.createExport(t,s):new Ah(t,s)},t.prototype.createExport=function(t,e){return t.assertNoMembers(),e.assertNoMembers(),this.summaryResolver.isLibraryFile(t.filePath)&&this.importAs.set(e,this.getImportAs(t)||t),new Ah(t,e)},t.prototype.reportError=function(t,e,n){if(!this.errorRecorder)throw t;this.errorRecorder(t,e&&e.filePath||n)},t.prototype.getModuleMetadata=function(t){var e=this.metadataCache.get(t);if(!e){var n=this.host.getMetadataFor(t);if(n){var r=-1;n.forEach(function(t){t.version>r&&(r=t.version,e=t)})}if(e||(e={__symbolic:"module",version:Ph,module:t,metadata:{}}),e.version!=Ph){var i=2==e.version?"Unsupported metadata version "+e.version+" for module "+t+". This module should be compiled with a newer version of ngc":"Metadata version mismatch for module "+t+", found version "+e.version+", expected "+Ph;this.reportError(new Error(i),null)}this.metadataCache.set(t,e)}return e},t.prototype.getSymbolByModule=function(t,e,n){var r=this.resolveModule(t,n);return r?this.getStaticSymbol(r,e):(this.reportError(new Error("Could not resolve module "+t+(n?" relative to $ {\n            containingFile\n          } ":"")),null),this.getStaticSymbol("ERROR:"+t,e))},t.prototype.resolveModule=function(t,e){try{return this.host.moduleNameToFileName(t,e)}catch(n){console.error("Could not resolve module '"+t+"' relative to file "+e),this.reportError(n,null,e)}},t}(),Oh=function(){function t(t,e){this.host=t,this.staticSymbolCache=e,this.summaryCache=new Map,this.loadedFilePaths=new Set,this.importAs=new Map}return t.prototype.isLibraryFile=function(t){return!this.host.isSourceFile(ze(t))},t.prototype.getLibraryFileName=function(t){return this.host.getOutputFileName(t)},t.prototype.resolveSummary=function(t){t.assertNoMembers();var e=this.summaryCache.get(t);return e||(this._loadSummaryFile(t.filePath),e=this.summaryCache.get(t)),e},t.prototype.getSymbolsOf=function(t){return this._loadSummaryFile(t),Array.from(this.summaryCache.keys()).filter(function(e){return e.filePath===t})},t.prototype.getImportAs=function(t){return t.assertNoMembers(),this.importAs.get(t)},t.prototype._loadSummaryFile=function(t){var e=this;if(!this.loadedFilePaths.has(t)&&(this.loadedFilePaths.add(t),this.isLibraryFile(t))){var n=qe(t),r=void 0;try{r=this.host.loadSummary(n)}catch(t){throw console.error("Error loading summary file "+n),t}if(r){var i=fr(this.staticSymbolCache,r),o=i.summaries,s=i.importAs;o.forEach(function(t){return e.summaryCache.set(t.symbol,t)}),s.forEach(function(n){e.importAs.set(n.symbol,e.staticSymbolCache.get(He(t),n.importAs))})}}},t}(),Lh=function(){function t(t,e,n,r){this.parent=t,this.instance=e,this.className=n,this.vars=r}return t.prototype.createChildWihtLocalVars=function(){return new t(this,this.instance,this.className,new Map)},t}(),Ih=function(){function t(t){this.value=t}return t}(),Nh=function(){function t(){}return t.prototype.debugAst=function(t){return Tn(t)},t.prototype.visitDeclareVarStmt=function(t,e){return e.vars.set(t.name,t.value.visitExpression(this,e)),null},t.prototype.visitWriteVarExpr=function(t,e){for(var n=t.value.visitExpression(this,e),r=e;null!=r;){if(r.vars.has(t.name))return r.vars.set(t.name,n),n;r=r.parent}throw new Error("Not declared variable "+t.name)},t.prototype.visitReadVarExpr=function(t,e){var n=t.name;if(null!=t.builtin)switch(t.builtin){case Qc.Super:return e.instance.__proto__;case Qc.This:return e.instance;case Qc.CatchError:n=Dh;break;case Qc.CatchStack:n=kh;break;default:throw new Error("Unknown builtin variable "+t.builtin)}for(var r=e;null!=r;){if(r.vars.has(n))return r.vars.get(n);r=r.parent}throw new Error("Not declared variable "+n)},t.prototype.visitWriteKeyExpr=function(t,e){var n=t.receiver.visitExpression(this,e),r=t.index.visitExpression(this,e),i=t.value.visitExpression(this,e);return n[r]=i,i},t.prototype.visitWritePropExpr=function(t,e){var n=t.receiver.visitExpression(this,e),r=t.value.visitExpression(this,e);return n[t.name]=r,r},t.prototype.visitInvokeMethodExpr=function(t,e){var n,r=t.receiver.visitExpression(this,e),i=this.visitAllExpressions(t.args,e);if(null!=t.builtin)switch(t.builtin){case el.ConcatArray:n=r.concat.apply(r,i);break;case el.SubscribeObservable:n=r.subscribe({next:i[0]});break;case el.Bind:n=r.bind.apply(r,i);break;default:throw new Error("Unknown builtin method "+t.builtin)}else n=r[t.name].apply(r,i);return n},t.prototype.visitInvokeFunctionExpr=function(t,e){var n=this.visitAllExpressions(t.args,e),r=t.fn;return r instanceof Kc&&r.builtin===Qc.Super?(e.instance.constructor.prototype.constructor.apply(e.instance,n),null):t.fn.visitExpression(this,e).apply(null,n)},t.prototype.visitReturnStmt=function(t,e){return new Ih(t.value.visitExpression(this,e))},t.prototype.visitDeclareClassStmt=function(t,e){var n=Lr(t,e,this);return e.vars.set(t.name,n),null},t.prototype.visitExpressionStmt=function(t,e){return t.expr.visitExpression(this,e)},t.prototype.visitIfStmt=function(t,e){return t.condition.visitExpression(this,e)?this.visitAllStatements(t.trueCase,e):null!=t.falseCase?this.visitAllStatements(t.falseCase,e):null},t.prototype.visitTryCatchStmt=function(t,e){try{return this.visitAllStatements(t.bodyStmts,e)}catch(r){var n=e.createChildWihtLocalVars();return n.vars.set(Dh,r),n.vars.set(kh,r.stack),this.visitAllStatements(t.catchStmts,n)}},t.prototype.visitThrowStmt=function(t,e){throw t.error.visitExpression(this,e)},t.prototype.visitCommentStmt=function(t,e){return null},t.prototype.visitInstantiateExpr=function(t,e){var n=this.visitAllExpressions(t.args,e),r=t.classExpr.visitExpression(this,e);return new(r.bind.apply(r,[void 0].concat(n)))},t.prototype.visitLiteralExpr=function(t,e){return t.value},t.prototype.visitExternalExpr=function(t,e){return t.value.reference},t.prototype.visitConditionalExpr=function(t,e){return t.condition.visitExpression(this,e)?t.trueCase.visitExpression(this,e):null!=t.falseCase?t.falseCase.visitExpression(this,e):null},t.prototype.visitNotExpr=function(t,e){return!t.condition.visitExpression(this,e)},t.prototype.visitCastExpr=function(t,e){return t.value.visitExpression(this,e)},t.prototype.visitFunctionExpr=function(t,e){return Ir(t.params.map(function(t){return t.name}),t.statements,e,this)},t.prototype.visitDeclareFunctionStmt=function(t,e){var n=t.params.map(function(t){return t.name});return e.vars.set(t.name,Ir(n,t.statements,e,this)),null},t.prototype.visitBinaryOperatorExpr=function(t,e){var n=this,r=function(){return t.lhs.visitExpression(n,e)},i=function(){return t.rhs.visitExpression(n,e)};switch(t.operator){case Yc.Equals:return r()==i();case Yc.Identical:return r()===i();case Yc.NotEquals:return r()!=i();case Yc.NotIdentical:return r()!==i();case Yc.And:return r()&&i();case Yc.Or:return r()||i();case Yc.Plus:return r()+i();case Yc.Minus:return r()-i();case Yc.Divide:return r()/i();case Yc.Multiply:return r()*i();case Yc.Modulo:return r()%i();case Yc.Lower:return r()<i();case Yc.LowerEquals:return r()<=i();case Yc.Bigger:return r()>i();case Yc.BiggerEquals:return r()>=i();default:throw new Error("Unknown operator "+t.operator)}},t.prototype.visitReadPropExpr=function(t,e){return t.receiver.visitExpression(this,e)[t.name]},t.prototype.visitReadKeyExpr=function(t,e){return t.receiver.visitExpression(this,e)[t.index.visitExpression(this,e)]},t.prototype.visitLiteralArrayExpr=function(t,e){return this.visitAllExpressions(t.entries,e)},t.prototype.visitLiteralMapExpr=function(t,e){var n=this,r={};return t.entries.forEach(function(t){return r[t.key]=t.value.visitExpression(n,e)}),r},t.prototype.visitCommaExpr=function(t,e){var n=this.visitAllExpressions(t.parts,e);return n[n.length-1]},t.prototype.visitAllExpressions=function(t,e){var n=this;return t.map(function(t){return t.visitExpression(n,e)})},t.prototype.visitAllStatements=function(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=r.visitStatement(this,e);if(i instanceof Ih)return i}return null},t}(),Dh="error",kh="stack",jh=function(t){function e(){return t.call(this,!1)||this}return Hr(e,t),e.prototype.visitDeclareClassStmt=function(t,e){var n=this;return e.pushClass(t),this._visitClassConstructor(t,e),null!=t.parent&&(e.print(t,t.name+".prototype = Object.create("),t.parent.visitExpression(this,e),e.println(t,".prototype);")),t.getters.forEach(function(r){return n._visitClassGetter(t,r,e)}),t.methods.forEach(function(r){return n._visitClassMethod(t,r,e)}),e.popClass(),null},e.prototype._visitClassConstructor=function(t,e){e.print(t,"function "+t.name+"("),null!=t.constructorMethod&&this._visitParams(t.constructorMethod.params,e),e.println(t,") {"),e.incIndent(),null!=t.constructorMethod&&t.constructorMethod.body.length>0&&(e.println(t,"var self = this;"),this.visitAllStatements(t.constructorMethod.body,e)),e.decIndent(),e.println(t,"}")},e.prototype._visitClassGetter=function(t,e,n){n.println(t,"Object.defineProperty("+t.name+".prototype, '"+e.name+"', { get: function() {"),n.incIndent(),e.body.length>0&&(n.println(t,"var self = this;"),this.visitAllStatements(e.body,n)),n.decIndent(),n.println(t,"}});")},e.prototype._visitClassMethod=function(t,e,n){n.print(t,t.name+".prototype."+e.name+" = function("),this._visitParams(e.params,n),n.println(t,") {"),n.incIndent(),e.body.length>0&&(n.println(t,"var self = this;"),this.visitAllStatements(e.body,n)),n.decIndent(),n.println(t,"};")},e.prototype.visitReadVarExpr=function(e,n){if(e.builtin===Qc.This)n.print(e,"self");else{if(e.builtin===Qc.Super)throw new Error("'super' needs to be handled at a parent ast node, not at the variable level!");t.prototype.visitReadVarExpr.call(this,e,n)}return null},e.prototype.visitDeclareVarStmt=function(t,e){return e.print(t,"var "+t.name+" = "),t.value.visitExpression(this,e),e.println(t,";"),null},e.prototype.visitCastExpr=function(t,e){return t.value.visitExpression(this,e),null},e.prototype.visitInvokeFunctionExpr=function(e,n){var r=e.fn;return r instanceof Kc&&r.builtin===Qc.Super?(n.currentClass.parent.visitExpression(this,n),n.print(e,".call(this"),e.args.length>0&&(n.print(e,", "),this.visitAllExpressions(e.args,n,",")),n.print(e,")")):t.prototype.visitInvokeFunctionExpr.call(this,e,n),null},e.prototype.visitFunctionExpr=function(t,e){return e.print(t,"function("),this._visitParams(t.params,e),e.println(t,") {"),e.incIndent(),this.visitAllStatements(t.statements,e),e.decIndent(),e.print(t,"}"),null},e.prototype.visitDeclareFunctionStmt=function(t,e){return e.print(t,"function "+t.name+"("),this._visitParams(t.params,e),e.println(t,") {"),e.incIndent(),this.visitAllStatements(t.statements,e),e.decIndent(),e.println(t,"}"),null},e.prototype.visitTryCatchStmt=function(t,e){e.println(t,"try {"),e.incIndent(),this.visitAllStatements(t.bodyStmts,e),e.decIndent(),e.println(t,"} catch ("+np.name+") {"),e.incIndent();var n=[rp.set(np.prop("stack")).toDeclStmt(null,[El.Final])].concat(t.catchStmts);return this.visitAllStatements(n,e),e.decIndent(),e.println(t,"}"),null},e.prototype._visitParams=function(t,e){this.visitAllObjects(function(t){return e.print(null,t.name)},t,e,",")},e.prototype.getBuiltinMethodName=function(t){var e;switch(t){case el.ConcatArray:e="concat";break;case el.SubscribeObservable:e="subscribe";break;case el.Bind:e="bind";break;default:throw new Error("Unknown builtin method: "+t)}return e},e}(sp),Fh=function(t){function e(){var e=t.apply(this,arguments)||this;return e._evalArgNames=[],e._evalArgValues=[],e}return Hr(e,t),e.prototype.getArgs=function(){for(var t={},e=0;e<this._evalArgNames.length;e++)t[this._evalArgNames[e]]=this._evalArgValues[e];return t},e.prototype.visitExternalExpr=function(t,e){var n=t.value.reference,r=this._evalArgValues.indexOf(n);if(r===-1){r=this._evalArgValues.length,this._evalArgValues.push(n);var i=y(t.value)||"val";this._evalArgNames.push("jit_"+i+r)}return e.print(t,this._evalArgNames[r]),null},e}(jh),Uh=function(){function t(t,e,n,r,i,o,s,a){this._injector=t,this._metadataResolver=e,this._templateParser=n,this._styleCompiler=r,this._viewCompiler=i,this._ngModuleCompiler=o,this._compilerConfig=s,this._console=a,this._compiledTemplateCache=new Map,this._compiledHostTemplateCache=new Map,this._compiledDirectiveWrapperCache=new Map,this._compiledNgModuleCache=new Map,this._sharedStylesheetCount=0}return Object.defineProperty(t.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),t.prototype.compileModuleSync=function(t){return this._compileModuleAndComponents(t,!0).syncResult},t.prototype.compileModuleAsync=function(t){return this._compileModuleAndComponents(t,!1).asyncResult},t.prototype.compileModuleAndAllComponentsSync=function(t){return this._compileModuleAndAllComponents(t,!0).syncResult},t.prototype.compileModuleAndAllComponentsAsync=function(t){return this._compileModuleAndAllComponents(t,!1).asyncResult},t.prototype.getNgContentSelectors=function(t){this._console.warn("Compiler.getNgContentSelectors is deprecated. Use ComponentFactory.ngContentSelectors instead!");var e=this._compiledTemplateCache.get(t);if(!e)throw new Error("The component "+n.i(Vr["Éµstringify"])(t)+" is not yet compiled!");return e.compMeta.template.ngContentSelectors},t.prototype._compileModuleAndComponents=function(t,e){var n=this,r=this._loadModules(t,e),i=function(){return n._compileComponents(t,null),n._compileModule(t)};return e?new _i(i()):new _i(null,r.then(i))},t.prototype._compileModuleAndAllComponents=function(t,e){var n=this,r=this._loadModules(t,e),i=function(){var e=[];return n._compileComponents(t,e),new Vr.ModuleWithComponentFactories(n._compileModule(t),e)};return e?new _i(i()):new _i(null,r.then(i))},t.prototype._loadModules=function(t,e){var n=this,r=[];return this._metadataResolver.getNgModuleMetadata(t).transitiveModule.modules.forEach(function(t){r.push(n._metadataResolver.loadNgModuleDirectiveAndPipeMetadata(t.reference,e))}),Promise.all(r)},t.prototype._compileModule=function(t){var e=this,n=this._compiledNgModuleCache.get(t);if(!n){var r=this._metadataResolver.getNgModuleMetadata(t),i=[this._metadataResolver.getProviderMetadata(new Ni(Vr.Compiler,{useFactory:function(){return new Vh(e,r.type.reference)}}))],o=this._ngModuleCompiler.compile(r,i);n=this._compilerConfig.useJit?Dr(L(r),o.statements,[o.ngModuleFactoryVar])[0]:Rr(o.statements,[o.ngModuleFactoryVar])[0],this._compiledNgModuleCache.set(r.type.reference,n)}return n},t.prototype._compileComponents=function(t,e){var n=this,r=this._metadataResolver.getNgModuleMetadata(t),i=new Map,o=new Set;r.transitiveModule.modules.forEach(function(t){var r=n._metadataResolver.getNgModuleMetadata(t.reference);r.declaredDirectives.forEach(function(t){i.set(t.reference,r);var s=n._metadataResolver.getDirectiveMetadata(t.reference);if(s.isComponent&&(o.add(n._createCompiledTemplate(s,r)),e)){var a=n._createCompiledHostTemplate(s.type.reference,r);o.add(a),e.push(s.componentFactory)}})}),r.transitiveModule.modules.forEach(function(t){var e=n._metadataResolver.getNgModuleMetadata(t.reference);e.declaredDirectives.forEach(function(t){var e=n._metadataResolver.getDirectiveMetadata(t.reference);e.isComponent&&e.entryComponents.forEach(function(t){var e=i.get(t.componentType);o.add(n._createCompiledHostTemplate(t.componentType,e))})}),e.entryComponents.forEach(function(t){var e=i.get(t.componentType);o.add(n._createCompiledHostTemplate(t.componentType,e))})}),o.forEach(function(t){return n._compileTemplate(t)})},t.prototype.clearCacheFor=function(t){this._compiledNgModuleCache.delete(t),this._metadataResolver.clearCacheFor(t),this._compiledHostTemplateCache.delete(t),this._compiledTemplateCache.get(t)&&this._compiledTemplateCache.delete(t)},t.prototype.clearCache=function(){this._metadataResolver.clearCache(),this._compiledTemplateCache.clear(),this._compiledHostTemplateCache.clear(),this._compiledNgModuleCache.clear()},t.prototype._createCompiledHostTemplate=function(t,e){if(!e)throw new Error("Component "+n.i(Vr["Éµstringify"])(t)+" is not part of any NgModule or the module has not been imported into your module.");var r=this._compiledHostTemplateCache.get(t);if(!r){var i=this._metadataResolver.getDirectiveMetadata(t);kr(i);var o=i.componentFactory,s=this._metadataResolver.getHostComponentType(t),a=C(s,i,n.i(Vr["ÉµgetComponentViewDefinitionFactory"])(o));r=new Bh(!0,i.type,a,e,[i.type]),this._compiledHostTemplateCache.set(t,r)}return r},t.prototype._createCompiledTemplate=function(t,e){var n=this._compiledTemplateCache.get(t.type.reference);return n||(kr(t),n=new Bh(!1,t.type,t,e,e.transitiveModule.directives),this._compiledTemplateCache.set(t.type.reference,n)),n},t.prototype._compileTemplate=function(t){var e=this;if(!t.isCompiled){var n=t.compMeta,r=new Map,i=this._styleCompiler.compileComponent(n);i.externalStylesheets.forEach(function(t){r.set(t.meta.moduleUrl,t)}),this._resolveStylesCompileResult(i.componentStylesheet,r);var o,s,a=t.directives.map(function(t){return e._metadataResolver.getDirectiveSummary(t.reference)}),u=t.ngModule.transitiveModule.pipes.map(function(t){return e._metadataResolver.getPipeSummary(t.reference)}),c=this._templateParser.parse(n,n.template.template,a,u,t.ngModule.schemas,R(t.ngModule.type,t.compMeta,t.compMeta.template)),l=c.template,p=c.pipes,h=this._viewCompiler.compileComponent(n,l,cn(i.componentStylesheet.stylesVar),p),f=i.componentStylesheet.statements.concat(h.statements),d=n.isHost?[h.viewClassVar]:[h.viewClassVar,h.rendererTypeVar];this._compilerConfig.useJit?(v=Dr(I(t.ngModule.type,t.compMeta),f,d),o=v[0],s=v[1]):(m=Rr(f,d),o=m[0],s=m[1]),t.compiled(o,s);var m,v}},t.prototype._resolveStylesCompileResult=function(t,e){var n=this;t.dependencies.forEach(function(t,r){var i=e.get(t.moduleUrl),o=n._resolveAndEvalStylesCompileResult(i,e);t.valuePlaceholder.reference=o})},t.prototype._resolveAndEvalStylesCompileResult=function(t,e){return this._resolveStylesCompileResult(t,e),this._compilerConfig.useJit?Dr(O(t.meta,this._sharedStylesheetCount++),t.statements,[t.stylesVar])[0]:Rr(t.statements,[t.stylesVar])[0]},t}();Uh.decorators=[{type:F}],Uh.ctorParameters=function(){return[{type:Vr.Injector},{type:kc},{type:dc},{type:Qp},{type:lh},{type:Wl},{type:Di},{type:Vr["ÉµConsole"]}]};var Bh=function(){function t(t,e,n,r,i){this.isHost=t,this.compType=e,this.compMeta=n,this.ngModule=r,this.directives=i,this._viewClass=null,this.isCompiled=!1}return t.prototype.compiled=function(t,e){this._viewClass=t,this.compMeta.componentViewType.setDelegate(t);for(var n in e)this.compMeta.rendererType[n]=e[n];this.isCompiled=!0},t}(),Vh=function(){function t(t,e){this._delegate=t,this._ngModule=e}return Object.defineProperty(t.prototype,"_injector",{get:function(){return this._delegate.injector},enumerable:!0,configurable:!0}),t.prototype.compileModuleSync=function(t){return this._delegate.compileModuleSync(t)},t.prototype.compileModuleAsync=function(t){return this._delegate.compileModuleAsync(t)},t.prototype.compileModuleAndAllComponentsSync=function(t){return this._delegate.compileModuleAndAllComponentsSync(t)},t.prototype.compileModuleAndAllComponentsAsync=function(t){return this._delegate.compileModuleAndAllComponentsAsync(t)},t.prototype.getNgContentSelectors=function(t){return this._delegate.getNgContentSelectors(t)},t.prototype.clearCache=function(){this._delegate.clearCache()},t.prototype.clearCacheFor=function(t){this._delegate.clearCacheFor(t)},t}(),Hh=function(){function t(t,e,n,r){void 0===r&&(r=null),this._htmlParser=t,this._implicitTags=e,this._implicitAttrs=n,this._locale=r,this._messages=[]}return t.prototype.updateFromTemplate=function(t,e,n){var r=this._htmlParser.parse(t,e,!0,n);if(r.errors.length)return r.errors;var i=wt(r.rootNodes,n,this._implicitTags,this._implicitAttrs);if(i.errors.length)return i.errors;(o=this._messages).push.apply(o,i.messages);var o},t.prototype.getMessages=function(){return this._messages},t.prototype.write=function(t){var e={},n=new zh;this._messages.forEach(function(n){var r=t.digest(n);e.hasOwnProperty(r)||(e[r]=n)});var r=Object.keys(e).map(function(r){var i=t.createNameMapper(e[r]),o=e[r];return new Xs(i?n.convert(o.nodes,i):o.nodes,{},{},o.meaning,o.description,r)});return t.write(r,this._locale)},t}(),zh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Hr(e,t),e.prototype.convert=function(t,e){var n=this;return e?t.map(function(t){return t.visit(n,e)}):t},e.prototype.visitTagPlaceholder=function(t,e){var n=this,r=e.toPublicName(t.startName),i=t.closeName?e.toPublicName(t.closeName):t.closeName,o=t.children.map(function(t){return t.visit(n,e)});return new Ks(t.tag,t.attrs,r,i,o,t.isVoid,t.sourceSpan)},e.prototype.visitPlaceholder=function(t,e){return new Js(t.value,e.toPublicName(t.name),t.sourceSpan)},e.prototype.visitIcuPlaceholder=function(t,e){return new $s(t.value,e.toPublicName(t.name),t.sourceSpan)},e}(ta),Gh=(function(){function t(t,e,n,r){this.host=t,this.staticSymbolResolver=e,this.messageBundle=n,this.metadataResolver=r}t.prototype.extract=function(t){var e=this,n=br(this.staticSymbolResolver,t,this.host),r=yr(n,this.host,this.metadataResolver),i=r.files,o=r.ngModules;return Promise.all(o.map(function(t){return e.metadataResolver.loadNgModuleDirectiveAndPipeMetadata(t.type.reference,!1)})).then(function(){var t=[];if(i.forEach(function(n){var r=[];n.directives.forEach(function(t){var n=e.metadataResolver.getDirectiveMetadata(t);n&&n.isComponent&&r.push(n)}),r.forEach(function(r){var i=r.template.template,o=hs.fromArray(r.template.interpolation);t.push.apply(t,e.messageBundle.updateFromTemplate(i,n.srcUrl,o))})}),t.length)throw new Error(t.map(function(t){return t.toString()}).join("\n"));return e.messageBundle})},t.create=function(e,n){var r=new uu(new ou),i=Ie(),o=new oi,s=new Oh(e,o),a=new Rh(e,o,s),u=new Mh(a);wh.install(u);var c=new Di({defaultEncapsulation:Vr.ViewEncapsulation.Emulated,useJit:!1}),l=new Cc({get:function(t){return e.loadResource(t)}},i,r,c),p=new vp,h=new kc(c,new Lc(u),new Pc(u),new Ic(u),s,p,l,new Vr["ÉµConsole"],o,u);return{extractor:new t(e,a,new Hh(r,[],{},n),h),staticReflector:u}},t}(),{get:function(t){throw new Error("No ResourceLoader implementation has been provided. Can't read the url \""+t+'"')}}),Wh=new Vr.InjectionToken("HtmlParser"),qh=[{provide:Vr["ÉµReflector"],useValue:Vr["Éµreflector"]},{provide:Vr["ÉµReflectorReader"],useExisting:Vr["ÉµReflector"]},{provide:wc,useValue:Gh},Nc,Vr["ÉµConsole"],vs,xs,{provide:Wh,useClass:ou},{provide:uu,useFactory:function(t,e,n,r,i){return new uu(t,e,n,r.missingTranslation,i)},deps:[Wh,[new Vr.Optional,new Vr.Inject(Vr.TRANSLATIONS)],[new Vr.Optional,new Vr.Inject(Vr.TRANSLATIONS_FORMAT)],[Di],[Vr["ÉµConsole"]]]},{provide:ou,useExisting:uu},dc,Cc,kc,xc,Qp,lh,Wl,{provide:Di,useValue:new Di},Uh,{provide:Vr.Compiler,useExisting:Uh},vp,{provide:_u,useExisting:vp},Ec,Pc,Ic,Lc],Xh=function(){function t(t){var e={useDebug:n.i(Vr.isDevMode)(),useJit:!0,defaultEncapsulation:Vr.ViewEncapsulation.Emulated,missingTranslation:Vr.MissingTranslationStrategy.Warning,enableLegacyTemplate:!0};this._defaultOptions=[e].concat(t)}return t.prototype.createCompiler=function(t){void 0===t&&(t=[]);var e=Fr(this._defaultOptions.concat(t));return Vr.ReflectiveInjector.resolveAndCreate([qh,{provide:Di,useFactory:function(){return new Di({useJit:e.useJit,defaultEncapsulation:e.defaultEncapsulation,missingTranslation:e.missingTranslation,enableLegacyTemplate:e.enableLegacyTemplate})},deps:[]},e.providers]).get(Vr.Compiler)},t}();Xh.decorators=[{type:F}],Xh.ctorParameters=function(){return[{type:Array,decorators:[{type:Vr.Inject,args:[Vr.COMPILER_OPTIONS]}]}]};var Yh=n.i(Vr.createPlatformFactory)(Vr.platformCore,"coreDynamic",[{provide:Vr.COMPILER_OPTIONS,useValue:{},multi:!0},{provide:Vr.CompilerFactory,useClass:Xh},{provide:Vr.PLATFORM_INITIALIZER,useValue:jr,multi:!0}]);!function(){function t(){}t.prototype.fileNameToModuleName=function(t,e){},t.prototype.getImportAs=function(t){},t.prototype.getTypeArity=function(t){},t}()},"./node_modules/@angular/core/@angular async recursive":function(t,e){function n(t){throw new Error("Cannot find module '"+t+"'.")}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="./node_modules/@angular/core/@angular async recursive"},"./node_modules/@angular/core/@angular/core.es5.js":function(t,e,n){"use strict";(function(t){function r(){if(!oi){var t=ii.Symbol;if(t&&t.iterator)oi=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(oi=r)}}return oi}function i(t){Zone.current.scheduleMicroTask("scheduleMicrotask",t)}function o(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function s(t){if("string"==typeof t)return t;if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return n===-1?e:e.substring(0,n)}function a(t){return"function"==typeof t&&t.hasOwnProperty("annotation")&&(t=t.annotation),t}function u(t,e){if(t===Object||t===String||t===Function||t===Number||t===Array)throw new Error("Can not use native "+s(t)+" as constructor");if("function"==typeof t)return t;if(Array.isArray(t)){var n=t,r=n.length-1,i=t[r];if("function"!=typeof i)throw new Error("Last position of Class method array must be Function in key "+e+" was '"+s(i)+"'");if(r!=i.length)throw new Error("Number of annotations ("+r+") does not match number of arguments ("+i.length+") in the function: "+s(i));for(var o=[],u=0,c=n.length-1;u<c;u++){var l=[];o.push(l);var p=n[u];if(Array.isArray(p))for(var h=0;h<p.length;h++)l.push(a(p[h]));else"function"==typeof p?l.push(a(p)):l.push(p)}return ai.defineMetadata("parameters",o,i),i}throw new Error("Only Function or Array is supported in Class definition for key '"+e+"' is '"+s(t)+"'")}function c(t){var e=u(t.hasOwnProperty("constructor")?t.constructor:void 0,"constructor"),n=e.prototype;if(t.hasOwnProperty("extends")){if("function"!=typeof t.extends)throw new Error("Class definition 'extends' property must be a constructor function was: "+s(t.extends));e.prototype=n=Object.create(t.extends.prototype)}for(var r in t)"extends"!==r&&"prototype"!==r&&t.hasOwnProperty(r)&&(n[r]=u(t[r],r));this&&this.annotations instanceof Array&&ai.defineMetadata("annotations",this.annotations,e);var i=e.name;return i&&"constructor"!==i||(e.overriddenName="class"+si++),e}function l(t,e,n,r){function i(t){if(!ai||!ai.getOwnMetadata)throw"reflect-metadata shim is required when using class decorators";if(this instanceof i)return o.call(this,t),this;var e=new i(t),n="function"==typeof this&&Array.isArray(this.annotations)?this.annotations:[];n.push(e);var s=function(t){var n=ai.getOwnMetadata("annotations",t)||[];return n.push(e),ai.defineMetadata("annotations",n,t),t};return s.annotations=n,s.Class=c,r&&r(s),s}var o=p([e]);return n&&(i.prototype=Object.create(n.prototype)),i.prototype.toString=function(){return"@"+t},i.annotationCls=i,i}function p(t){return function(){for(var e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];t.forEach(function(t,r){var i=n[r];if(Array.isArray(t))e[t[0]]=void 0===i?t[1]:i;else for(var o in t)e[o]=i&&i.hasOwnProperty(o)?i[o]:t[o]})}}function h(t,e,n){function r(){function t(t,e,n){for(var r=ai.getOwnMetadata("parameters",t)||[];r.length<=n;)r.push(null);return r[n]=r[n]||[],r[n].push(o),ai.defineMetadata("parameters",r,t),t}for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(this instanceof r)return i.apply(this,e),this;var o=new(r.bind.apply(r,[void 0].concat(e)));return t.annotation=o,t}var i=p(e);return n&&(r.prototype=Object.create(n.prototype)),r.prototype.toString=function(){return"@"+t},r.annotationCls=r,r}function f(t,e,n){function r(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this instanceof r)return i.apply(this,t),this;var n=new(r.bind.apply(r,[void 0].concat(t)));return function(t,e){var r=ai.getOwnMetadata("propMetadata",t.constructor)||{};r[e]=r.hasOwnProperty(e)&&r[e]||[],r[e].unshift(n),ai.defineMetadata("propMetadata",r,t.constructor)}}var i=p(e);return n&&(r.prototype=Object.create(n.prototype)),r.prototype.toString=function(){return"@"+t},r.annotationCls=r,r}function d(t){return null==t||t===mi.Default}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function m(t){return t.__forward_ref__=m,t.toString=function(){return s(this())},t}function v(t){return"function"==typeof t&&t.hasOwnProperty("__forward_ref__")&&t.__forward_ref__===m?t():t}function g(t){return t[Hi]}function y(t){return t[zi]}function _(t){return t[Gi]||b}function b(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t.error.apply(t,e)}function w(t,e){var n=t+" caused by: "+(e instanceof Error?e.message:e),r=Error(n);return r[zi]=e,r}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function x(t){for(var e=[],n=0;n<t.length;++n){if(e.indexOf(t[n])>-1)return e.push(t[n]),e;e.push(t[n])}return e}function E(t){if(t.length>1){return" ("+x(t.slice().reverse()).map(function(t){return s(t.token)}).join(" -> ")+")"}return""}function S(t,e,n,r){var i=r?w("",r):Error();return i.addKey=M,i.keys=[e],i.injectors=[t],i.constructResolvingMessage=n,i.message=i.constructResolvingMessage(),i[zi]=r,i}function M(t,e){this.injectors.push(t),this.keys.push(e),this.message=this.constructResolvingMessage()}function C(t,e){return S(t,e,function(){return"No provider for "+s(this.keys[0].token)+"!"+E(this.keys)})}function T(t,e){return S(t,e,function(){return"Cannot instantiate cyclic dependency!"+E(this.keys)})}function A(t,e,n,r){return S(t,r,function(){var t=s(this.keys[0].token);return y(this).message+": Error during instantiation of "+t+"!"+E(this.keys)+"."},e)}function P(t){return Error("Invalid provider - only instances of Provider and Type are allowed, got: "+t)}function R(t,e){for(var n=[],r=0,i=e.length;r<i;r++){var o=e[r];o&&0!=o.length?n.push(o.map(s).join(" ")):n.push("?")}return Error("Cannot resolve all parameters for '"+s(t)+"'("+n.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+s(t)+"' is decorated with Injectable.")}function O(t){return Error("Index "+t+" is out-of-bounds.")}function L(t,e){return Error("Cannot mix multi providers and regular providers, got: "+t+" "+e)}function I(t){return"function"==typeof t}function N(t){return t?t.map(function(t){var e=t.type,n=e.annotationCls,r=t.args?t.args:[];return new(n.bind.apply(n,[void 0].concat(r)))}):[]}function D(t){var e=Object.getPrototypeOf(t.prototype);return(e?e.constructor:null)||Object}function k(t){var e,n;if(t.useClass){var r=v(t.useClass);e=to.factory(r),n=H(r)}else t.useExisting?(e=function(t){return t},n=[eo.fromKey(qi.get(t.useExisting))]):t.useFactory?(e=t.useFactory,n=V(t.useFactory,t.deps)):(e=function(){return t.useValue},n=no);return new io(e,n)}function j(t){return new ro(qi.get(t.provide),[k(t)],t.multi||!1)}function F(t){var e=B(t,[]),n=e.map(j),r=U(n,new Map);return Array.from(r.values())}function U(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=e.get(r.key.id);if(i){if(r.multiProvider!==i.multiProvider)throw L(i,r);if(r.multiProvider)for(var o=0;o<r.resolvedFactories.length;o++)i.resolvedFactories.push(r.resolvedFactories[o]);else e.set(r.key.id,r)}else{var s=void 0;s=r.multiProvider?new ro(r.key,r.resolvedFactories.slice(),r.multiProvider):r,e.set(r.key.id,s)}}return e}function B(t,e){return t.forEach(function(t){if(t instanceof Zi)e.push({provide:t,useClass:t});else if(t&&"object"==typeof t&&void 0!==t.provide)e.push(t);else{if(!(t instanceof Array))throw P(t);B(t,e)}}),e}function V(t,e){if(e){var n=e.map(function(t){return[t]});return e.map(function(e){return z(t,e,n)})}return H(t)}function H(t){var e=to.parameters(t);if(!e)return[];if(e.some(function(t){return null==t}))throw R(t,e);return e.map(function(n){return z(t,n,e)})}function z(t,e,n){var r=null,i=!1;if(!Array.isArray(e))return e instanceof Oi?G(e.token,i,null):G(e,i,null);for(var o=null,s=0;s<e.length;++s){var a=e[s];a instanceof Zi?r=a:a instanceof Oi?r=a.token:a instanceof Li?i=!0:a instanceof Ni||a instanceof Di?o=a:a instanceof ti&&(r=a)}if(null!=(r=v(r)))return G(r,i,o);throw R(t,n)}function G(t,e,n){return new eo(qi.get(t),e,n)}function W(t,e){for(var n=new Array(t._providers.length),r=0;r<t._providers.length;++r)n[r]=e(t.getProviderAtIndex(r));return n}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function q(t){return!!t&&"function"==typeof t.then}function X(t){return!!t&&"function"==typeof t.subscribe}function Y(){return""+Z()+Z()+Z()}function Z(){return String.fromCharCode(97+Math.floor(25*Math.random()))}function Q(){throw new Error("Runtime compiler is not loaded")}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function K(t){var e=Error("No component factory found for "+s(t)+". Did you add it to @NgModule.entryComponents?");return e[Mo]=t,e}function J(){var t=ii.wtf;return!(!t||!(Ao=t.trace))&&(Po=Ao.events,!0)}function $(t,e){return void 0===e&&(e=null),Po.createScope(t,e)}function tt(t,e){return Ao.leaveScope(t,e),e}function et(t,e){return Ao.beginTimeRange(t,e)}function nt(t){Ao.endTimeRange(t)}function rt(t,e){return null}function it(t){Xo=t}function ot(){if(Zo)throw new Error("Cannot enable prod mode after platform setup.");Yo=!1}function st(){return Zo=!0,Yo}function at(t){if(Wo&&!Wo.destroyed&&!Wo.injector.get(Qo,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Wo=t.get(Jo);var e=t.get(fo,null);return e&&e.forEach(function(t){return t()}),Wo}function ut(t,e,n){void 0===n&&(n=[]);var r=new ti("Platform: "+e);return function(e){void 0===e&&(e=[]);var i=pt();return i&&!i.injector.get(Qo,!1)||(t?t(n.concat(e).concat({provide:r,useValue:!0})):at(so.resolveAndCreate(n.concat(e).concat({provide:r,useValue:!0})))),ct(r)}}function ct(t){var e=pt();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}function lt(){Wo&&!Wo.destroyed&&Wo.destroy()}function pt(){return Wo&&!Wo.destroyed?Wo:null}function ht(t,e){try{var n=e();return q(n)?n.catch(function(e){throw t.handleError(e),e}):n}catch(e){throw t.handleError(e),e}}function ft(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}function dt(t,e){var n=ps.get(t);if(n)throw new Error("Duplicate module registered for "+t+" - "+n.moduleType.name+" vs "+e.moduleType.name);ps.set(t,e)}function mt(t){var e=ps.get(t);if(!e)throw new Error("No module with ID "+t+" loaded");return e}function vt(t){return t.reduce(function(t,e){var n=Array.isArray(e)?vt(e):e;return t.concat(n)},[])}function gt(t,e,n){if(!t)throw new Error("Cannot find '"+n+"' in '"+e+"'");return t}function yt(t){return t.map(function(t){return t.nativeElement})}function _t(t,e,n){t.childNodes.forEach(function(t){t instanceof Ms&&(e(t)&&n.push(t),_t(t,e,n))})}function bt(t,e,n){t instanceof Ms&&t.childNodes.forEach(function(t){e(t)&&n.push(t),t instanceof Ms&&bt(t,e,n)})}function wt(t){return Cs.get(t)||null}function xt(t){Cs.set(t.nativeNode,t)}function Et(t){Cs.delete(t.nativeNode)}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function St(t,e){var n=Mt(t),r=Mt(e);if(n&&r)return Ct(t,e,St);var i=t&&("object"==typeof t||"function"==typeof t),s=e&&("object"==typeof e||"function"==typeof e);return!(n||!i||r||!s)||o(t,e)}function Mt(t){return!!At(t)&&(Array.isArray(t)||!(t instanceof Map)&&r()in t)}function Ct(t,e,n){for(var i=t[r()](),o=e[r()]();;){var s=i.next(),a=o.next();if(s.done&&a.done)return!0;if(s.done||a.done)return!1;if(!n(s.value,a.value))return!1}}function Tt(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var i=t[r()](),o=void 0;!(o=i.next()).done;)e(o.value)}function At(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Pt(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function Rt(t){return t.name||typeof t}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function Ot(){return to}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function Lt(t,e){return t.nodes[e]}function It(t,e){return t.nodes[e]}function Nt(t,e){return t.nodes[e]}function Dt(t,e){return t.nodes[e]}function kt(t,e){return t.nodes[e]}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function jt(t,e,n,r){var i="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '"+e+"'. Current value: '"+n+"'.";return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),Ut(i,t)}function Ft(t,e){return t instanceof Error||(t=new Error(t.toString())),Bt(t,e),t}function Ut(t,e){var n=new Error(t);return Bt(n,e),n}function Bt(t,e){t[Hi]=e,t[Gi]=e.logError.bind(e)}function Vt(t){return!!g(t)}function Ht(t){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+t)}function zt(t){var e=na.get(t);return e||(e=s(t)+"_"+na.size,na.set(t,e)),e}function Gt(t,e,n,r){if(r instanceof Ts){r=r.wrapped;var i=t.def.nodes[e].bindingIndex+n,o=t.oldValues[i];o instanceof Ts&&(o=o.wrapped),t.oldValues[i]=new Ts(o)}return r}function Wt(t){return{id:ra,styles:t.styles,encapsulation:t.encapsulation,data:t.data}}function qt(t){if(t&&t.id===ra){var e=null!=t.encapsulation&&t.encapsulation!==Ti.None||t.styles.length||Object.keys(t.data).length;t.id=e?"c"+oa++:ia}return t&&t.id===ia&&(t=null),t||null}function Xt(t,e,n,r){var i=t.oldValues;return!(!(1&t.state)&&o(i[e.bindingIndex+n],r))}function Yt(t,e,n,r){return!!Xt(t,e,n,r)&&(t.oldValues[e.bindingIndex+n]=r,!0)}function Zt(t,e,n,r){var i=t.oldValues[e.bindingIndex+n];if(1&t.state||!St(i,r))throw jt(ta.createDebugContext(t,e.index),i,r,0!=(1&t.state))}function Qt(t){for(var e=t;e;)2&e.def.flags&&(e.state|=2),e=e.viewContainerParent||e.parent}function Kt(t,e,n,r){return Qt(16777216&t.def.nodes[e].flags?It(t,e).componentView:t),ta.handleEvent(t,e,n,r)}function Jt(t){if(t.parent){return It(t.parent,t.parentNodeDef.index)}return null}function $t(t){return t.parent?t.parentNodeDef.parent:null}function te(t,e){switch(100673535&e.flags){case 1:return It(t,e.index).renderElement;case 2:return Lt(t,e.index).renderText}}function ee(t,e){return t?t+":"+e:e}function ne(t){return!!t.parent&&!!(16384&t.parentNodeDef.flags)}function re(t){return!(!t.parent||16384&t.parentNodeDef.flags)}function ie(t){return 1<<t%32}function oe(t){var e={},n=0,r={};return t&&t.forEach(function(t){var i=t[0],o=t[1];"number"==typeof i?(e[i]=o,n|=ie(i)):r[i]=o}),{matchedQueries:e,references:r,matchedQueryIds:n}}function se(t,e,n){var r=n.renderParent;return r?0==(1&r.flags)||0==(16777216&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===Ti.Native?It(t,n.renderParent.index).renderElement:void 0:e}function ae(t){var e=sa.get(t);return e||(e=t(function(){return ea}),e.factory=t,sa.set(t,e)),e}function ue(t){var e=[];return ce(t,0,void 0,void 0,e),e}function ce(t,e,n,r,i){3===e&&(n=t.renderer.parentNode(te(t,t.def.lastRenderRootNode))),le(t,e,0,t.def.nodes.length-1,n,r,i)}function le(t,e,n,r,i,o,s){for(var a=n;a<=r;a++){var u=t.def.nodes[a];7&u.flags&&he(t,u,e,i,o,s),a+=u.childCount}}function pe(t,e,n,r,i,o){for(var s=t;s&&!ne(s);)s=s.parent;for(var a=s.parent,u=$t(s),c=u.index+1,l=u.index+u.childCount,p=c;p<=l;p++){var h=a.def.nodes[p];h.ngContentIndex===e&&he(a,h,n,r,i,o),p+=h.childCount}if(!a.parent){var f=t.root.projectableNodes[e];if(f)for(var p=0;p<f.length;p++)fe(t,f[p],n,r,i,o)}}function he(t,e,n,r,i,o){if(4&e.flags)pe(t,e.ngContent.index,n,r,i,o);else{var s=te(t,e);if(3===n&&16777216&e.flags&&48&e.bindingFlags){if(16&e.bindingFlags&&fe(t,s,n,r,i,o),32&e.bindingFlags){var a=It(t,e.index).componentView;fe(a,s,n,r,i,o)}}else fe(t,s,n,r,i,o);if(8388608&e.flags)for(var u=It(t,e.index).viewContainer._embeddedViews,c=0;c<u.length;c++)ce(u[c],n,r,i,o);1&e.flags&&!e.element.name&&le(t,n,e.index+1,e.index+e.childCount,r,i,o)}}function fe(t,e,n,r,i,o){var s=t.renderer;switch(n){case 1:s.appendChild(r,e);break;case 2:s.insertBefore(r,e,i);break;case 3:s.removeChild(r,e);break;case 0:o.push(e)}}function de(t){if(":"===t[0]){var e=t.match(aa);return[e[1],e[2]]}return["",t]}function me(t){for(var e=0,n=0;n<t.length;n++)e|=t[n].flags;return e}function ve(t,e){for(var n="",r=0;r<2*t;r+=2)n=n+e[r]+ye(e[r+1]);return n+e[2*t]}function ge(t,e,n,r,i,o,s,a,u,c,l,p,h,f,d,m,v,g,y,_){switch(t){case 1:return e+ye(n)+r;case 2:return e+ye(n)+r+ye(i)+o;case 3:return e+ye(n)+r+ye(i)+o+ye(s)+a;case 4:return e+ye(n)+r+ye(i)+o+ye(s)+a+ye(u)+c;case 5:return e+ye(n)+r+ye(i)+o+ye(s)+a+ye(u)+c+ye(l)+p;case 6:return e+ye(n)+r+ye(i)+o+ye(s)+a+ye(u)+c+ye(l)+p+ye(h)+f;case 7:return e+ye(n)+r+ye(i)+o+ye(s)+a+ye(u)+c+ye(l)+p+ye(h)+f+ye(d)+m;case 8:return e+ye(n)+r+ye(i)+o+ye(s)+a+ye(u)+c+ye(l)+p+ye(h)+f+ye(d)+m+ye(v)+g;case 9:return e+ye(n)+r+ye(i)+o+ye(s)+a+ye(u)+c+ye(l)+p+ye(h)+f+ye(d)+m+ye(v)+g+ye(y)+_;default:throw new Error("Does not support more than 9 expressions")}}function ye(t){return null!=t?t.toString():""}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function _e(t,e,n,r,i,o){t|=1;var s=oe(e),a=s.matchedQueries,u=s.references;return{index:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:a,matchedQueryIds:s.matchedQueryIds,references:u,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?ae(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||ea},provider:null,text:null,query:null,ngContent:null}}function be(t,e,n,r,i,o,s,a,u,c,l){void 0===o&&(o=[]),u||(u=ea);var p=oe(e),h=p.matchedQueries,f=p.references,d=p.matchedQueryIds,m=null,v=null;i&&(I=de(i),m=I[0],v=I[1]),s=s||[];for(var g=new Array(s.length),y=0;y<s.length;y++){var _=s[y],b=_[0],w=_[1],x=_[2],E=de(w),S=E[0],M=E[1],C=void 0,T=void 0;switch(15&b){case 4:T=x;break;case 1:case 8:C=x}g[y]={flags:b,ns:S,name:M,nonMinifiedName:M,securityContext:C,suffix:T}}a=a||[];for(var A=new Array(a.length),y=0;y<a.length;y++){var P=a[y],R=P[0],O=P[1];A[y]={type:0,target:R,eventName:O,propName:null}}o=o||[];var L=o.map(function(t){var e=t[0],n=t[1],r=de(e);return[r[0],r[1],n]});return l=qt(l),c&&(t|=16777216),t|=1,{index:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:h,matchedQueryIds:d,references:f,ngContentIndex:n,childCount:r,bindings:g,bindingFlags:me(g),outputs:A,element:{ns:m,name:v,attrs:L,template:null,componentProvider:null,componentView:c||null,componentRendererType:l,publicProviders:null,allProviders:null,handleEvent:u||ea},provider:null,text:null,query:null,ngContent:null};var I}function we(t,e,n){var r,i=n.element,o=t.root.selectorOrNode,s=t.renderer;if(t.parent||!o){r=i.name?s.createElement(i.name,i.ns):s.createComment("");var a=se(t,e,n);a&&s.appendChild(a,r)}else r=s.selectRootElement(o);if(i.attrs)for(var u=0;u<i.attrs.length;u++){var c=i.attrs[u],l=c[0],p=c[1],h=c[2];s.setAttribute(r,p,h,l)}return r}function xe(t,e,n,r){for(var i=0;i<n.outputs.length;i++){var o=n.outputs[i],s=Ee(t,n.index,ee(o.target,o.eventName)),a=o.target,u=t;"component"===o.target&&(a=null,u=e);var c=u.renderer.listen(a||r,o.eventName,s);t.disposables[n.outputIndex+i]=c}}function Ee(t,e,n){return function(r){return Kt(t,e,n,r)}}function Se(t,e,n,r,i,o,s,a,u,c,l,p){var h=e.bindings.length,f=!1;return h>0&&Ce(t,e,0,n)&&(f=!0),h>1&&Ce(t,e,1,r)&&(f=!0),h>2&&Ce(t,e,2,i)&&(f=!0),h>3&&Ce(t,e,3,o)&&(f=!0),h>4&&Ce(t,e,4,s)&&(f=!0),h>5&&Ce(t,e,5,a)&&(f=!0),h>6&&Ce(t,e,6,u)&&(f=!0),h>7&&Ce(t,e,7,c)&&(f=!0),h>8&&Ce(t,e,8,l)&&(f=!0),h>9&&Ce(t,e,9,p)&&(f=!0),f}function Me(t,e,n){for(var r=!1,i=0;i<n.length;i++)Ce(t,e,i,n[i])&&(r=!0);return r}function Ce(t,e,n,r){if(!Yt(t,e,n,r))return!1;var i=e.bindings[n],o=It(t,e.index),s=o.renderElement,a=i.name;switch(15&i.flags){case 1:Te(t,i,s,i.ns,a,r);break;case 2:Ae(t,s,a,r);break;case 4:Pe(t,i,s,a,r);break;case 8:Re(16777216&e.flags&&32&i.flags?o.componentView:t,i,s,a,r)}return!0}function Te(t,e,n,r,i,o){var s=e.securityContext,a=s?t.root.sanitizer.sanitize(s,o):o;a=null!=a?a.toString():null;var u=t.renderer;null!=o?u.setAttribute(n,i,a,r):u.removeAttribute(n,i,r)}function Ae(t,e,n,r){var i=t.renderer;r?i.addClass(e,n):i.removeClass(e,n)}function Pe(t,e,n,r,i){var o=t.root.sanitizer.sanitize(Ks.STYLE,i);if(null!=o){o=o.toString();var s=e.suffix;null!=s&&(o+=s)}else o=null;var a=t.renderer;null!=o?a.setStyle(n,r,o):a.removeStyle(n,r)}function Re(t,e,n,r,i){var o=e.securityContext,s=o?t.root.sanitizer.sanitize(o,i):i;t.renderer.setProperty(n,r,s)}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function Oe(t,e){return{index:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:4,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:e}}}function Le(t,e,n){var r=se(t,e,n);if(r){pe(t,n.ngContent.index,1,r,null,void 0)}}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function Ie(t,e,n,r){var i=e.viewContainer._embeddedViews;null!==n&&void 0!==n||(n=i.length),r.viewContainerParent=t,Fe(i,n,r);var o=Jt(r);if(o&&o!==e){var s=o.template._projectedViews;s||(s=o.template._projectedViews=[]),s.push(r)}ta.dirtyParentQueries(r),ke(e,n>0?i[n-1]:null,r)}function Ne(t,e){var n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;var r=n[e];r.viewContainerParent=null,Ue(n,e);var i=Jt(r);if(i&&i!==t){var o=i.template._projectedViews;Ue(o,o.indexOf(r))}return ta.dirtyParentQueries(r),je(r),r}function De(t,e,n){var r=t.viewContainer._embeddedViews,i=r[e];return Ue(r,e),null==n&&(n=r.length),Fe(r,n,i),ta.dirtyParentQueries(i),je(i),ke(t,n>0?r[n-1]:null,i),i}function ke(t,e,n){var r=e?te(e,e.def.lastRenderRootNode):t.renderElement;ce(n,2,n.renderer.parentNode(r),n.renderer.nextSibling(r),void 0)}function je(t){ce(t,3,null,null,void 0)}function Fe(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Ue(t,e){e>=t.length-1?t.pop():t.splice(e,1)}function Be(t,e,n,r,i,o){return new pa(t,e,n,r,i,o)}function Ve(t){return t.viewDefFactory}function He(t,e,n){return new fa(t,e,n)}function ze(t){return new da(t)}function Ge(t,e){return new ma(t,e)}function We(t,e){return new va(t,e)}function qe(t,e){var n=t.def.nodes[e];if(1&n.flags){var r=It(t,n.index);return n.element.template?r.template:r.renderElement}if(2&n.flags)return Lt(t,n.index).renderText;if(10120&n.flags)return Nt(t,n.index).instance;throw new Error("Illegal state: read nodeValue for node index "+e)}function Xe(t){return new ga(t.renderer)}function Ye(t,e,n,r,i,o,s){var a=[];if(o)for(var u in o){var c=o[u],l=c[0],p=c[1];a[l]={flags:8,name:u,nonMinifiedName:p,ns:null,securityContext:null,suffix:null}}var h=[];if(s)for(var f in s)h.push({type:1,propName:f,target:null,eventName:s[f]});return t|=8192,Ke(t,e,n,r,r,i,a,h)}function Ze(t,e,n){return t|=8,Ke(t,null,0,e,e,n)}function Qe(t,e,n,r,i){return Ke(t,e,0,n,r,i)}function Ke(t,e,n,r,i,o,s,a){var u=oe(e),c=u.matchedQueries,l=u.references,p=u.matchedQueryIds;a||(a=[]),s||(s=[]);var h=o.map(function(t){var e,n;return Array.isArray(t)?(n=t[0],e=t[1]):(n=0,e=t),{flags:n,token:e,tokenKey:zt(e)}});return{index:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:c,matchedQueryIds:p,references:l,ngContentIndex:-1,childCount:n,bindings:s,bindingFlags:me(s),outputs:a,element:null,provider:{token:r,tokenKey:zt(r),value:i,deps:h},text:null,query:null,ngContent:null}}function Je(t,e){return 2048&e.flags?Ma:on(t,e)}function $e(t,e){for(var n=t;n.parent&&!ne(n);)n=n.parent;return sn(n.parent,$t(n),!0,e.provider.value,e.provider.deps)}function tn(t,e){var n=(16384&e.flags)>0,r=sn(t,e.parent,n,e.provider.value,e.provider.deps);if(e.outputs.length)for(var i=0;i<e.outputs.length;i++){var o=e.outputs[i],s=r[o.propName].subscribe(en(t,e.parent.index,o.eventName));t.disposables[e.outputIndex+i]=s.unsubscribe.bind(s)}return r}function en(t,e,n){return function(r){return Kt(t,e,n,r)}}function nn(t,e,n,r,i,o,s,a,u,c,l,p){var h=Nt(t,e.index),f=h.instance,d=!1,m=void 0,v=e.bindings.length;return v>0&&Xt(t,e,0,n)&&(d=!0,m=ln(t,h,e,0,n,m)),v>1&&Xt(t,e,1,r)&&(d=!0,m=ln(t,h,e,1,r,m)),v>2&&Xt(t,e,2,i)&&(d=!0,m=ln(t,h,e,2,i,m)),v>3&&Xt(t,e,3,o)&&(d=!0,m=ln(t,h,e,3,o,m)),v>4&&Xt(t,e,4,s)&&(d=!0,m=ln(t,h,e,4,s,m)),v>5&&Xt(t,e,5,a)&&(d=!0,m=ln(t,h,e,5,a,m)),v>6&&Xt(t,e,6,u)&&(d=!0,m=ln(t,h,e,6,u,m)),v>7&&Xt(t,e,7,c)&&(d=!0,m=ln(t,h,e,7,c,m)),v>8&&Xt(t,e,8,l)&&(d=!0,m=ln(t,h,e,8,l,m)),v>9&&Xt(t,e,9,p)&&(d=!0,m=ln(t,h,e,9,p,m)),m&&f.ngOnChanges(m),1&t.state&&32768&e.flags&&f.ngOnInit(),131072&e.flags&&f.ngDoCheck(),d}function rn(t,e,n){for(var r=Nt(t,e.index),i=r.instance,o=!1,s=void 0,a=0;a<n.length;a++)Xt(t,e,a,n[a])&&(o=!0,s=ln(t,r,e,a,n[a],s));return s&&i.ngOnChanges(s),1&t.state&&32768&e.flags&&i.ngOnInit(),131072&e.flags&&i.ngDoCheck(),o}function on(t,e){var n,r=(4096&e.flags)>0,i=e.provider;switch(100673535&e.flags){case 256:n=sn(t,e.parent,r,i.value,i.deps);break;case 512:n=an(t,e.parent,r,i.value,i.deps);break;case 1024:n=un(t,e.parent,r,i.deps[0]);break;case 128:n=i.value}return n}function sn(t,e,n,r,i){var o,s=i.length;switch(s){case 0:o=new r;break;case 1:o=new r(un(t,e,n,i[0]));break;case 2:o=new r(un(t,e,n,i[0]),un(t,e,n,i[1]));break;case 3:o=new r(un(t,e,n,i[0]),un(t,e,n,i[1]),un(t,e,n,i[2]));break;default:for(var a=new Array(s),u=0;u<s;u++)a[u]=un(t,e,n,i[u]);o=new(r.bind.apply(r,[void 0].concat(a)))}return o}function an(t,e,n,r,i){var o,s=i.length;switch(s){case 0:o=r();break;case 1:o=r(un(t,e,n,i[0]));break;case 2:o=r(un(t,e,n,i[0]),un(t,e,n,i[1]));break;case 3:o=r(un(t,e,n,i[0]),un(t,e,n,i[1]),un(t,e,n,i[2]));break;default:for(var a=Array(s),u=0;u<s;u++)a[u]=un(t,e,n,i[u]);o=r.apply(void 0,a)}return o}function un(t,e,n,r,i){if(void 0===i&&(i=Bi.THROW_IF_NOT_FOUND),8&r.flags)return r.token;var o=t;2&r.flags&&(i=null);var s=r.tokenKey;for(e&&1&r.flags&&(n=!1,e=e.parent);t;){if(e)switch(s){case ya:var a=cn(t,e,n);return Xe(a);case _a:var a=cn(t,e,n);return a.renderer;case ba:return new cs(It(t,e.index).renderElement);case wa:return It(t,e.index).viewContainer;case xa:if(e.element.template)return It(t,e.index).template;break;case Ea:return ze(cn(t,e,n));case Sa:return We(t,e);default:var u=(n?e.element.allProviders:e.element.publicProviders)[s];if(u){var c=Nt(t,u.index);return c.instance===Ma&&(c.instance=on(t,u)),c.instance}}n=ne(t),e=$t(t),t=t.parent}var l=o.root.injector.get(r.token,Ca);return l!==Ca||i===Ca?l:o.root.ngModule.injector.get(r.token,i)}function cn(t,e,n){var r;if(n)r=It(t,e.index).componentView;else for(r=t;r.parent&&!ne(r);)r=r.parent;return r}function ln(t,e,n,r,i,o){if(16384&n.flags){var s=It(t,n.parent.index).componentView;2&s.def.flags&&(s.state|=2)}var a=n.bindings[r],u=a.name;if(e.instance[u]=i,262144&n.flags){o=o||{};var c=t.oldValues[n.bindingIndex+r];c instanceof Ts&&(c=c.wrapped);o[n.bindings[r].nonMinifiedName]=new Ps(c,i,0!=(1&t.state))}return t.oldValues[n.bindingIndex+r]=i,o}function pn(t,e){if(t.def.nodeFlags&e)for(var n=t.def.nodes,r=0;r<n.length;r++){var i=n[r],o=i.parent;for(!o&&i.flags&e&&fn(t,r,i.flags&e),0==(i.childFlags&e)&&(r+=i.childCount);o&&1&o.flags&&r===o.index+o.childCount;)o.directChildFlags&e&&hn(t,o,e),o=o.parent}}function hn(t,e,n){for(var r=e.index+1;r<=e.index+e.childCount;r++){var i=t.def.nodes[r];i.flags&n&&fn(t,r,i.flags&n),r+=i.childCount}}function fn(t,e,n){var r=Nt(t,e).instance;r!==Ma&&(ta.setCurrentNode(t,e),524288&n&&r.ngAfterContentInit(),1048576&n&&r.ngAfterContentChecked(),2097152&n&&r.ngAfterViewInit(),4194304&n&&r.ngAfterViewChecked(),65536&n&&r.ngOnDestroy())}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function dn(t){return gn(64,new Array(t+1))}function mn(t){return gn(16,new Array(t))}function vn(t){return gn(32,t)}function gn(t,e){for(var n=new Array(e.length),r=0;r<e.length;r++){var i=e[r];n[r]={flags:8,name:i,ns:null,nonMinifiedName:i,securityContext:null,suffix:null}}return{index:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:n,bindingFlags:me(n),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function yn(t,e){return{value:void 0}}function _n(t,e,n,r,i,o,s,a,u,c,l,p){var h=e.bindings,f=!1,d=h.length;if(d>0&&Yt(t,e,0,n)&&(f=!0),d>1&&Yt(t,e,1,r)&&(f=!0),d>2&&Yt(t,e,2,i)&&(f=!0),d>3&&Yt(t,e,3,o)&&(f=!0),d>4&&Yt(t,e,4,s)&&(f=!0),d>5&&Yt(t,e,5,a)&&(f=!0),d>6&&Yt(t,e,6,u)&&(f=!0),d>7&&Yt(t,e,7,c)&&(f=!0),d>8&&Yt(t,e,8,l)&&(f=!0),d>9&&Yt(t,e,9,p)&&(f=!0),f){var m=Dt(t,e.index),v=void 0;switch(100673535&e.flags){case 16:v=new Array(h.length),d>0&&(v[0]=n),d>1&&(v[1]=r),d>2&&(v[2]=i),d>3&&(v[3]=o),d>4&&(v[4]=s),d>5&&(v[5]=a),d>6&&(v[6]=u),d>7&&(v[7]=c),d>8&&(v[8]=l),d>9&&(v[9]=p);break;case 32:v={},d>0&&(v[h[0].name]=n),d>1&&(v[h[1].name]=r),d>2&&(v[h[2].name]=i),d>3&&(v[h[3].name]=o),d>4&&(v[h[4].name]=s),d>5&&(v[h[5].name]=a),d>6&&(v[h[6].name]=u),d>7&&(v[h[7].name]=c),d>8&&(v[h[8].name]=l),d>9&&(v[h[9].name]=p);break;case 64:var g=n;switch(d){case 1:v=g.transform(n);break;case 2:v=g.transform(r);break;case 3:v=g.transform(r,i);break;case 4:v=g.transform(r,i,o);break;case 5:v=g.transform(r,i,o,s);break;case 6:v=g.transform(r,i,o,s,a);break;case 7:v=g.transform(r,i,o,s,a,u);break;case 8:v=g.transform(r,i,o,s,a,u,c);break;case 9:v=g.transform(r,i,o,s,a,u,c,l);break;case 10:v=g.transform(r,i,o,s,a,u,c,l,p)}}m.value=v}return f}function bn(t,e,n){for(var r=e.bindings,i=!1,o=0;o<n.length;o++)Yt(t,e,o,n[o])&&(i=!0);if(i){var s=Dt(t,e.index),a=void 0;switch(100673535&e.flags){case 16:a=n;break;case 32:a={};for(var o=0;o<n.length;o++)a[r[o].name]=n[o];break;case 64:var u=n[0],c=n.slice(1);a=u.transform.apply(u,c)}s.value=a}return i}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function wn(t,e,n){var r=[];for(var i in n){var o=n[i];r.push({propName:i,bindingType:o})}return{index:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:ie(e),bindings:r},ngContent:null}}function xn(){return new hs}function En(t){for(var e=t.def.nodeMatchedQueries;t.parent&&re(t);){var n=t.parentNodeDef;t=t.parent;for(var r=n.index+n.childCount,i=0;i<=r;i++){var o=t.def.nodes[i];33554432&o.flags&&268435456&o.flags&&(o.query.filterId&e)===o.query.filterId&&kt(t,i).setDirty(),!(1&o.flags&&i+o.childCount<n.index)&&33554432&o.childFlags&&268435456&o.childFlags||(i+=o.childCount)}}if(67108864&t.def.nodeFlags)for(var i=0;i<t.def.nodes.length;i++){var o=t.def.nodes[i];67108864&o.flags&&268435456&o.flags&&kt(t,i).setDirty(),i+=o.childCount}}function Sn(t,e){var n=kt(t,e.index);if(n.dirty){var r,i=void 0;if(33554432&e.flags){var o=e.parent.parent;i=Mn(t,o.index,o.index+o.childCount,e.query,[]),r=Nt(t,e.parent.index).instance}else 67108864&e.flags&&(i=Mn(t,0,t.def.nodes.length-1,e.query,[]),r=t.component);n.reset(i);for(var s=e.query.bindings,a=!1,u=0;u<s.length;u++){var c=s[u],l=void 0;switch(c.bindingType){case 0:l=n.first;break;case 1:l=n,a=!0}r[c.propName]=l}a&&n.notifyOnChanges()}}function Mn(t,e,n,r,i){for(var o=e;o<=n;o++){var s=t.def.nodes[o],a=s.matchedQueries[r.id];if(null!=a&&i.push(Cn(t,s,a)),1&s.flags&&s.element.template&&(s.element.template.nodeMatchedQueries&r.filterId)===r.filterId){var u=It(t,o);if(8388608&s.flags)for(var c=u.viewContainer._embeddedViews,l=0;l<c.length;l++){var p=c[l],h=Jt(p);h&&h===u&&Mn(p,0,p.def.nodes.length-1,r,i)}var f=u.template._projectedViews;if(f)for(var l=0;l<f.length;l++){var d=f[l];Mn(d,0,d.def.nodes.length-1,r,i)}}(s.childMatchedQueries&r.filterId)!==r.filterId&&(o+=s.childCount)}return i}function Cn(t,e,n){if(null!=n){var r=void 0;switch(n){case 1:r=It(t,e.index).renderElement;break;case 0:r=new cs(It(t,e.index).renderElement);break;case 2:r=It(t,e.index).template;break;case 3:r=It(t,e.index).viewContainer;break;case 4:r=Nt(t,e.index).instance}return r}}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function Tn(t,e){for(var n=new Array(e.length-1),r=1;r<e.length;r++)n[r-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:e[r]};return{index:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:n,bindingFlags:me(n),outputs:[],element:null,provider:null,text:{prefix:e[0]},query:null,ngContent:null}}function An(t,e,n){var r,i=t.renderer;r=i.createText(n.text.prefix);var o=se(t,e,n);return o&&i.appendChild(o,r),{renderText:r}}function Pn(t,e,n,r,i,o,s,a,u,c,l,p){var h=!1,f=e.bindings,d=f.length;if(d>0&&Yt(t,e,0,n)&&(h=!0),d>1&&Yt(t,e,1,r)&&(h=!0),d>2&&Yt(t,e,2,i)&&(h=!0),d>3&&Yt(t,e,3,o)&&(h=!0),d>4&&Yt(t,e,4,s)&&(h=!0),d>5&&Yt(t,e,5,a)&&(h=!0),d>6&&Yt(t,e,6,u)&&(h=!0),d>7&&Yt(t,e,7,c)&&(h=!0),d>8&&Yt(t,e,8,l)&&(h=!0),d>9&&Yt(t,e,9,p)&&(h=!0),h){var m=e.text.prefix;d>0&&(m+=On(n,f[0])),d>1&&(m+=On(r,f[1])),d>2&&(m+=On(i,f[2])),d>3&&(m+=On(o,f[3])),d>4&&(m+=On(s,f[4])),d>5&&(m+=On(a,f[5])),d>6&&(m+=On(u,f[6])),d>7&&(m+=On(c,f[7])),d>8&&(m+=On(l,f[8])),d>9&&(m+=On(p,f[9]));var v=Lt(t,e.index).renderText;t.renderer.setValue(v,m)}return h}function Rn(t,e,n){for(var r=e.bindings,i=!1,o=0;o<n.length;o++)Yt(t,e,o,n[o])&&(i=!0);if(i){for(var s="",o=0;o<n.length;o++)s+=On(n[o],r[o]);s=e.text.prefix+s;var a=Lt(t,e.index).renderText;t.renderer.setValue(a,s)}return i}function On(t,e){return(null!=t?t.toString():"")+e.suffix}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function Ln(t,e,n,r){for(var i=0,o=0,s=0,a=0,u=0,c=null,l=!1,p=!1,h=null,f=0;f<e.length;f++){for(;c&&f>c.index+c.childCount;){var d=c.parent;d&&(d.childFlags|=c.childFlags,d.childMatchedQueries|=c.childMatchedQueries),c=d}var m=e[f];m.index=f,m.parent=c,m.bindingIndex=i,m.outputIndex=o;var v=void 0;if(v=c&&1&c.flags&&!c.element.name?c.renderParent:c,m.renderParent=v,m.element){var g=m.element;g.publicProviders=c?c.element.publicProviders:Object.create(null),g.allProviders=g.publicProviders,l=!1,p=!1}if(In(c,m,e.length),s|=m.flags,u|=m.matchedQueryIds,m.element&&m.element.template&&(u|=m.element.template.nodeMatchedQueries),c?(c.childFlags|=m.flags,c.directChildFlags|=m.flags,c.childMatchedQueries|=m.matchedQueryIds,m.element&&m.element.template&&(c.childMatchedQueries|=m.element.template.nodeMatchedQueries)):a|=m.flags,i+=m.bindings.length,o+=m.outputs.length,!v&&3&m.flags&&(h=m),10112&m.flags){l||(l=!0,c.element.publicProviders=Object.create(c.element.publicProviders),c.element.allProviders=c.element.publicProviders);var y=0!=(4096&m.flags),_=0!=(16384&m.flags);!y||_?c.element.publicProviders[m.provider.tokenKey]=m:(p||(p=!0,c.element.allProviders=Object.create(c.element.publicProviders)),c.element.allProviders[m.provider.tokenKey]=m),_&&(c.element.componentProvider=m)}m.childCount&&(c=m)}for(;c;){var d=c.parent;d&&(d.childFlags|=c.childFlags,d.childMatchedQueries|=c.childMatchedQueries),c=d}var b=function(t,n,r,i){return e[n].element.handleEvent(t,r,i)};return{factory:null,nodeFlags:s,rootNodeFlags:a,nodeMatchedQueries:u,flags:t,nodes:e,updateDirectives:n||ea,updateRenderer:r||ea,handleEvent:b||ea,bindingCount:i,outputCount:o,lastRenderRootNode:h}}function In(t,e,n){var r=e.element&&e.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&8388608&r.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index "+e.index+"!")}if(10112&e.flags){if(0==(1&(t?t.flags:0)))throw new Error("Illegal State: Provider/Directive nodes need to be children of elements or anchors, at index "+e.index+"!")}if(e.query){if(33554432&e.flags&&(!t||0==(8192&t.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index "+e.index+"!");if(67108864&e.flags&&t)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index "+e.index+"!")}if(e.childCount){var i=t?t.index+t.childCount:n-1;if(e.index<=i&&e.index+e.childCount>i)throw new Error("Illegal State: childCount of node leads outside of parent, at index "+e.index+"!")}}function Nn(t,e,n){var r=kn(t.root,t.renderer,t,e,e.element.template);return jn(r,t.component,n),Fn(r),r}function Dn(t,e,n){var r=kn(t,t.renderer,null,null,e);return jn(r,n,n),Fn(r),r}function kn(t,e,n,r,i){var o=new Array(i.nodes.length),s=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:o,state:3,root:t,renderer:e,oldValues:new Array(i.bindingCount),disposables:s}}function jn(t,e,n){t.component=e,t.context=n}function Fn(t){var e;if(ne(t)){var n=t.parentNodeDef;e=It(t.parent,n.parent.index).renderElement}for(var r=t.def,i=t.nodes,o=0;o<r.nodes.length;o++){var s=r.nodes[o];ta.setCurrentNode(t,o);var a=void 0;switch(100673535&s.flags){case 1:var u=we(t,e,s),c=void 0;if(16777216&s.flags){var l=ae(s.element.componentView),p=s.element.componentRendererType,h=void 0;h=p?t.root.rendererFactory.createRenderer(u,p):t.root.renderer,c=kn(t.root,h,t,s.element.componentProvider,l)}xe(t,c,s,u),a={renderElement:u,componentView:c,viewContainer:null,template:s.element.template?Ge(t,s):void 0},8388608&s.flags&&(a.viewContainer=He(t,s,a));break;case 2:a=An(t,e,s);break;case 256:case 512:case 1024:case 128:var f=Je(t,s);a={instance:f};break;case 8:var f=$e(t,s);a={instance:f};break;case 8192:var f=tn(t,s);if(a={instance:f},16384&s.flags){jn(It(t,s.parent.index).componentView,f,f)}break;case 16:case 32:case 64:a=yn(t,s);break;case 33554432:case 67108864:a=xn();break;case 4:Le(t,e,s),a=void 0}i[o]=a}Qn(t,Ta.CreateViewNodes),$n(t,100663296,134217728,0)}function Un(t){ta.updateDirectives(t,1),Kn(t,Ta.CheckNoChanges),ta.updateRenderer(t,1),Qn(t,Ta.CheckNoChanges)}function Bn(t){ta.updateDirectives(t,0),Kn(t,Ta.CheckAndUpdate),$n(t,33554432,268435456,0),pn(t,1048576|(1&t.state?524288:0)),ta.updateRenderer(t,0),Qn(t,Ta.CheckAndUpdate),$n(t,67108864,268435456,0),pn(t,4194304|(1&t.state?2097152:0)),2&t.def.flags&&(t.state&=-3),t.state&=-2}function Vn(t,e,n,r,i,o,s,a,u,c,l,p,h){return 0===n?Hn(t,e,r,i,o,s,a,u,c,l,p,h):zn(t,e,r)}function Hn(t,e,n,r,i,o,s,a,u,c,l,p){var h=!1;switch(100673535&e.flags){case 1:h=Se(t,e,n,r,i,o,s,a,u,c,l,p);break;case 2:h=Pn(t,e,n,r,i,o,s,a,u,c,l,p);break;case 8192:h=nn(t,e,n,r,i,o,s,a,u,c,l,p);break;case 16:case 32:case 64:h=_n(t,e,n,r,i,o,s,a,u,c,l,p)}return h}function zn(t,e,n){var r=!1;switch(100673535&e.flags){case 1:r=Me(t,e,n);break;case 2:r=Rn(t,e,n);break;case 8192:r=rn(t,e,n);break;case 16:case 32:case 64:r=bn(t,e,n)}if(r)for(var i=e.bindings.length,o=e.bindingIndex,s=t.oldValues,a=0;a<i;a++)s[o+a]=n[a];return r}function Gn(t,e,n,r,i,o,s,a,u,c,l,p,h){return 0===n?Wn(t,e,r,i,o,s,a,u,c,l,p,h):qn(t,e,r),!1}function Wn(t,e,n,r,i,o,s,a,u,c,l,p){var h=e.bindings.length;h>0&&Zt(t,e,0,n),h>1&&Zt(t,e,1,r),h>2&&Zt(t,e,2,i),h>3&&Zt(t,e,3,o),h>4&&Zt(t,e,4,s),h>5&&Zt(t,e,5,a),h>6&&Zt(t,e,6,u),h>7&&Zt(t,e,7,c),h>8&&Zt(t,e,8,l),h>9&&Zt(t,e,9,p)}function qn(t,e,n){for(var r=0;r<n.length;r++)Zt(t,e,r,n[r])}function Xn(t,e){if(kt(t,e.index).dirty)throw jt(ta.createDebugContext(t,e.index),"Query "+e.query.id+" not dirty","Query "+e.query.id+" dirty",0!=(1&t.state))}function Yn(t){if(!(8&t.state)){if(Kn(t,Ta.Destroy),Qn(t,Ta.Destroy),pn(t,65536),t.disposables)for(var e=0;e<t.disposables.length;e++)t.disposables[e]();t.renderer.destroyNode&&Zn(t),ne(t)&&t.renderer.destroy(),t.state|=8}}function Zn(t){for(var e=t.def.nodes.length,n=0;n<e;n++){var r=t.def.nodes[n];1&r.flags?t.renderer.destroyNode(It(t,n).renderElement):2&r.flags&&t.renderer.destroyNode(Lt(t,n).renderText)}}function Qn(t,e){var n=t.def;if(16777216&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];16777216&i.flags?Jn(It(t,r).componentView,e):0==(16777216&i.childFlags)&&(r+=i.childCount)}}function Kn(t,e){var n=t.def;if(8388608&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];if(8388608&i.flags)for(var o=It(t,r).viewContainer._embeddedViews,s=0;s<o.length;s++)Jn(o[s],e);else 0==(8388608&i.childFlags)&&(r+=i.childCount)}}function Jn(t,e){var n=t.state;switch(e){case Ta.CheckNoChanges:2&n&&0==(12&n)&&Un(t);break;case Ta.CheckAndUpdate:2&n&&0==(12&n)&&Bn(t);break;case Ta.Destroy:Yn(t);break;case Ta.CreateViewNodes:Fn(t)}}function $n(t,e,n,r){if(t.def.nodeFlags&e&&t.def.nodeFlags&n)for(var i=t.def.nodes.length,o=0;o<i;o++){var s=t.def.nodes[o];if(s.flags&e&&s.flags&n)switch(ta.setCurrentNode(t,s.index),r){case 0:Sn(t,s);break;case 1:Xn(t,s)}s.childFlags&e&&s.childFlags&n||(o+=s.childCount)}}function tr(){if(!Aa){Aa=!0;var t=st()?nr():er();ta.setCurrentNode=t.setCurrentNode,ta.createRootView=t.createRootView,ta.createEmbeddedView=t.createEmbeddedView,ta.checkAndUpdateView=t.checkAndUpdateView,ta.checkNoChangesView=t.checkNoChangesView,ta.destroyView=t.destroyView,ta.resolveDep=un,ta.createDebugContext=t.createDebugContext,ta.handleEvent=t.handleEvent,ta.updateDirectives=t.updateDirectives,ta.updateRenderer=t.updateRenderer,ta.dirtyParentQueries=En}}function er(){return{setCurrentNode:function(){},createRootView:rr,createEmbeddedView:Nn,checkAndUpdateView:Bn,checkNoChangesView:Un,destroyView:Yn,createDebugContext:function(t,e){return new Na(t,e)},handleEvent:function(t,e,n,r){return t.def.handleEvent(t,e,n,r)},updateDirectives:function(t,e){return t.def.updateDirectives(0===e?sr:ar,t)},updateRenderer:function(t,e){return t.def.updateRenderer(0===e?sr:ar,t)}}}function nr(){return{setCurrentNode:hr,createRootView:ir,createEmbeddedView:ur,checkAndUpdateView:cr,checkNoChangesView:lr,destroyView:pr,createDebugContext:function(t,e){return new Na(t,e)},handleEvent:fr,updateDirectives:dr,updateRenderer:mr}}function rr(t,e,n,r,i,o){return Dn(or(t,i,i.injector.get(ss),e,n),r,o)}function ir(t,e,n,r,i,o){var s=i.injector.get(ss),a=or(t,i,new Da(s),e,n);return Cr(Pa.create,Dn,null,[a,r,o])}function or(t,e,n,r,i){return{ngModule:e,injector:t,projectableNodes:r,selectorOrNode:i,sanitizer:e.injector.get(Js),rendererFactory:n,renderer:n.createRenderer(null,null)}}function sr(t,e,n,r,i,o,s,a,u,c,l,p,h){var f=t.def.nodes[e];return Vn(t,f,n,r,i,o,s,a,u,c,l,p,h),112&f.flags?Dt(t,e).value:void 0}function ar(t,e,n,r,i,o,s,a,u,c,l,p,h){var f=t.def.nodes[e];return Gn(t,f,n,r,i,o,s,a,u,c,l,p,h),112&f.flags?Dt(t,e).value:void 0}function ur(t,e,n){return Cr(Pa.create,Nn,null,[t,e,n])}function cr(t){return Cr(Pa.detectChanges,Bn,null,[t])}function lr(t){return Cr(Pa.checkNoChanges,Un,null,[t])}function pr(t){return Cr(Pa.destroy,Yn,null,[t])}function hr(t,e){Oa=t,La=e}function fr(t,e,n,r){return hr(t,e),Cr(Pa.handleEvent,t.def.handleEvent,null,[t,e,n,r])}function dr(t,e){function n(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=t.def.nodes[n];return 0===e?vr(t,s,r,i):gr(t,s,r,i),8192&s.flags&&hr(t,wr(t,n)),112&s.flags?Dt(t,s.index).value:void 0}if(8&t.state)throw Ht(Pa[Ra]);return hr(t,wr(t,0)),t.def.updateDirectives(n,t)}function mr(t,e){function n(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=t.def.nodes[n];return 0===e?vr(t,s,r,i):gr(t,s,r,i),3&s.flags&&hr(t,xr(t,n)),112&s.flags?Dt(t,s.index).value:void 0}if(8&t.state)throw Ht(Pa[Ra]);return hr(t,xr(t,0)),t.def.updateRenderer(n,t)}function vr(t,e,n,r){if(Vn.apply(void 0,[t,e,n].concat(r))){var i=1===n?r[0]:r;if(8192&e.flags){for(var o={},s=0;s<e.bindings.length;s++){var a=e.bindings[s],u=i[s];8&a.flags&&(o[yr(a.nonMinifiedName)]=br(u))}var c=e.parent,l=It(t,c.index).renderElement;if(c.element.name)for(var p in o){var u=o[p];null!=u?t.renderer.setAttribute(l,p,u):t.renderer.removeAttribute(l,p)}else t.renderer.setValue(l,"bindings="+JSON.stringify(o,null,2))}}}function gr(t,e,n,r){Gn.apply(void 0,[t,e,n].concat(r))}function yr(t){return"ng-reflect-"+(t=_r(t.replace(/[$@]/g,"_")))}function _r(t){return t.replace(Ia,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"-"+t[1].toLowerCase()})}function br(t){try{return null!=t?t.toString().slice(0,30):t}catch(t){return"[ERROR] Exception while trying to serialize the value"}}function wr(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(8192&r.flags&&r.bindings&&r.bindings.length)return n}return null}function xr(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(3&r.flags&&r.bindings&&r.bindings.length)return n}return null}function Er(t,e){for(var n=-1,r=0;r<=e;r++){3&t.nodes[r].flags&&n++}return n}function Sr(t){for(;t&&!ne(t);)t=t.parent;return t.parent?It(t.parent,$t(t).index):null}function Mr(t,e,n){for(var r in e.references)n[r]=Cn(t,e,e.references[r])}function Cr(t,e,n,r){var i=Ra,o=Oa,s=La;try{Ra=t;var a=e.apply(n,r);return Oa=o,La=s,Ra=i,a}catch(t){if(Vt(t)||!Oa)throw t;throw Oa.state|=4,Ft(t,Tr())}}function Tr(){return Oa?new Na(Oa,La):null}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function Ar(){return zs}function Pr(){return Gs}function Rr(t){return t||"en-US"}function Or(){tr()}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function Lr(t,e){return{name:t,definitions:e}}function Ir(t,e){return void 0===e&&(e=null),{type:4,styles:e,timings:t}}function Nr(t){return{type:3,steps:t}}function Dr(t){return{type:2,steps:t}}function kr(t){return{type:6,styles:t}}function jr(t,e){return{type:0,name:t,styles:e}}function Fr(t){return{type:5,steps:t}}function Ur(t,e){return{type:1,expr:t,animation:e}}function Br(t,e){return Lr(t,e)}function Vr(t,e){return Ir(t,e)}function Hr(t){return Nr(t)}function zr(t){return Dr(t)}function Gr(t){return kr(t)}function Wr(t,e){return jr(t,e)}function qr(t){return Fr(t)}function Xr(t,e){return Ur(t,e)}Object.defineProperty(e,"__esModule",{value:!0});var Yr=n("./node_modules/rxjs/Observable.js"),Zr=(n.n(Yr),n("./node_modules/rxjs/observable/merge.js")),Qr=(n.n(Zr),n("./node_modules/rxjs/operator/share.js")),Kr=(n.n(Qr),n("./node_modules/rxjs/Subject.js"));n.n(Kr);n.d(e,"Class",function(){return c}),n.d(e,"createPlatform",function(){return at}),n.d(e,"assertPlatform",function(){return ct}),n.d(e,"destroyPlatform",function(){return lt}),n.d(e,"getPlatform",function(){return pt}),n.d(e,"PlatformRef",function(){return Jo}),n.d(e,"ApplicationRef",function(){return ts}),n.d(e,"enableProdMode",function(){return ot}),n.d(e,"isDevMode",function(){return st}),n.d(e,"createPlatformFactory",function(){return ut}),n.d(e,"NgProbeToken",function(){return Ko}),n.d(e,"APP_ID",function(){return po}),n.d(e,"PACKAGE_ROOT_URL",function(){return go}),n.d(e,"PLATFORM_INITIALIZER",function(){return fo}),n.d(e,"PLATFORM_ID",function(){return mo}),n.d(e,"APP_BOOTSTRAP_LISTENER",function(){return vo}),n.d(e,"APP_INITIALIZER",function(){return co}),n.d(e,"ApplicationInitStatus",function(){return lo}),n.d(e,"DebugElement",function(){return Ms}),n.d(e,"DebugNode",function(){return Ss}),n.d(e,"asNativeElements",function(){return yt}),n.d(e,"getDebugNode",function(){return wt}),n.d(e,"Testability",function(){return zo}),n.d(e,"TestabilityRegistry",function(){return Go}),n.d(e,"setTestabilityGetter",function(){return it}),n.d(e,"TRANSLATIONS",function(){return Ys}),n.d(e,"TRANSLATIONS_FORMAT",function(){return Zs}),n.d(e,"LOCALE_ID",function(){return Xs}),n.d(e,"MissingTranslationStrategy",function(){return Qs}),n.d(e,"ApplicationModule",function(){return ja}),n.d(e,"wtfCreateScope",function(){return jo}),n.d(e,"wtfLeave",function(){return Fo}),n.d(e,"wtfStartTimeRange",function(){return Uo}),n.d(e,"wtfEndTimeRange",function(){return Bo}),n.d(e,"Type",function(){return Zi}),n.d(e,"EventEmitter",function(){return Vo}),n.d(e,"ErrorHandler",function(){return Wi}),n.d(e,"Sanitizer",function(){return Js}),n.d(e,"SecurityContext",function(){return Ks}),n.d(e,"ANALYZE_FOR_ENTRY_COMPONENTS",function(){return ui}),n.d(e,"Attribute",function(){return ci}),n.d(e,"ContentChild",function(){return hi}),n.d(e,"ContentChildren",function(){return pi}),n.d(e,"Query",function(){return li}),n.d(e,"ViewChild",function(){return di}),n.d(e,"ViewChildren",function(){return fi}),n.d(e,"Component",function(){return yi}),n.d(e,"Directive",function(){return gi}),n.d(e,"HostBinding",function(){return xi}),n.d(e,"HostListener",function(){return Ei}),n.d(e,"Input",function(){return bi}),n.d(e,"Output",function(){return wi}),n.d(e,"Pipe",function(){return _i}),n.d(e,"CUSTOM_ELEMENTS_SCHEMA",function(){return Si}),n.d(e,"NO_ERRORS_SCHEMA",function(){return Mi}),n.d(e,"NgModule",function(){return Ci}),n.d(e,"ViewEncapsulation",function(){return Ti}),n.d(e,"Version",function(){return Pi}),n.d(e,"VERSION",function(){return Ri}),n.d(e,"forwardRef",function(){return m}),n.d(e,"resolveForwardRef",function(){return v}),n.d(e,"Injector",function(){return Bi}),n.d(e,"ReflectiveInjector",function(){return so}),n.d(e,"ResolvedReflectiveFactory",function(){return io}),n.d(e,"ReflectiveKey",function(){return qi}),n.d(e,"InjectionToken",function(){return ti}),n.d(e,"OpaqueToken",function(){return $r}),n.d(e,"Inject",function(){return Oi}),n.d(e,"Optional",function(){return Li}),n.d(e,"Injectable",function(){return Ii}),n.d(e,"Self",function(){return Ni}),n.d(e,"SkipSelf",function(){return Di}),n.d(e,"Host",function(){return ki}),n.d(e,"NgZone",function(){return Ho}),n.d(e,"RenderComponentType",function(){return ns}),n.d(e,"Renderer",function(){return is}),n.d(e,"Renderer2",function(){return us}),n.d(e,"RendererFactory2",function(){return ss}),n.d(e,"RendererStyleFlags2",function(){return as}),n.d(e,"RootRenderer",function(){return os}),n.d(e,"COMPILER_OPTIONS",function(){return wo}),n.d(e,"Compiler",function(){return bo}),n.d(e,"CompilerFactory",function(){return xo}),n.d(e,"ModuleWithComponentFactories",function(){return _o}),n.d(e,"ComponentFactory",function(){return So}),n.d(e,"ComponentRef",function(){return Eo}),n.d(e,"ComponentFactoryResolver",function(){return To}),n.d(e,"ElementRef",function(){return cs}),n.d(e,"NgModuleFactory",function(){return Io}),n.d(e,"NgModuleRef",function(){return Lo}),n.d(e,"NgModuleFactoryLoader",function(){return ls}),n.d(e,"getModuleFactory",function(){return mt}),n.d(e,"QueryList",function(){return hs}),n.d(e,"SystemJsNgModuleLoader",function(){return gs}),n.d(e,"SystemJsNgModuleLoaderConfig",function(){return ms}),n.d(e,"TemplateRef",function(){return ys}),n.d(e,"ViewContainerRef",function(){return _s}),n.d(e,"EmbeddedViewRef",function(){return xs}),n.d(e,"ViewRef",function(){return ws}),n.d(e,"ChangeDetectionStrategy",function(){return mi}),n.d(e,"ChangeDetectorRef",function(){return bs}),n.d(e,"DefaultIterableDiffer",function(){return Ls}),n.d(e,"IterableDiffers",function(){return Us}),n.d(e,"KeyValueDiffers",function(){return Bs}),n.d(e,"SimpleChange",function(){return Ps}),n.d(e,"WrappedValue",function(){return Ts}),n.d(e,"platformCore",function(){return qs}),n.d(e,"ÉµALLOW_MULTIPLE_PLATFORMS",function(){return Qo}),n.d(e,"ÉµAPP_ID_RANDOM_PROVIDER",function(){return ho}),n.d(e,"ÉµValueUnwrapper",function(){return As}),n.d(e,"ÉµdevModeEqual",function(){return St}),n.d(e,"ÉµisListLikeIterable",function(){return Mt}),n.d(e,"ÉµChangeDetectorStatus",function(){return vi}),n.d(e,"ÉµisDefaultChangeDetectionStrategy",function(){return d}),n.d(e,"ÉµConsole",function(){return yo}),n.d(e,"ÉµERROR_COMPONENT_TYPE",function(){return Vi}),n.d(e,"ÉµComponentFactory",function(){return So}),n.d(e,"ÉµCodegenComponentFactoryResolver",function(){return Ro}),n.d(e,"ÉµLIFECYCLE_HOOKS_VALUES",function(){return Ua}),n.d(e,"ÉµLifecycleHooks",function(){return Fa}),n.d(e,"ÉµViewMetadata",function(){return Ai}),n.d(e,"ÉµReflector",function(){return $i}),n.d(e,"Éµreflector",function(){return to}),n.d(e,"ÉµReflectionCapabilities",function(){return Ki}),n.d(e,"ÉµReflectorReader",function(){return Ji}),n.d(e,"ÉµRenderDebugInfo",function(){return rs}),n.d(e,"Éµglobal",function(){return ii}),n.d(e,"ÉµlooseIdentical",function(){return o}),n.d(e,"Éµstringify",function(){return s}),n.d(e,"ÉµmakeDecorator",function(){return l}),n.d(e,"ÉµisObservable",function(){return X}),n.d(e,"ÉµisPromise",function(){return q}),n.d(e,"ÉµNOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR",function(){return Ca}),n.d(e,"ÉµNgModuleInjector",function(){return Do}),n.d(e,"ÉµregisterModuleFactory",function(){return dt}),n.d(e,"ÉµEMPTY_ARRAY",function(){return ua}),n.d(e,"ÉµEMPTY_MAP",function(){return ca}),n.d(e,"Éµand",function(){return _e}),n.d(e,"Éµccf",function(){return Be}),n.d(e,"Éµcrt",function(){return Wt}),n.d(e,"Éµdid",function(){return Ye}),n.d(e,"Éµeld",function(){return be}),n.d(e,"ÉµelementEventFullName",function(){return ee}),n.d(e,"ÉµgetComponentViewDefinitionFactory",function(){return Ve}),n.d(e,"ÉµinlineInterpolate",function(){return ge}),n.d(e,"Éµinterpolate",function(){return ve}),n.d(e,"Éµncd",function(){return Oe}),n.d(e,"Éµnov",function(){return qe}),n.d(e,"Éµpid",function(){return Ze}),n.d(e,"Éµprd",function(){return Qe}),n.d(e,"Éµpad",function(){return mn}),n.d(e,"Éµpod",function(){return vn}),n.d(e,"Éµppd",function(){return dn}),n.d(e,"Éµqud",function(){return wn}),n.d(e,"Éµted",function(){return Tn}),n.d(e,"Éµunv",function(){return Gt}),n.d(e,"Éµvid",function(){return Ln}),n.d(e,"AUTO_STYLE",function(){return Ba}),n.d(e,"trigger",function(){return Br}),n.d(e,"animate",function(){return Vr}),n.d(e,"group",function(){return Hr}),n.d(e,"sequence",function(){return zr}),n.d(e,"style",function(){return Gr}),n.d(e,"state",function(){return Wr}),n.d(e,"keyframes",function(){return qr}),n.d(e,"transition",function(){return Xr}),n.d(e,"Éµba",function(){return Ir}),n.d(e,"Éµbb",function(){return Nr}),n.d(e,"Éµbf",function(){return Fr}),n.d(e,"Éµbc",function(){return Dr}),n.d(e,"Éµbe",function(){return jr}),n.d(e,"Éµbd",function(){return kr}),n.d(e,"Éµbg",function(){return Ur}),n.d(e,"Éµz",function(){return Lr}),n.d(e,"Éµo",function(){return Or}),n.d(e,"Éµl",function(){return Ar}),n.d(e,"Éµm",function(){return Pr}),n.d(e,"Éµn",function(){return Rr}),n.d(e,"Éµf",function(){return es}),n.d(e,"Éµg",function(){return Y}),n.d(e,"Éµh",function(){return zs}),n.d(e,"Éµi",function(){return Gs}),n.d(e,"Éµj",function(){return Rs}),n.d(e,"Éµk",function(){return ks}),n.d(e,"Éµc",function(){return ao}),n.d(e,"Éµd",function(){return eo}),n.d(e,"Éµe",function(){return F}),n.d(e,"Éµp",function(){return ko}),n.d(e,"Éµr",function(){return $}),n.d(e,"Éµq",function(){return J}),n.d(e,"Éµu",function(){return nt}),n.d(e,"Éµs",function(){return tt}),n.d(e,"Éµt",function(){return et}),n.d(e,"Éµa",function(){return h}),n.d(e,"Éµb",function(){return f}),n.d(e,"Éµw",function(){return Ke}),n.d(e,"Éµx",function(){return $s});var Jr=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},$r=function(){function t(t){this._desc=t}return t.prototype.toString=function(){return"Token "+this._desc},t}(),ti=function(t){function e(e){return t.call(this,e)||this}return Jr(e,t),e.prototype.toString=function(){return"InjectionToken "+this._desc},e}($r),ei="undefined"!=typeof window&&window,ni="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ri=void 0!==t&&t,ii=ei||ri||ni,oi=null,si=0,ai=ii.Reflect,ui=new ti("AnalyzeForEntryComponents"),ci=h("Attribute",[["attributeName",void 0]]),li=function(){function t(){}return t}(),pi=f("ContentChildren",[["selector",void 0],{first:!1,isViewQuery:!1,descendants:!1,read:void 0}],li),hi=f("ContentChild",[["selector",void 0],{first:!0,isViewQuery:!1,descendants:!0,read:void 0}],li),fi=f("ViewChildren",[["selector",void 0],{first:!1,isViewQuery:!0,descendants:!0,read:void 0}],li),di=f("ViewChild",[["selector",void 0],{first:!0,isViewQuery:!0,descendants:!0,read:void 0}],li),mi={};mi.OnPush=0,mi.Default=1,mi[mi.OnPush]="OnPush",mi[mi.Default]="Default";var vi={};vi.CheckOnce=0,vi.Checked=1,vi.CheckAlways=2,vi.Detached=3,vi.Errored=4,vi.Destroyed=5,vi[vi.CheckOnce]="CheckOnce",vi[vi.Checked]="Checked",vi[vi.CheckAlways]="CheckAlways",vi[vi.Detached]="Detached",vi[vi.Errored]="Errored",vi[vi.Destroyed]="Destroyed";/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var gi=l("Directive",{selector:void 0,inputs:void 0,outputs:void 0,host:void 0,providers:void 0,exportAs:void 0,queries:void 0}),yi=l("Component",{selector:void 0,inputs:void 0,outputs:void 0,host:void 0,exportAs:void 0,moduleId:void 0,providers:void 0,viewProviders:void 0,changeDetection:mi.Default,queries:void 0,templateUrl:void 0,template:void 0,styleUrls:void 0,styles:void 0,animations:void 0,encapsulation:void 0,interpolation:void 0,entryComponents:void 0},gi),_i=l("Pipe",{name:void 0,pure:!0}),bi=f("Input",[["bindingPropertyName",void 0]]),wi=f("Output",[["bindingPropertyName",void 0]]),xi=f("HostBinding",[["hostPropertyName",void 0]]),Ei=f("HostListener",[["eventName",void 0],["args",[]]]),Si={name:"custom-elements"},Mi={name:"no-errors-schema"},Ci=l("NgModule",{providers:void 0,declarations:void 0,imports:void 0,exports:void 0,entryComponents:void 0,bootstrap:void 0,schemas:void 0,id:void 0}),Ti={};Ti.Emulated=0,Ti.Native=1,Ti.None=2,Ti[Ti.Emulated]="Emulated",Ti[Ti.Native]="Native",Ti[Ti.None]="None";var Ai=function(){function t(t){var e=void 0===t?{}:t,n=e.templateUrl,r=e.template,i=e.encapsulation,o=e.styles,s=e.styleUrls,a=e.animations,u=e.interpolation;this.templateUrl=n,this.template=r,this.styleUrls=s,this.styles=o,this.encapsulation=i,this.animations=a,this.interpolation=u}return t}(),Pi=function(){function t(t){this.full=t}return Object.defineProperty(t.prototype,"major",{get:function(){return this.full.split(".")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minor",{get:function(){return this.full.split(".")[1]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"patch",{get:function(){return this.full.split(".").slice(2).join(".")},enumerable:!0,configurable:!0}),t}(),Ri=new Pi("4.0.1"),Oi=h("Inject",[["token",void 0]]),Li=h("Optional",[]),Ii=l("Injectable",[]),Ni=h("Self",[]),Di=h("SkipSelf",[]),ki=h("Host",[]),ji=new Object,Fi=ji,Ui=function(){function t(){}return t.prototype.get=function(t,e){if(void 0===e&&(e=ji),e===ji)throw new Error("No provider for "+s(t)+"!");return e},t}(),Bi=function(){function t(){}return t.prototype.get=function(t,e){},t.prototype.get=function(t,e){},t}();Bi.THROW_IF_NOT_FOUND=ji,Bi.NULL=new Ui;/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var Vi="ngComponentType",Hi="ngDebugContext",zi="ngOriginalError",Gi="ngErrorLogger",Wi=function(){function t(t){this._console=console}return t.prototype.handleError=function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=_(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)},t.prototype._findContext=function(t){return t?g(t)?g(t):this._findContext(y(t)):null},t.prototype._findOriginalError=function(t){for(var e=y(t);e&&y(e);)e=y(e);return e},t}(),qi=function(){function t(t,e){if(this.token=t,this.id=e,!t)throw new Error("Token must be defined!")}return Object.defineProperty(t.prototype,"displayName",{get:function(){return s(this.token)},enumerable:!0,configurable:!0}),t.get=function(t){return Yi.get(v(t))},Object.defineProperty(t,"numberOfKeys",{get:function(){return Yi.numberOfKeys},enumerable:!0,configurable:!0}),t}(),Xi=function(){function t(){this._allKeys=new Map}return t.prototype.get=function(t){if(t instanceof qi)return t;if(this._allKeys.has(t))return this._allKeys.get(t);var e=new qi(t,qi.numberOfKeys);return this._allKeys.set(t,e),e},Object.defineProperty(t.prototype,"numberOfKeys",{get:function(){return this._allKeys.size},enumerable:!0,configurable:!0}),t}(),Yi=new Xi,Zi=Function,Qi=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*arguments\)/,Ki=function(){function t(t){this._reflect=t||ii.Reflect}return t.prototype.isReflectionEnabled=function(){return!0},t.prototype.factory=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new(t.bind.apply(t,[void 0].concat(e)))}},t.prototype._zipTypesAndAnnotations=function(t,e){var n;n=void 0===t?new Array(e.length):new Array(t.length);for(var r=0;r<n.length;r++)void 0===t?n[r]=[]:t[r]!=Object?n[r]=[t[r]]:n[r]=[],e&&null!=e[r]&&(n[r]=n[r].concat(e[r]));return n},t.prototype._ownParameters=function(t,e){if(Qi.exec(t.toString()))return null;if(t.parameters&&t.parameters!==e.parameters)return t.parameters;var n=t.ctorParameters;if(n&&n!==e.ctorParameters){var r="function"==typeof n?n():n,i=r.map(function(t){return t&&t.type}),o=r.map(function(t){return t&&N(t.decorators)});return this._zipTypesAndAnnotations(i,o)}if(null!=this._reflect&&null!=this._reflect.getOwnMetadata){var o=this._reflect.getOwnMetadata("parameters",t),i=this._reflect.getOwnMetadata("design:paramtypes",t);if(i||o)return this._zipTypesAndAnnotations(i,o)}return new Array(t.length).fill(void 0)},t.prototype.parameters=function(t){if(!I(t))return[];var e=D(t),n=this._ownParameters(t,e);return n||e===Object||(n=this.parameters(e)),n||[]},t.prototype._ownAnnotations=function(t,e){if(t.annotations&&t.annotations!==e.annotations){var n=t.annotations;return"function"==typeof n&&n.annotations&&(n=n.annotations),n}return t.decorators&&t.decorators!==e.decorators?N(t.decorators):this._reflect&&this._reflect.getOwnMetadata?this._reflect.getOwnMetadata("annotations",t):null},t.prototype.annotations=function(t){if(!I(t))return[];var e=D(t),n=this._ownAnnotations(t,e)||[];return(e!==Object?this.annotations(e):[]).concat(n)},t.prototype._ownPropMetadata=function(t,e){if(t.propMetadata&&t.propMetadata!==e.propMetadata){var n=t.propMetadata;return"function"==typeof n&&n.propMetadata&&(n=n.propMetadata),n}if(t.propDecorators&&t.propDecorators!==e.propDecorators){var r=t.propDecorators,i={};return Object.keys(r).forEach(function(t){i[t]=N(r[t])}),i}return this._reflect&&this._reflect.getOwnMetadata?this._reflect.getOwnMetadata("propMetadata",t):null},t.prototype.propMetadata=function(t){if(!I(t))return{};var e=D(t),n={};if(e!==Object){var r=this.propMetadata(e);Object.keys(r).forEach(function(t){n[t]=r[t]})}var i=this._ownPropMetadata(t,e);return i&&Object.keys(i).forEach(function(t){var e=[];n.hasOwnProperty(t)&&e.push.apply(e,n[t]),e.push.apply(e,i[t]),n[t]=e}),n},t.prototype.hasLifecycleHook=function(t,e){return t instanceof Zi&&e in t.prototype},t.prototype.getter=function(t){return new Function("o","return o."+t+";")},t.prototype.setter=function(t){return new Function("o","v","return o."+t+" = v;")},t.prototype.method=function(t){var e="if (!o."+t+") throw new Error('\""+t+"\" is undefined');\n        return o."+t+".apply(o, args);";return new Function("o","args",e)},t.prototype.importUri=function(t){return"object"==typeof t&&t.filePath?t.filePath:"./"+s(t)},t.prototype.resourceUri=function(t){return"./"+s(t)},t.prototype.resolveIdentifier=function(t,e,n,r){return r},t.prototype.resolveEnum=function(t,e){return t[e]},t}(),Ji=function(){function t(){}return t.prototype.parameters=function(t){},t.prototype.annotations=function(t){},t.prototype.propMetadata=function(t){},t.prototype.importUri=function(t){},t.prototype.resourceUri=function(t){},t.prototype.resolveIdentifier=function(t,e,n,r){},t.prototype.resolveEnum=function(t,e){},t}(),$i=function(t){function e(e){var n=t.call(this)||this;return n.reflectionCapabilities=e,n}return Jr(e,t),e.prototype.updateCapabilities=function(t){this.reflectionCapabilities=t},e.prototype.factory=function(t){return this.reflectionCapabilities.factory(t)},e.prototype.parameters=function(t){return this.reflectionCapabilities.parameters(t)},e.prototype.annotations=function(t){return this.reflectionCapabilities.annotations(t)},e.prototype.propMetadata=function(t){return this.reflectionCapabilities.propMetadata(t)},e.prototype.hasLifecycleHook=function(t,e){return this.reflectionCapabilities.hasLifecycleHook(t,e)},e.prototype.getter=function(t){return this.reflectionCapabilities.getter(t)},e.prototype.setter=function(t){return this.reflectionCapabilities.setter(t)},e.prototype.method=function(t){return this.reflectionCapabilities.method(t)},e.prototype.importUri=function(t){return this.reflectionCapabilities.importUri(t)},e.prototype.resourceUri=function(t){return this.reflectionCapabilities.resourceUri(t)},e.prototype.resolveIdentifier=function(t,e,n,r){return this.reflectionCapabilities.resolveIdentifier(t,e,n,r)},e.prototype.resolveEnum=function(t,e){return this.reflectionCapabilities.resolveEnum(t,e)},e}(Ji),to=new $i(new Ki),eo=function(){function t(t,e,n){this.key=t,this.optional=e,this.visibility=n}return t.fromKey=function(e){return new t(e,!1,null)},t}(),no=[],ro=function(){function t(t,e,n){this.key=t,this.resolvedFactories=e,this.multiProvider=n}return Object.defineProperty(t.prototype,"resolvedFactory",{get:function(){return this.resolvedFactories[0]},enumerable:!0,configurable:!0}),t}(),io=function(){function t(t,e){this.factory=t,this.dependencies=e}return t}(),oo=new Object,so=function(){function t(){}return t.resolve=function(t){return F(t)},t.resolveAndCreate=function(e,n){var r=t.resolve(e);return t.fromResolvedProviders(r,n)},t.fromResolvedProviders=function(t,e){return new ao(t,e)},t.prototype.parent=function(){},t.prototype.resolveAndCreateChild=function(t){},t.prototype.createChildFromResolved=function(t){},t.prototype.resolveAndInstantiate=function(t){},t.prototype.instantiateResolved=function(t){},t.prototype.get=function(t,e){},t}(),ao=function(){function t(t,e){this._constructionCounter=0,this._providers=t,this._parent=e||null;var n=t.length;this.keyIds=new Array(n),this.objs=new Array(n);for(var r=0;r<n;r++)this.keyIds[r]=t[r].key.id,this.objs[r]=oo}return t.prototype.get=function(t,e){return void 0===e&&(e=Fi),this._getByKey(qi.get(t),null,e)},Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),t.prototype.resolveAndCreateChild=function(t){var e=so.resolve(t);return this.createChildFromResolved(e)},t.prototype.createChildFromResolved=function(e){var n=new t(e);return n._parent=this,n},t.prototype.resolveAndInstantiate=function(t){return this.instantiateResolved(so.resolve([t])[0])},t.prototype.instantiateResolved=function(t){return this._instantiateProvider(t)},t.prototype.getProviderAtIndex=function(t){if(t<0||t>=this._providers.length)throw O(t);return this._providers[t]},t.prototype._new=function(t){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw T(this,t.key);return this._instantiateProvider(t)},t.prototype._getMaxNumberOfObjects=function(){return this.objs.length},t.prototype._instantiateProvider=function(t){if(t.multiProvider){for(var e=new Array(t.resolvedFactories.length),n=0;n<t.resolvedFactories.length;++n)e[n]=this._instantiate(t,t.resolvedFactories[n]);return e}return this._instantiate(t,t.resolvedFactories[0])},t.prototype._instantiate=function(t,e){var n,r=this,i=e.factory;try{n=e.dependencies.map(function(t){return r._getByReflectiveDependency(t)})}catch(e){throw e.addKey&&e.addKey(this,t.key),e}var o;try{o=i.apply(void 0,n)}catch(e){throw A(this,e,e.stack,t.key)}return o},t.prototype._getByReflectiveDependency=function(t){return this._getByKey(t.key,t.visibility,t.optional?null:Fi)},t.prototype._getByKey=function(t,e,n){return t===uo?this:e instanceof Ni?this._getByKeySelf(t,n):this._getByKeyDefault(t,n,e)},t.prototype._getObjByKeyId=function(t){for(var e=0;e<this.keyIds.length;e++)if(this.keyIds[e]===t)return this.objs[e]===oo&&(this.objs[e]=this._new(this._providers[e])),this.objs[e];return oo},t.prototype._throwOrNull=function(t,e){if(e!==Fi)return e;throw C(this,t)},t.prototype._getByKeySelf=function(t,e){var n=this._getObjByKeyId(t.id);return n!==oo?n:this._throwOrNull(t,e)},t.prototype._getByKeyDefault=function(e,n,r){var i;for(i=r instanceof Di?this._parent:this;i instanceof t;){var o=i,s=o._getObjByKeyId(e.id);if(s!==oo)return s;i=o._parent}return null!==i?i.get(e.token,n):this._throwOrNull(e,n)},Object.defineProperty(t.prototype,"displayName",{get:function(){return"ReflectiveInjector(providers: ["+W(this,function(t){return' "'+t.key.displayName+'" '}).join(", ")+"])"},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.displayName},t}(),uo=qi.get(Bi),co=new ti("Application Initializer"),lo=function(){function t(t){var e=this;this._done=!1;var n=[];if(t)for(var r=0;r<t.length;r++){var i=t[r]();q(i)&&n.push(i)}this._donePromise=Promise.all(n).then(function(){e._done=!0}),0===n.length&&(this._done=!0)}return Object.defineProperty(t.prototype,"done",{get:function(){return this._done},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"donePromise",{get:function(){return this._donePromise},enumerable:!0,configurable:!0}),t}();lo.decorators=[{type:Ii}],lo.ctorParameters=function(){return[{type:Array,decorators:[{type:Oi,args:[co]},{type:Li}]}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var po=new ti("AppId"),ho={provide:po,useFactory:Y,deps:[]},fo=new ti("Platform Initializer"),mo=new ti("Platform ID"),vo=new ti("appBootstrapListener"),go=new ti("Application Packages Root URL"),yo=function(){function t(){}return t.prototype.log=function(t){console.log(t)},t.prototype.warn=function(t){console.warn(t)},t}();yo.decorators=[{type:Ii}],yo.ctorParameters=function(){return[]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var _o=function(){function t(t,e){this.ngModuleFactory=t,this.componentFactories=e}return t}(),bo=function(){function t(){}return t.prototype.compileModuleSync=function(t){throw Q()},t.prototype.compileModuleAsync=function(t){throw Q()},t.prototype.compileModuleAndAllComponentsSync=function(t){throw Q()},t.prototype.compileModuleAndAllComponentsAsync=function(t){throw Q()},t.prototype.getNgContentSelectors=function(t){throw Q()},t.prototype.clearCache=function(){},t.prototype.clearCacheFor=function(t){},t}();bo.decorators=[{type:Ii}],bo.ctorParameters=function(){return[]};var wo=new ti("compilerOptions"),xo=function(){function t(){}return t.prototype.createCompiler=function(t){},t}(),Eo=function(){function t(){}return t.prototype.location=function(){},t.prototype.injector=function(){},t.prototype.instance=function(){},t.prototype.hostView=function(){},t.prototype.changeDetectorRef=function(){},t.prototype.componentType=function(){},t.prototype.destroy=function(){},t.prototype.onDestroy=function(t){},t}(),So=function(){function t(){}return t.prototype.selector=function(){},t.prototype.componentType=function(){},t.prototype.ngContentSelectors=function(){},t.prototype.inputs=function(){},t.prototype.outputs=function(){},t.prototype.create=function(t,e,n,r){},t}(),Mo="ngComponent",Co=function(){function t(){}return t.prototype.resolveComponentFactory=function(t){throw K(t)},t}(),To=function(){function t(){}return t.prototype.resolveComponentFactory=function(t){},t}();To.NULL=new Co;var Ao,Po,Ro=function(){function t(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(var r=0;r<t.length;r++){var i=t[r];this._factories.set(i.componentType,i)}}return t.prototype.resolveComponentFactory=function(t){return new Oo(this._factories.get(t)||this._parent.resolveComponentFactory(t),this._ngModule)},t}(),Oo=function(t){function e(e,n){var r=t.call(this)||this;return r.factory=e,r.ngModule=n,r}return Jr(e,t),Object.defineProperty(e.prototype,"selector",{get:function(){return this.factory.selector},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentType",{get:function(){return this.factory.componentType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngContentSelectors",{get:function(){return this.factory.ngContentSelectors},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputs",{get:function(){return this.factory.inputs},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){return this.factory.outputs},enumerable:!0,configurable:!0}),e.prototype.create=function(t,e,n,r){return this.factory.create(t,e,n,r||this.ngModule)},e}(So),Lo=function(){function t(){}return t.prototype.injector=function(){},t.prototype.componentFactoryResolver=function(){},t.prototype.instance=function(){},t.prototype.destroy=function(){},t.prototype.onDestroy=function(t){},t}(),Io=function(){function t(t,e){this._injectorClass=t,this._moduleType=e}return Object.defineProperty(t.prototype,"moduleType",{get:function(){return this._moduleType},enumerable:!0,configurable:!0}),t.prototype.create=function(t){var e=new this._injectorClass(t||Bi.NULL);return e.create(),e},t}(),No=new Object,Do=function(){function t(t,e,n){var r=this;this.parent=t,this._destroyListeners=[],this._destroyed=!1,this.bootstrapFactories=n.map(function(t){return new Oo(t,r)}),this._cmpFactoryResolver=new Ro(e,t.get(To,To.NULL),this)}return t.prototype.create=function(){this.instance=this.createInternal()},t.prototype.createInternal=function(){},t.prototype.get=function(t,e){if(void 0===e&&(e=Fi),t===Bi||t===Lo)return this;if(t===To)return this._cmpFactoryResolver;var n=this.getInternal(t,No);return n===No?this.parent.get(t,e):n},t.prototype.getInternal=function(t,e){},Object.defineProperty(t.prototype,"injector",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentFactoryResolver",{get:function(){return this._cmpFactoryResolver},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The ng module "+s(this.instance.constructor)+" has already been destroyed.");this._destroyed=!0,this.destroyInternal(),this._destroyListeners.forEach(function(t){return t()})},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},t.prototype.destroyInternal=function(){},t}(),ko=J(),jo=ko?$:function(t,e){return rt},Fo=ko?tt:function(t,e){return e},Uo=ko?et:function(t,e){return null},Bo=ko?nt:function(t){return null},Vo=function(t){function e(e){void 0===e&&(e=!1);var n=t.call(this)||this;return n.__isAsync=e,n}return Jr(e,t),e.prototype.emit=function(e){t.prototype.next.call(this,e)},e.prototype.subscribe=function(e,n,r){var i,o=function(t){return null},s=function(){return null};return e&&"object"==typeof e?(i=this.__isAsync?function(t){setTimeout(function(){return e.next(t)})}:function(t){e.next(t)},e.error&&(o=this.__isAsync?function(t){setTimeout(function(){return e.error(t)})}:function(t){e.error(t)}),e.complete&&(s=this.__isAsync?function(){setTimeout(function(){return e.complete()})}:function(){e.complete()})):(i=this.__isAsync?function(t){setTimeout(function(){return e(t)})}:function(t){e(t)},n&&(o=this.__isAsync?function(t){setTimeout(function(){return n(t)})}:function(t){n(t)}),r&&(s=this.__isAsync?function(){setTimeout(function(){return r()})}:function(){r()})),t.prototype.subscribe.call(this,i,o,s)},e}(Kr.Subject),Ho=function(){function t(t){var e=t.enableLongStackTrace,n=void 0!==e&&e;if(this._hasPendingMicrotasks=!1,this._hasPendingMacrotasks=!1,this._isStable=!0,this._nesting=0,this._onUnstable=new Vo(!1),this._onMicrotaskEmpty=new Vo(!1),this._onStable=new Vo(!1),this._onErrorEvents=new Vo(!1),"undefined"==typeof Zone)throw new Error("Angular requires Zone.js prolyfill.");Zone.assertZonePatched(),this.outer=this.inner=Zone.current,Zone.wtfZoneSpec&&(this.inner=this.inner.fork(Zone.wtfZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(this.inner=this.inner.fork(Zone.longStackTraceZoneSpec)),this.forkInnerZoneWithAngularBehavior()}return t.isInAngularZone=function(){return Zone.current.get("isAngularZone")===!0},t.assertInAngularZone=function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")},t.assertNotInAngularZone=function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")},t.prototype.run=function(t){return this.inner.run(t)},t.prototype.runGuarded=function(t){return this.inner.runGuarded(t)},t.prototype.runOutsideAngular=function(t){return this.outer.run(t)},Object.defineProperty(t.prototype,"onUnstable",{get:function(){return this._onUnstable},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onMicrotaskEmpty",{get:function(){return this._onMicrotaskEmpty},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onStable",{get:function(){return this._onStable},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onError",{get:function(){return this._onErrorEvents},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isStable",{get:function(){return this._isStable},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingMicrotasks",{get:function(){return this._hasPendingMicrotasks},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingMacrotasks",{get:function(){return this._hasPendingMacrotasks},enumerable:!0,configurable:!0}),t.prototype.checkStable=function(){var t=this;if(0==this._nesting&&!this._hasPendingMicrotasks&&!this._isStable)try{this._nesting++,this._onMicrotaskEmpty.emit(null)}finally{if(this._nesting--,!this._hasPendingMicrotasks)try{this.runOutsideAngular(function(){return t._onStable.emit(null)})}finally{this._isStable=!0}}},t.prototype.forkInnerZoneWithAngularBehavior=function(){var t=this;this.inner=this.inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(e,n,r,i,o,s){try{return t.onEnter(),e.invokeTask(r,i,o,s)}finally{t.onLeave()}},onInvoke:function(e,n,r,i,o,s,a){try{return t.onEnter(),e.invoke(r,i,o,s,a)}finally{t.onLeave()}},onHasTask:function(e,n,r,i){e.hasTask(r,i),n===r&&("microTask"==i.change?t.setHasMicrotask(i.microTask):"macroTask"==i.change&&t.setHasMacrotask(i.macroTask))},onHandleError:function(e,n,r,i){return e.handleError(r,i),t.triggerError(i),!1}})},t.prototype.onEnter=function(){this._nesting++,this._isStable&&(this._isStable=!1,this._onUnstable.emit(null))},t.prototype.onLeave=function(){this._nesting--,this.checkStable()},t.prototype.setHasMicrotask=function(t){this._hasPendingMicrotasks=t,this.checkStable()},t.prototype.setHasMacrotask=function(t){this._hasPendingMacrotasks=t},t.prototype.triggerError=function(t){this._onErrorEvents.emit(t)},t}(),zo=function(){function t(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this._watchAngularEvents()}return t.prototype._watchAngularEvents=function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.subscribe({next:function(){Ho.assertNotInAngularZone(),i(function(){t._isZoneStable=!0,t._runCallbacksIfReady()})}})})},t.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},t.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},t.prototype.isStable=function(){return this._isZoneStable&&0==this._pendingCount&&!this._ngZone.hasPendingMacrotasks},t.prototype._runCallbacksIfReady=function(){var t=this;this.isStable()?i(function(){for(;0!==t._callbacks.length;)t._callbacks.pop()(t._didWork);t._didWork=!1}):this._didWork=!0},t.prototype.whenStable=function(t){this._callbacks.push(t),this._runCallbacksIfReady()},t.prototype.getPendingRequestCount=function(){return this._pendingCount},t.prototype.findBindings=function(t,e,n){return[]},t.prototype.findProviders=function(t,e,n){return[]},t}();zo.decorators=[{type:Ii}],zo.ctorParameters=function(){return[{type:Ho}]};var Go=function(){function t(){this._applications=new Map,Xo.addToWindow(this)}return t.prototype.registerApplication=function(t,e){this._applications.set(t,e)},t.prototype.getTestability=function(t){return this._applications.get(t)||null},t.prototype.getAllTestabilities=function(){return Array.from(this._applications.values())},t.prototype.getAllRootElements=function(){return Array.from(this._applications.keys())},t.prototype.findTestabilityInTree=function(t,e){return void 0===e&&(e=!0),Xo.findTestabilityInTree(this,t,e)},t}();Go.decorators=[{type:Ii}],Go.ctorParameters=function(){return[]};var Wo,qo=function(){function t(){}return t.prototype.addToWindow=function(t){},t.prototype.findTestabilityInTree=function(t,e,n){return null},t}(),Xo=new qo,Yo=!0,Zo=!1,Qo=new ti("AllowMultipleToken"),Ko=function(){function t(t,e){this.name=t,this.token=e}return t}(),Jo=function(){function t(){}return t.prototype.bootstrapModuleFactory=function(t){},t.prototype.bootstrapModule=function(t,e){},t.prototype.onDestroy=function(t){},t.prototype.injector=function(){},t.prototype.destroy=function(){},t.prototype.destroyed=function(){},t}(),$o=function(t){function e(e){var n=t.call(this)||this;return n._injector=e,n._modules=[],n._destroyListeners=[],n._destroyed=!1,n}return Jr(e,t),e.prototype.onDestroy=function(t){this._destroyListeners.push(t)},Object.defineProperty(e.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(t){return t.destroy()}),this._destroyListeners.forEach(function(t){return t()}),this._destroyed=!0},e.prototype.bootstrapModuleFactory=function(t){return this._bootstrapModuleFactoryWithZone(t)},e.prototype._bootstrapModuleFactoryWithZone=function(t,e){var n=this;return e||(e=new Ho({enableLongStackTrace:st()})),e.run(function(){var r=so.resolveAndCreate([{provide:Ho,useValue:e}],n.injector),i=t.create(r),o=i.injector.get(Wi,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(function(){return ft(n._modules,i)}),e.onError.subscribe({next:function(t){o.handleError(t)}}),ht(o,function(){return i.injector.get(lo).donePromise.then(function(){return n._moduleDoBootstrap(i),i})})})},e.prototype.bootstrapModule=function(t,e){return void 0===e&&(e=[]),this._bootstrapModuleWithZone(t,e)},e.prototype._bootstrapModuleWithZone=function(t,e,n){var r=this;return void 0===e&&(e=[]),this.injector.get(xo).createCompiler(Array.isArray(e)?e:[e]).compileModuleAsync(t).then(function(t){return r._bootstrapModuleFactoryWithZone(t,n)})},e.prototype._moduleDoBootstrap=function(t){var e=t.injector.get(ts);if(t.bootstrapFactories.length>0)t.bootstrapFactories.forEach(function(t){return e.bootstrap(t)});else{if(!t.instance.ngDoBootstrap)throw new Error("The module "+s(t.instance.constructor)+' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.');t.instance.ngDoBootstrap(e)}this._modules.push(t)},e}(Jo);$o.decorators=[{type:Ii}],$o.ctorParameters=function(){return[{type:Bi}]};var ts=function(){function t(){}return t.prototype.bootstrap=function(t){},t.prototype.tick=function(){},t.prototype.componentTypes=function(){},t.prototype.components=function(){},t.prototype.attachView=function(t){},t.prototype.detachView=function(t){},t.prototype.viewCount=function(){},t.prototype.isStable=function(){},t}(),es=function(t){function e(e,r,o,s,a,u){var c=t.call(this)||this;c._zone=e,c._console=r,c._injector=o,c._exceptionHandler=s,c._componentFactoryResolver=a,c._initStatus=u,c._bootstrapListeners=[],c._rootComponents=[],c._rootComponentTypes=[],c._views=[],c._runningTick=!1,c._enforceNoNewChanges=!1,c._stable=!0,c._enforceNoNewChanges=st(),c._zone.onMicrotaskEmpty.subscribe({next:function(){c._zone.run(function(){c.tick()})}});var l=new Yr.Observable(function(t){c._stable=c._zone.isStable&&!c._zone.hasPendingMacrotasks&&!c._zone.hasPendingMicrotasks,c._zone.runOutsideAngular(function(){t.next(c._stable),t.complete()})}),p=new Yr.Observable(function(t){var e=c._zone.onStable.subscribe(function(){Ho.assertNotInAngularZone(),i(function(){c._stable||c._zone.hasPendingMacrotasks||c._zone.hasPendingMicrotasks||(c._stable=!0,t.next(!0))})}),n=c._zone.onUnstable.subscribe(function(){Ho.assertInAngularZone(),c._stable&&(c._stable=!1,c._zone.runOutsideAngular(function(){t.next(!1)}))});return function(){e.unsubscribe(),n.unsubscribe()}});return c._isStable=n.i(Zr.merge)(l,Qr.share.call(p)),c}return Jr(e,t),e.prototype.attachView=function(t){var e=t;this._views.push(e),e.attachToAppRef(this)},e.prototype.detachView=function(t){var e=t;ft(this._views,e),e.detachFromAppRef()},e.prototype.bootstrap=function(t){var e=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");var n;n=t instanceof So?t:this._componentFactoryResolver.resolveComponentFactory(t),this._rootComponentTypes.push(n.componentType);var r=n instanceof Oo?null:this._injector.get(Lo),i=n.create(Bi.NULL,[],n.selector,r);i.onDestroy(function(){e._unloadComponent(i)});var o=i.injector.get(zo,null);return o&&i.injector.get(Go).registerApplication(i.location.nativeElement,o),this._loadComponent(i),st()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),i},e.prototype._loadComponent=function(t){this.attachView(t.hostView),this.tick(),this._rootComponents.push(t),this._injector.get(vo,[]).concat(this._bootstrapListeners).forEach(function(e){return e(t)})},e.prototype._unloadComponent=function(t){this.detachView(t.hostView),ft(this._rootComponents,t)},e.prototype.tick=function(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var t=e._tickScope();try{this._runningTick=!0,this._views.forEach(function(t){return t.detectChanges()}),this._enforceNoNewChanges&&this._views.forEach(function(t){return t.checkNoChanges()})}finally{this._runningTick=!1,Fo(t)}},e.prototype.ngOnDestroy=function(){this._views.slice().forEach(function(t){return t.destroy()})},Object.defineProperty(e.prototype,"viewCount",{get:function(){return this._views.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentTypes",{get:function(){return this._rootComponentTypes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"components",{get:function(){return this._rootComponents},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isStable",{get:function(){return this._isStable},enumerable:!0,configurable:!0}),e}(ts);es._tickScope=jo("ApplicationRef#tick()"),es.decorators=[{type:Ii}],es.ctorParameters=function(){return[{type:Ho},{type:yo},{type:Bi},{type:Wi},{type:To},{type:lo}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var ns=function(){function t(t,e,n,r,i,o){this.id=t,this.templateUrl=e,this.slotCount=n,this.encapsulation=r,this.styles=i,this.animations=o}return t}(),rs=function(){function t(){}return t.prototype.injector=function(){},t.prototype.component=function(){},t.prototype.providerTokens=function(){},t.prototype.references=function(){},t.prototype.context=function(){},t.prototype.source=function(){},t}(),is=function(){function t(){}return t.prototype.selectRootElement=function(t,e){},t.prototype.createElement=function(t,e,n){},t.prototype.createViewRoot=function(t){},t.prototype.createTemplateAnchor=function(t,e){},t.prototype.createText=function(t,e,n){},t.prototype.projectNodes=function(t,e){},t.prototype.attachViewAfter=function(t,e){},t.prototype.detachView=function(t){},t.prototype.destroyView=function(t,e){},t.prototype.listen=function(t,e,n){},t.prototype.listenGlobal=function(t,e,n){},t.prototype.setElementProperty=function(t,e,n){},t.prototype.setElementAttribute=function(t,e,n){},t.prototype.setBindingDebugInfo=function(t,e,n){},t.prototype.setElementClass=function(t,e,n){},t.prototype.setElementStyle=function(t,e,n){},t.prototype.invokeElementMethod=function(t,e,n){},t.prototype.setText=function(t,e){},t.prototype.animate=function(t,e,n,r,i,o,s){},t}(),os=(new ti("Renderer2Interceptor"),function(){function t(){}return t.prototype.renderComponent=function(t){},t}()),ss=function(){function t(){}return t.prototype.createRenderer=function(t,e){},t}(),as={};as.Important=1,as.DashCase=2,as[as.Important]="Important",as[as.DashCase]="DashCase";var us=function(){function t(){}return t.prototype.data=function(){},t.prototype.destroy=function(){},t.prototype.createElement=function(t,e){},t.prototype.createComment=function(t){},t.prototype.createText=function(t){},t.prototype.appendChild=function(t,e){},t.prototype.insertBefore=function(t,e,n){},t.prototype.removeChild=function(t,e){},t.prototype.selectRootElement=function(t){},t.prototype.parentNode=function(t){},t.prototype.nextSibling=function(t){},t.prototype.setAttribute=function(t,e,n,r){},t.prototype.removeAttribute=function(t,e,n){},t.prototype.addClass=function(t,e){},t.prototype.removeClass=function(t,e){},t.prototype.setStyle=function(t,e,n,r){},t.prototype.removeStyle=function(t,e,n){},t.prototype.setProperty=function(t,e,n){},t.prototype.setValue=function(t,e){},t.prototype.listen=function(t,e,n){},t}(),cs=function(){function t(t){this.nativeElement=t}return t}(),ls=function(){function t(){}return t.prototype.load=function(t){},t}(),ps=new Map,hs=function(){function t(){this._dirty=!0,this._results=[],this._emitter=new Vo}return Object.defineProperty(t.prototype,"changes",{get:function(){return this._emitter},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this._results.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"first",{get:function(){return this._results[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){return this._results[this.length-1]},enumerable:!0,configurable:!0}),t.prototype.map=function(t){return this._results.map(t)},t.prototype.filter=function(t){return this._results.filter(t)},t.prototype.find=function(t){return this._results.find(t)},t.prototype.reduce=function(t,e){return this._results.reduce(t,e)},t.prototype.forEach=function(t){this._results.forEach(t)},t.prototype.some=function(t){return this._results.some(t)},t.prototype.toArray=function(){return this._results.slice()},t.prototype[r()]=function(){return this._results[r()]()},t.prototype.toString=function(){return this._results.toString()},t.prototype.reset=function(t){this._results=vt(t),this._dirty=!1},t.prototype.notifyOnChanges=function(){this._emitter.emit(this)},t.prototype.setDirty=function(){this._dirty=!0},Object.defineProperty(t.prototype,"dirty",{get:function(){return this._dirty},enumerable:!0,configurable:!0}),t}(),fs="#",ds="NgFactory",ms=function(){function t(){}return t}(),vs={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},gs=function(){function t(t,e){this._compiler=t,this._config=e||vs}return t.prototype.load=function(t){return this._compiler instanceof bo?this.loadFactory(t):this.loadAndCompile(t)},t.prototype.loadAndCompile=function(t){var e=this,r=t.split(fs),i=r[0],o=r[1];return void 0===o&&(o="default"),n("./node_modules/@angular/core/@angular async recursive")(i).then(function(t){return t[o]}).then(function(t){return gt(t,i,o)}).then(function(t){return e._compiler.compileModuleAsync(t)})},t.prototype.loadFactory=function(t){var e=t.split(fs),r=e[0],i=e[1],o=ds;return void 0===i&&(i="default",o=""),n("./node_modules/@angular/core/@angular async recursive")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then(function(t){return t[i+o]}).then(function(t){return gt(t,r,i)})},t}();gs.decorators=[{type:Ii}],gs.ctorParameters=function(){return[{type:bo},{type:ms,decorators:[{type:Li}]}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var ys=function(){function t(){}return t.prototype.elementRef=function(){},t.prototype.createEmbeddedView=function(t){},t}(),_s=function(){function t(){}return t.prototype.element=function(){},t.prototype.injector=function(){},t.prototype.parentInjector=function(){},t.prototype.clear=function(){},t.prototype.get=function(t){},t.prototype.length=function(){},t.prototype.createEmbeddedView=function(t,e,n){},t.prototype.createComponent=function(t,e,n,r,i){},t.prototype.insert=function(t,e){},t.prototype.move=function(t,e){},t.prototype.indexOf=function(t){},t.prototype.remove=function(t){},t.prototype.detach=function(t){},t}(),bs=function(){function t(){}return t.prototype.markForCheck=function(){},t.prototype.detach=function(){},t.prototype.detectChanges=function(){},t.prototype.checkNoChanges=function(){},t.prototype.reattach=function(){},t}(),ws=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Jr(e,t),e.prototype.destroy=function(){},e.prototype.destroyed=function(){},e.prototype.onDestroy=function(t){},e}(bs),xs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Jr(e,t),e.prototype.context=function(){},e.prototype.rootNodes=function(){},e}(ws),Es=function(){function t(t,e){this.name=t,this.callback=e}return t}(),Ss=function(){function t(t,e,n){this._debugContext=n,this.nativeNode=t,e&&e instanceof Ms?e.addChild(this):this.parent=null,this.listeners=[]}return Object.defineProperty(t.prototype,"injector",{get:function(){return this._debugContext.injector},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentInstance",{get:function(){return this._debugContext.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._debugContext.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){return this._debugContext.references},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){return this._debugContext.providerTokens},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"source",{get:function(){return"Deprecated since v4"},enumerable:!0,configurable:!0}),t}(),Ms=function(t){function e(e,n,r){var i=t.call(this,e,n,r)||this;return i.properties={},i.attributes={},i.classes={},i.styles={},i.childNodes=[],i.nativeElement=e,i}return Jr(e,t),e.prototype.addChild=function(t){t&&(this.childNodes.push(t),t.parent=this)},e.prototype.removeChild=function(t){var e=this.childNodes.indexOf(t);e!==-1&&(t.parent=null,this.childNodes.splice(e,1))},e.prototype.insertChildrenAfter=function(t,e){var n=this,r=this.childNodes.indexOf(t);r!==-1&&((i=this.childNodes).splice.apply(i,[r+1,0].concat(e)),e.forEach(function(t){t.parent&&t.parent.removeChild(t),t.parent=n}));var i},e.prototype.insertBefore=function(t,e){var n=this.childNodes.indexOf(t);n===-1?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))},e.prototype.query=function(t){return this.queryAll(t)[0]||null},e.prototype.queryAll=function(t){var e=[];return _t(this,t,e),e},e.prototype.queryAllNodes=function(t){var e=[];return bt(this,t,e),e},Object.defineProperty(e.prototype,"children",{get:function(){return this.childNodes.filter(function(t){return t instanceof e})},enumerable:!0,configurable:!0}),e.prototype.triggerEventHandler=function(t,e){this.listeners.forEach(function(n){n.name==t&&n.callback(e)})},e}(Ss),Cs=new Map,Ts=function(){function t(t){this.wrapped=t}return t.wrap=function(e){return new t(e)},t}(),As=function(){function t(){this.hasWrappedValue=!1}return t.prototype.unwrap=function(t){return t instanceof Ts?(this.hasWrappedValue=!0,t.wrapped):t},t.prototype.reset=function(){this.hasWrappedValue=!1},t}(),Ps=function(){function t(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}return t.prototype.isFirstChange=function(){return this.firstChange},t}(),Rs=function(){function t(){}return t.prototype.supports=function(t){return Mt(t)},t.prototype.create=function(t,e){return new Ls(e||t)},t}(),Os=function(t,e){return e},Ls=function(){function t(t){this._length=0,this._collection=null,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Os}return Object.defineProperty(t.prototype,"collection",{get:function(){return this._collection},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),t.prototype.forEachItem=function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)},t.prototype.forEachOperation=function(t){for(var e=this._itHead,n=this._removalsHead,r=0,i=null;e||n;){var o=!n||e&&e.currentIndex<Pt(n,r,i)?e:n,s=Pt(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);var u=s-r,c=a-r;if(u!=c){for(var l=0;l<u;l++){var p=l<i.length?i[l]:i[l]=0,h=p+l;c<=h&&h<u&&(i[l]=p+1)}var f=o.previousIndex;i[f]=c-u}}s!==a&&t(o,s,a)}},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachMovedItem=function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.forEachIdentityChange=function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)},t.prototype.diff=function(t){if(null==t&&(t=[]),!Mt(t))throw new Error("Error trying to diff '"+s(t)+"'. Only arrays and iterables are allowed");return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n,r,i,s=this._itHead,a=!1;if(Array.isArray(t)){this._length=t.length;for(var u=0;u<this._length;u++)r=t[u],i=this._trackByFn(u,r),null!==s&&o(s.trackById,i)?(a&&(s=this._verifyReinsertion(s,r,i,u)),o(s.item,r)||this._addIdentityChange(s,r)):(s=this._mismatch(s,r,i,u),a=!0),s=s._next}else n=0,Tt(t,function(t){i=e._trackByFn(n,t),null!==s&&o(s.trackById,i)?(a&&(s=e._verifyReinsertion(s,t,i,n)),o(s.item,t)||e._addIdentityChange(s,t)):(s=e._mismatch(s,t,i,n),a=!0),s=s._next,n++}),this._length=n;return this._truncate(s),this._collection=t,this.isDirty},Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),t.prototype._reset=function(){if(this.isDirty){var t=void 0,e=void 0;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},t.prototype._mismatch=function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),t=null===this._linkedRecords?null:this._linkedRecords.get(n,r),null!==t?(o(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null),null!==t?(o(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Is(e,n),i,r)),t},t.prototype._verifyReinsertion=function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t},t.prototype._truncate=function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},t.prototype._reinsertAfter=function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._moveAfter=function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._addAfter=function(t,e,n){return this._insertAfter(t,e,n),null===this._additionsTail?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t},t.prototype._insertAfter=function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Ds),this._linkedRecords.put(t),t.currentIndex=n,t},t.prototype._remove=function(t){return this._addToRemovals(this._unlink(t))},t.prototype._unlink=function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t},t.prototype._addToMoves=function(t,e){return t.previousIndex===e?t:(null===this._movesTail?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t,t)},t.prototype._addToRemovals=function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ds),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t},t.prototype._addIdentityChange=function(t,e){return t.item=e,null===this._identityChangesTail?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t},t.prototype.toString=function(){var t=[];this.forEachItem(function(e){return t.push(e)});var e=[];this.forEachPreviousItem(function(t){return e.push(t)});var n=[];this.forEachAddedItem(function(t){return n.push(t)});var r=[];this.forEachMovedItem(function(t){return r.push(t)});var i=[];this.forEachRemovedItem(function(t){return i.push(t)});var o=[];return this.forEachIdentityChange(function(t){return o.push(t)}),"collection: "+t.join(", ")+"\nprevious: "+e.join(", ")+"\nadditions: "+n.join(", ")+"\nmoves: "+r.join(", ")+"\nremovals: "+i.join(", ")+"\nidentityChanges: "+o.join(", ")+"\n"},t}(),Is=function(){function t(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}return t.prototype.toString=function(){return this.previousIndex===this.currentIndex?s(this.item):s(this.item)+"["+s(this.previousIndex)+"->"+s(this.currentIndex)+"]"},t}(),Ns=function(){function t(){this._head=null,this._tail=null}return t.prototype.add=function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)},t.prototype.get=function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<n.currentIndex)&&o(n.trackById,t))return n;return null},t.prototype.remove=function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head},t}(),Ds=function(){function t(){this.map=new Map}return t.prototype.put=function(t){var e=t.trackById,n=this.map.get(e);n||(n=new Ns,this.map.set(e,n)),n.add(t)},t.prototype.get=function(t,e){var n=t,r=this.map.get(n);return r?r.get(t,e):null},t.prototype.remove=function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this.map.clear()},t.prototype.toString=function(){return"_DuplicateMap("+s(this.map)+")"},t}(),ks=function(){function t(){}return t.prototype.supports=function(t){return t instanceof Map||At(t)},t.prototype.create=function(t){return new js},t}(),js=function(){function t(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),t.prototype.forEachItem=function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachChangedItem=function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.diff=function(t){if(t){if(!(t instanceof Map||At(t)))throw new Error("Error trying to diff '"+s(t)+"'. Only maps and objects are allowed")}else t=new Map;return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var i=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n,this._removalsTail=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this.isDirty},t.prototype._insertBeforeOrAppend=function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null},t.prototype._getOrCreateRecordForKey=function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new Fs(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o},t.prototype._reset=function(){if(this.isDirty){var t=void 0;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=this._removalsTail=null}},t.prototype._maybeAddToChanges=function(t,e){o(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))},t.prototype._addToAdditions=function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)},t.prototype._addToChanges=function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)},t.prototype.toString=function(){var t,e=[],n=[],r=[],i=[],o=[];for(t=this._mapHead;null!==t;t=t._next)e.push(s(t));for(t=this._previousMapHead;null!==t;t=t._nextPrevious)n.push(s(t));for(t=this._changesHead;null!==t;t=t._nextChanged)r.push(s(t));for(t=this._additionsHead;null!==t;t=t._nextAdded)i.push(s(t));for(t=this._removalsHead;null!==t;t=t._nextRemoved)o.push(s(t));return"map: "+e.join(", ")+"\nprevious: "+n.join(", ")+"\nadditions: "+i.join(", ")+"\nchanges: "+r.join(", ")+"\nremovals: "+o.join(", ")+"\n"},t.prototype._forEach=function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(function(n){return e(t[n],n)})},t}(),Fs=function(){function t(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}return t.prototype.toString=function(){return o(this.previousValue,this.currentValue)?s(this.key):s(this.key)+"["+s(this.previousValue)+"->"+s(this.currentValue)+"]"},t}(),Us=function(){function t(t){this.factories=t}return t.create=function(e,n){if(null!=n){var r=n.factories.slice();return e=e.concat(r),new t(e)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new Di,new Li]]}},t.prototype.find=function(t){var e=this.factories.find(function(e){return e.supports(t)});if(null!=e)return e;throw new Error("Cannot find a differ supporting object '"+t+"' of type '"+Rt(t)+"'")},t}(),Bs=function(){function t(t){this.factories=t}return t.create=function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new Di,new Li]]}},t.prototype.find=function(t){var e=this.factories.find(function(e){return e.supports(t)});if(e)return e;throw new Error("Cannot find a differ supporting object '"+t+"'")},t}(),Vs=[new ks],Hs=[new Rs],zs=new Us(Hs),Gs=new Bs(Vs),Ws=[{provide:mo,useValue:"unknown"},$o,{provide:Jo,useExisting:$o},{provide:$i,useFactory:Ot,deps:[]},{provide:Ji,useExisting:$i},Go,yo],qs=ut(null,"core",Ws),Xs=new ti("LocaleId"),Ys=new ti("Translations"),Zs=new ti("TranslationsFormat"),Qs={};Qs.Error=0,Qs.Warning=1,Qs.Ignore=2,Qs[Qs.Error]="Error",Qs[Qs.Warning]="Warning",Qs[Qs.Ignore]="Ignore";var Ks={};Ks.NONE=0,Ks.HTML=1,Ks.STYLE=2,Ks.SCRIPT=3,Ks.URL=4,Ks.RESOURCE_URL=5,Ks[Ks.NONE]="NONE",Ks[Ks.HTML]="HTML",Ks[Ks.STYLE]="STYLE",Ks[Ks.SCRIPT]="SCRIPT",Ks[Ks.URL]="URL",Ks[Ks.RESOURCE_URL]="RESOURCE_URL";var Js=function(){function t(){}return t.prototype.sanitize=function(t,e){},t}(),$s=function(){function t(){}return t.prototype.view=function(){},t.prototype.nodeIndex=function(){},t.prototype.injector=function(){},t.prototype.component=function(){},t.prototype.providerTokens=function(){},t.prototype.references=function(){},t.prototype.context=function(){},t.prototype.componentRenderElement=function(){},t.prototype.renderNode=function(){},t.prototype.logError=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n]},t}(),ta={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},ea=function(){},na=new Map,ra="$$undefined",ia="$$empty",oa=0,sa=new WeakMap,aa=/^:([^:]+):(.+)$/,ua=[],ca={},la=new Object,pa=function(t){function e(e,n,r,i,o,s){var a=t.call(this)||this;return a.selector=e,a.componentType=n,a._inputs=i,a._outputs=o,a.ngContentSelectors=s,a.viewDefFactory=r,a}return Jr(e,t),Object.defineProperty(e.prototype,"inputs",{get:function(){var t=[];for(var e in this._inputs){var n=this._inputs[e];t.push({propName:e,templateName:n})}return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){var t=[];for(var e in this._outputs){var n=this._outputs[e];t.push({propName:e,templateName:n})}return t},enumerable:!0,configurable:!0}),e.prototype.create=function(t,e,n,r){if(!r)throw new Error("ngModule should be provided");var i=ae(this.viewDefFactory),o=i.nodes[0].element.componentProvider.index,s=ta.createRootView(t,e||[],n,i,r,la),a=Nt(s,o).instance;return s.renderer.setAttribute(It(s,0).renderElement,"ng-version",Ri.full),new ha(s,new da(s),a)},e}(So),ha=function(t){function e(e,n,r){var i=t.call(this)||this;return i._view=e,i._viewRef=n,i._component=r,i._elDef=i._view.def.nodes[0],i}return Jr(e,t),Object.defineProperty(e.prototype,"location",{get:function(){return new cs(It(this._view,this._elDef.index).renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return new va(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"instance",{get:function(){return this._component},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hostView",{get:function(){return this._viewRef},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"changeDetectorRef",{get:function(){return this._viewRef},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentType",{get:function(){return this._component.constructor},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this._viewRef.destroy()},e.prototype.onDestroy=function(t){this._viewRef.onDestroy(t)},e}(Eo),fa=function(){function t(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}return Object.defineProperty(t.prototype,"element",{get:function(){return new cs(this._data.renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return new va(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentInjector",{get:function(){for(var t=this._view,e=this._elDef.parent;!e&&t;)e=$t(t),t=t.parent;return t?new va(t,e):new va(this._view,null)},enumerable:!0,configurable:!0}),t.prototype.clear=function(){for(var t=this._embeddedViews.length,e=t-1;e>=0;e--){var n=Ne(this._data,e);ta.destroyView(n)}},t.prototype.get=function(t){var e=this._embeddedViews[t];if(e){var n=new da(e);return n.attachToViewContainerRef(this),n}return null},Object.defineProperty(t.prototype,"length",{get:function(){return this._embeddedViews.length},enumerable:!0,configurable:!0}),t.prototype.createEmbeddedView=function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r},t.prototype.createComponent=function(t,e,n,r,i){var o=n||this.parentInjector;i||t instanceof Oo||(i=o.get(Lo));var s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s},t.prototype.insert=function(t,e){var n=t,r=n._view;return Ie(this._view,this._data,e,r),n.attachToViewContainerRef(this),t},t.prototype.move=function(t,e){var n=this._embeddedViews.indexOf(t._view);return De(this._data,n,e),t},t.prototype.indexOf=function(t){return this._embeddedViews.indexOf(t._view)},t.prototype.remove=function(t){var e=Ne(this._data,t);e&&ta.destroyView(e)},t.prototype.detach=function(t){var e=Ne(this._data,t);return e?new da(e):null},t}(),da=function(){function t(t){this._view=t,this._viewContainerRef=null,this._appRef=null}return Object.defineProperty(t.prototype,"rootNodes",{get:function(){return ue(this._view)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{get:function(){return 0!=(8&this._view.state)},enumerable:!0,configurable:!0}),t.prototype.markForCheck=function(){Qt(this._view)},t.prototype.detach=function(){this._view.state&=-3},t.prototype.detectChanges=function(){ta.checkAndUpdateView(this._view)},t.prototype.checkNoChanges=function(){ta.checkNoChangesView(this._view)},t.prototype.reattach=function(){this._view.state|=2},t.prototype.onDestroy=function(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)},t.prototype.destroy=function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),ta.destroyView(this._view)},t.prototype.detachFromAppRef=function(){this._appRef=null,je(this._view),ta.dirtyParentQueries(this._view)},t.prototype.attachToAppRef=function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t},t.prototype.attachToViewContainerRef=function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t},t}(),ma=function(t){function e(e,n){var r=t.call(this)||this;return r._parentView=e,r._def=n,r}return Jr(e,t),e.prototype.createEmbeddedView=function(t){return new da(ta.createEmbeddedView(this._parentView,this._def,t))},Object.defineProperty(e.prototype,"elementRef",{get:function(){return new cs(It(this._parentView,this._def.index).renderElement)},enumerable:!0,configurable:!0}),e}(ys),va=function(){function t(t,e){this.view=t,this.elDef=e}return t.prototype.get=function(t,e){void 0===e&&(e=Bi.THROW_IF_NOT_FOUND);var n=!!this.elDef&&0!=(16777216&this.elDef.flags);return ta.resolveDep(this.view,this.elDef,n,{flags:0,token:t,tokenKey:zt(t)},e)},t}(),ga=function(){function t(t){this.delegate=t}return t.prototype.selectRootElement=function(t){return this.delegate.selectRootElement(t)},t.prototype.createElement=function(t,e){var n=de(e),r=n[0],i=n[1],o=this.delegate.createElement(i,r);return t&&this.delegate.appendChild(t,o),o},t.prototype.createViewRoot=function(t){return t},t.prototype.createTemplateAnchor=function(t){var e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e},t.prototype.createText=function(t,e){var n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n},t.prototype.projectNodes=function(t,e){for(var n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])},t.prototype.attachViewAfter=function(t,e){for(var n=this.delegate.parentNode(t),r=this.delegate.nextSibling(t),i=0;i<e.length;i++)this.delegate.insertBefore(n,e[i],r)},t.prototype.detachView=function(t){for(var e=0;e<t.length;e++){var n=t[e],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}},t.prototype.destroyView=function(t,e){for(var n=0;n<e.length;n++)this.delegate.destroyNode(e[n])},t.prototype.listen=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.listenGlobal=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.setElementProperty=function(t,e,n){this.delegate.setProperty(t,e,n)},t.prototype.setElementAttribute=function(t,e,n){var r=de(e),i=r[0],o=r[1];null!=n?this.delegate.setAttribute(t,o,n,i):this.delegate.removeAttribute(t,o,i)},t.prototype.setBindingDebugInfo=function(t,e,n){},t.prototype.setElementClass=function(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)},t.prototype.setElementStyle=function(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)},t.prototype.invokeElementMethod=function(t,e,n){t[e].apply(t,n)},t.prototype.setText=function(t,e){this.delegate.setValue(t,e)},t.prototype.animate=function(){throw new Error("Renderer.animate is no longer supported!")},t}(),ya=zt(is),_a=zt(us),ba=zt(cs),wa=zt(_s),xa=zt(ys),Ea=zt(bs),Sa=zt(Bi),Ma=new Object,Ca={},Ta={};Ta.CreateViewNodes=0,Ta.CheckNoChanges=1,Ta.CheckAndUpdate=2,Ta.Destroy=3,Ta[Ta.CreateViewNodes]="CreateViewNodes",Ta[Ta.CheckNoChanges]="CheckNoChanges",Ta[Ta.CheckAndUpdate]="CheckAndUpdate",Ta[Ta.Destroy]="Destroy";/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var Aa=!1,Pa={};Pa.create=0,Pa.detectChanges=1,Pa.checkNoChanges=2,Pa.destroy=3,Pa.handleEvent=4,Pa[Pa.create]="create",Pa[Pa.detectChanges]="detectChanges",Pa[Pa.checkNoChanges]="checkNoChanges",Pa[Pa.destroy]="destroy",Pa[Pa.handleEvent]="handleEvent";var Ra,Oa,La,Ia=/([A-Z])/g,Na=function(){function t(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];for(var n=this.nodeDef,r=t;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=$t(r),r=r.parent;this.elDef=n,this.elView=r}return Object.defineProperty(t.prototype,"elOrCompView",{get:function(){return It(this.elView,this.elDef.index).componentView||this.view},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return We(this.elView,this.elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){return this.elOrCompView.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this.elOrCompView.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){var t=[];if(this.elDef)for(var e=this.elDef.index+1;e<=this.elDef.index+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];10112&n.flags&&t.push(n.provider.token),e+=n.childCount}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){var t={};if(this.elDef){Mr(this.elView,this.elDef,t);for(var e=this.elDef.index+1;e<=this.elDef.index+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];10112&n.flags&&Mr(this.elView,n,t),e+=n.childCount}}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentRenderElement",{get:function(){var t=Sr(this.elOrCompView);return t?t.renderElement:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderNode",{get:function(){return 2&this.nodeDef.flags?te(this.view,this.nodeDef):te(this.elView,this.elDef)},enumerable:!0,configurable:!0}),t.prototype.logError=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r,i;2&this.nodeDef.flags?(r=this.view.def,i=this.nodeDef.index):(r=this.elView.def,i=this.elDef.index);var o=Er(r,i),s=-1,a=function(){return s++,s===o?(n=t.error).bind.apply(n,[t].concat(e)):ea;var n};r.factory(a),s<o&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error.apply(t,e))},t}(),Da=function(){function t(t){this.delegate=t}return t.prototype.createRenderer=function(t,e){return new ka(this.delegate.createRenderer(t,e))},t}(),ka=function(){function t(t){this.delegate=t}return Object.defineProperty(t.prototype,"data",{get:function(){return this.delegate.data},enumerable:!0,configurable:!0}),t.prototype.destroyNode=function(t){Et(wt(t)),this.delegate.destroyNode&&this.delegate.destroyNode(t)},t.prototype.destroy=function(){this.delegate.destroy()},t.prototype.createElement=function(t,e){var n=this.delegate.createElement(t,e),r=Tr();if(r){var i=new Ms(n,null,r);i.name=t,xt(i)}return n},t.prototype.createComment=function(t){var e=this.delegate.createComment(t),n=Tr();return n&&xt(new Ss(e,null,n)),e},t.prototype.createText=function(t){var e=this.delegate.createText(t),n=Tr();return n&&xt(new Ss(e,null,n)),e},t.prototype.appendChild=function(t,e){var n=wt(t),r=wt(e);n&&r&&n instanceof Ms&&n.addChild(r),this.delegate.appendChild(t,e)},t.prototype.insertBefore=function(t,e,n){var r=wt(t),i=wt(e),o=wt(n);r&&i&&r instanceof Ms&&r.insertBefore(o,i),this.delegate.insertBefore(t,e,n)},t.prototype.removeChild=function(t,e){var n=wt(t),r=wt(e);n&&r&&n instanceof Ms&&n.removeChild(r),this.delegate.removeChild(t,e)},t.prototype.selectRootElement=function(t){var e=this.delegate.selectRootElement(t),n=Tr();return n&&xt(new Ms(e,null,n)),e},t.prototype.setAttribute=function(t,e,n,r){var i=wt(t);if(i&&i instanceof Ms){var o=r?r+":"+e:e;i.attributes[o]=n}this.delegate.setAttribute(t,e,n,r)},t.prototype.removeAttribute=function(t,e,n){var r=wt(t);if(r&&r instanceof Ms){var i=n?n+":"+e:e;r.attributes[i]=null}this.delegate.removeAttribute(t,e,n)},t.prototype.addClass=function(t,e){var n=wt(t);n&&n instanceof Ms&&(n.classes[e]=!0),this.delegate.addClass(t,e)},t.prototype.removeClass=function(t,e){var n=wt(t);n&&n instanceof Ms&&(n.classes[e]=!1),this.delegate.removeClass(t,e)},t.prototype.setStyle=function(t,e,n,r){var i=wt(t);i&&i instanceof Ms&&(i.styles[e]=n),this.delegate.setStyle(t,e,n,r)},t.prototype.removeStyle=function(t,e,n){var r=wt(t);r&&r instanceof Ms&&(r.styles[e]=null),this.delegate.removeStyle(t,e,n)},t.prototype.setProperty=function(t,e,n){var r=wt(t);r&&r instanceof Ms&&(r.properties[e]=n),this.delegate.setProperty(t,e,n)},t.prototype.listen=function(t,e,n){if("string"!=typeof t){var r=wt(t);r&&r.listeners.push(new Es(e,n))}return this.delegate.listen(t,e,n)},t.prototype.parentNode=function(t){return this.delegate.parentNode(t)},t.prototype.nextSibling=function(t){return this.delegate.nextSibling(t)},t.prototype.setValue=function(t,e){return this.delegate.setValue(t,e)},t}(),ja=function(){function t(t){}return t}();ja.decorators=[{type:Ci,args:[{providers:[es,{provide:ts,useExisting:es},lo,bo,ho,{provide:Us,useFactory:Ar},{provide:Bs,useFactory:Pr},{provide:Xs,useFactory:Rr,deps:[[new Oi(Xs),new Li,new Di]]},{provide:co,useValue:Or,multi:!0}]}]}],ja.ctorParameters=function(){return[{type:ts}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var Fa={};Fa.OnInit=0,Fa.OnDestroy=1,Fa.DoCheck=2,Fa.OnChanges=3,Fa.AfterContentInit=4,Fa.AfterContentChecked=5,Fa.AfterViewInit=6,Fa.AfterViewChecked=7,Fa[Fa.OnInit]="OnInit",Fa[Fa.OnDestroy]="OnDestroy",Fa[Fa.DoCheck]="DoCheck",Fa[Fa.OnChanges]="OnChanges",Fa[Fa.AfterContentInit]="AfterContentInit",Fa[Fa.AfterContentChecked]="AfterContentChecked",Fa[Fa.AfterViewInit]="AfterViewInit",Fa[Fa.AfterViewChecked]="AfterViewChecked";var Ua=[Fa.OnInit,Fa.OnDestroy,Fa.DoCheck,Fa.OnChanges,Fa.AfterContentInit,Fa.AfterContentChecked,Fa.AfterViewInit,Fa.AfterViewChecked],Ba="*"}).call(e,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/@angular/platform-browser-dynamic/@angular/platform-browser-dynamic.es5.js":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("./node_modules/@angular/compiler/@angular/compiler.es5.js"),i=n("./node_modules/@angular/core/@angular/core.es5.js"),o=n("./node_modules/@angular/common/@angular/common.es5.js"),s=n("./node_modules/@angular/platform-browser/@angular/platform-browser.es5.js");n.d(e,"RESOURCE_CACHE_PROVIDER",function(){return h}),n.d(e,"platformBrowserDynamic",function(){return f}),n.d(e,"VERSION",function(){return p}),n.d(e,"ÉµINTERNAL_BROWSER_DYNAMIC_PLATFORM_PROVIDERS",function(){return c}),n.d(e,"ÉµResourceLoaderImpl",function(){return u});var a=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.get=function(t){var e,n,r=new Promise(function(t,r){e=t,n=r}),i=new XMLHttpRequest;return i.open("GET",t,!0),i.responseType="text",i.onload=function(){var r=i.response||i.responseText,o=1223===i.status?204:i.status;0===o&&(o=r?200:0),200<=o&&o<=300?e(r):n("Failed to load "+t)},i.onerror=function(){n("Failed to load "+t)},i.send(),r},e}(r.a);u.decorators=[{type:i.Injectable}],u.ctorParameters=function(){return[]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var c=[s["ÉµINTERNAL_BROWSER_PLATFORM_PROVIDERS"],{provide:i.COMPILER_OPTIONS,useValue:{providers:[{provide:r.a,useClass:u}]},multi:!0},{provide:i.PLATFORM_ID,useValue:o["ÉµPLATFORM_BROWSER_ID"]}],l=function(t){function e(){var e=t.call(this)||this;if(e._cache=i["Éµglobal"].$templateCache,null==e._cache)throw new Error("CachedResourceLoader: Template cache was not found in $templateCache.");return e}return a(e,t),e.prototype.get=function(t){return this._cache.hasOwnProperty(t)?Promise.resolve(this._cache[t]):Promise.reject("CachedResourceLoader: Did not find cached template for "+t)},e}(r.a),p=new i.Version("4.0.1"),h=[{provide:r.a,useClass:l}],f=n.i(i.createPlatformFactory)(r.b,"browserDynamic",c)},"./node_modules/@angular/platform-browser/@angular/platform-browser.es5.js":function(t,e,n){"use strict";function r(){return U}function i(t){U||(U=t)}function o(){return Y||(Y=document.querySelector("base"))?Y.getAttribute("href"):null}function s(t){return q||(q=document.createElement("a")),q.setAttribute("href",t),"/"===q.pathname.charAt(0)?q.pathname:"/"+q.pathname}function a(t,e){e=encodeURIComponent(e);for(var n=0,r=t.split(";");n<r.length;n++){var i=r[n],o=i.indexOf("="),s=o==-1?[i,""]:[i.slice(0,o),i.slice(o+1)],a=s[0],u=s[1];if(a.trim()===e)return decodeURIComponent(u)}return null}function u(t,e,n){for(var r=e.split("."),i=t;r.length>1;){var o=r.shift();i=i.hasOwnProperty(o)&&null!=i[o]?i[o]:i[o]={}}void 0!==i&&null!==i||(i={}),i[r.shift()]=n}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 * @return {?}
 */
function c(){return!!window.history.pushState}function l(t,e){return function(){var n=r();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter(function(e){return n.getAttribute(e,"ng-transition")===t}).forEach(function(t){return n.remove(t)})}}function p(t){return n.i(k.getDebugNode)(t)}function h(t,e){var n=(t||[]).concat(e||[]);return r().setGlobalVar(it,p),r().setGlobalVar(ot,nt({},rt,f(n||[]))),function(){return p}}function f(t){return t.reduce(function(t,e){return t[e.name]=e.token,t},{})}function d(t){return gt.replace(dt,t)}function m(t){return vt.replace(dt,t)}function v(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?v(t,i,n):(i=i.replace(dt,t),n.push(i))}return n}function g(t){return function(e){t(e)===!1&&(e.preventDefault(),e.returnValue=!1)}}function y(t,e){if(t.charCodeAt(0)===bt)throw new Error("Found the synthetic "+e+" "+t+'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.')}function _(t){return t=String(t),t.match(Ot)||t.match(Lt)?t:(n.i(k.isDevMode)()&&r().log("WARNING: sanitizing unsafe URL value "+t+" (see http://g.co/ng/security#xss)"),"unsafe:"+t)}function b(t){return t=String(t),t.split(",").map(function(t){return _(t.trim())}).join(", ")}function w(){if(It)return It;Nt=r();var t=Nt.createElement("template");if("content"in t)return t;var e=Nt.createHtmlDocument();if(null==(It=Nt.querySelector(e,"body"))){var n=Nt.createElement("html",e);It=Nt.createElement("body",e),Nt.appendChild(n,It),Nt.appendChild(e,n)}return It}function x(t){for(var e={},n=0,r=t.split(",");n<r.length;n++){e[r[n]]=!0}return e}function E(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n={},r=0,i=t;r<i.length;r++){var o=i[r];for(var s in o)o.hasOwnProperty(s)&&(n[s]=!0)}return n}function S(t,e){if(e&&Nt.contains(t,e))throw new Error("Failed to sanitize html because the element is clobbered: "+Nt.getOuterHTML(t));return e}function M(t){return t.replace(/&/g,"&amp;").replace(Xt,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Yt,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function C(t){Nt.attributeMap(t).forEach(function(e,n){"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||Nt.removeAttribute(t,n)});for(var e=0,n=Nt.childNodesAsList(t);e<n.length;e++){var r=n[e];Nt.isElementNode(r)&&C(r)}}function T(t,e){try{var r=w(),i=e?String(e):"",o=5,s=i;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,i=s,Nt.setInnerHTML(r,i),t.documentMode&&C(r),s=Nt.getInnerHTML(r)}while(i!==s);for(var a=new qt,u=a.sanitizeChildren(Nt.getTemplateContent(r)||r),c=Nt.getTemplateContent(r)||r,l=0,p=Nt.childNodesAsList(c);l<p.length;l++){var h=p[l];Nt.removeChild(c,h)}return n.i(k.isDevMode)()&&a.sanitizedSomething&&Nt.log("WARNING: sanitizing HTML stripped some content (see http://g.co/ng/security#xss)."),u}catch(t){throw It=null,t}}function A(t){for(var e=!0,n=!0,r=0;r<t.length;r++){var i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}function P(t){if(!(t=String(t).trim()))return"";var e=t.match(ne);return e&&_(e[1])===e[1]||t.match(ee)&&A(t)?t:(n.i(k.isDevMode)()&&r().log("WARNING: sanitizing unsafe style value "+t+" (see http://g.co/ng/security#xss)."),"unsafe")}function R(){X.makeCurrent(),tt.init()}function O(){return new k.ErrorHandler}function L(){return document}function I(t){return r().setGlobalVar(ye,new ge(t)),t}function N(){r().setGlobalVar(ye,null)}Object.defineProperty(e,"__esModule",{value:!0});var D=n("./node_modules/@angular/common/@angular/common.es5.js"),k=n("./node_modules/@angular/core/@angular/core.es5.js");n.d(e,"BrowserModule",function(){return de}),n.d(e,"platformBrowser",function(){return fe}),n.d(e,"Meta",function(){return K}),n.d(e,"Title",function(){return et}),n.d(e,"disableDebugTools",function(){return N}),n.d(e,"enableDebugTools",function(){return I}),n.d(e,"By",function(){return _e}),n.d(e,"NgProbeToken",function(){return st}),n.d(e,"DOCUMENT",function(){return Z}),n.d(e,"EVENT_MANAGER_PLUGINS",function(){return ut}),n.d(e,"EventManager",function(){return ct}),n.d(e,"HAMMER_GESTURE_CONFIG",function(){return Mt}),n.d(e,"HammerGestureConfig",function(){return Ct}),n.d(e,"DomSanitizer",function(){return re}),n.d(e,"VERSION",function(){return be}),n.d(e,"ÉµBROWSER_SANITIZATION_PROVIDERS",function(){return he}),n.d(e,"ÉµINTERNAL_BROWSER_PLATFORM_PROVIDERS",function(){return pe}),n.d(e,"ÉµinitDomAdapter",function(){return R}),n.d(e,"ÉµBrowserDomAdapter",function(){return X}),n.d(e,"ÉµsetValueOnPath",function(){return u}),n.d(e,"ÉµBrowserPlatformLocation",function(){return Q}),n.d(e,"ÉµTRANSITION_ID",function(){return J}),n.d(e,"ÉµBrowserGetTestability",function(){return tt}),n.d(e,"ÉµELEMENT_PROBE_PROVIDERS",function(){return at}),n.d(e,"ÉµDomAdapter",function(){return B}),n.d(e,"ÉµgetDOM",function(){return r}),n.d(e,"ÉµsetRootDomAdapter",function(){return i}),n.d(e,"ÉµDomRendererFactory2",function(){return yt}),n.d(e,"ÉµNAMESPACE_URIS",function(){return ft}),n.d(e,"ÉµflattenStyles",function(){return v}),n.d(e,"ÉµshimContentAttribute",function(){return d}),n.d(e,"ÉµshimHostAttribute",function(){return m}),n.d(e,"ÉµDomEventsPlugin",function(){return Et}),n.d(e,"ÉµHammerGesturesPlugin",function(){return Tt}),n.d(e,"ÉµKeyEventsPlugin",function(){return Rt}),n.d(e,"ÉµDomSharedStylesHost",function(){return ht}),n.d(e,"ÉµSharedStylesHost",function(){return pt}),n.d(e,"Éµb",function(){return L}),n.d(e,"Éµa",function(){return O}),n.d(e,"Éµh",function(){return V}),n.d(e,"Éµg",function(){return $}),n.d(e,"Éµf",function(){return l}),n.d(e,"Éµc",function(){return h}),n.d(e,"Éµd",function(){return lt}),n.d(e,"Éµe",function(){return ie});var j,F=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},U=null,B=function(){function t(){this.resourceLoaderType=null}return t.prototype.hasProperty=function(t,e){},t.prototype.setProperty=function(t,e,n){},t.prototype.getProperty=function(t,e){},t.prototype.invoke=function(t,e,n){},t.prototype.logError=function(t){},t.prototype.log=function(t){},t.prototype.logGroup=function(t){},t.prototype.logGroupEnd=function(){},Object.defineProperty(t.prototype,"attrToPropMap",{get:function(){return this._attrToPropMap},set:function(t){this._attrToPropMap=t},enumerable:!0,configurable:!0}),t.prototype.contains=function(t,e){},t.prototype.parse=function(t){},t.prototype.querySelector=function(t,e){},t.prototype.querySelectorAll=function(t,e){},t.prototype.on=function(t,e,n){},t.prototype.onAndCancel=function(t,e,n){},t.prototype.dispatchEvent=function(t,e){},t.prototype.createMouseEvent=function(t){},t.prototype.createEvent=function(t){},t.prototype.preventDefault=function(t){},t.prototype.isPrevented=function(t){},t.prototype.getInnerHTML=function(t){},t.prototype.getTemplateContent=function(t){},t.prototype.getOuterHTML=function(t){},t.prototype.nodeName=function(t){},t.prototype.nodeValue=function(t){},t.prototype.type=function(t){},t.prototype.content=function(t){},t.prototype.firstChild=function(t){},t.prototype.nextSibling=function(t){},t.prototype.parentElement=function(t){},t.prototype.childNodes=function(t){},t.prototype.childNodesAsList=function(t){},t.prototype.clearNodes=function(t){},t.prototype.appendChild=function(t,e){},t.prototype.removeChild=function(t,e){},t.prototype.replaceChild=function(t,e,n){},t.prototype.remove=function(t){},t.prototype.insertBefore=function(t,e,n){},t.prototype.insertAllBefore=function(t,e,n){},t.prototype.insertAfter=function(t,e,n){},t.prototype.setInnerHTML=function(t,e){},t.prototype.getText=function(t){},t.prototype.setText=function(t,e){},t.prototype.getValue=function(t){},t.prototype.setValue=function(t,e){},t.prototype.getChecked=function(t){},t.prototype.setChecked=function(t,e){},t.prototype.createComment=function(t){},t.prototype.createTemplate=function(t){},t.prototype.createElement=function(t,e){},t.prototype.createElementNS=function(t,e,n){},t.prototype.createTextNode=function(t,e){},t.prototype.createScriptTag=function(t,e,n){},t.prototype.createStyleElement=function(t,e){},t.prototype.createShadowRoot=function(t){},t.prototype.getShadowRoot=function(t){},t.prototype.getHost=function(t){},t.prototype.getDistributedNodes=function(t){},t.prototype.clone=function(t){},t.prototype.getElementsByClassName=function(t,e){},t.prototype.getElementsByTagName=function(t,e){},t.prototype.classList=function(t){},t.prototype.addClass=function(t,e){},t.prototype.removeClass=function(t,e){},t.prototype.hasClass=function(t,e){},t.prototype.setStyle=function(t,e,n){},t.prototype.removeStyle=function(t,e){},t.prototype.getStyle=function(t,e){},t.prototype.hasStyle=function(t,e,n){},t.prototype.tagName=function(t){},t.prototype.attributeMap=function(t){},t.prototype.hasAttribute=function(t,e){},t.prototype.hasAttributeNS=function(t,e,n){},t.prototype.getAttribute=function(t,e){},t.prototype.getAttributeNS=function(t,e,n){},t.prototype.setAttribute=function(t,e,n){},t.prototype.setAttributeNS=function(t,e,n,r){},t.prototype.removeAttribute=function(t,e){},t.prototype.removeAttributeNS=function(t,e,n){},t.prototype.templateAwareRoot=function(t){},t.prototype.createHtmlDocument=function(){},t.prototype.getBoundingClientRect=function(t){},t.prototype.getTitle=function(t){},t.prototype.setTitle=function(t,e){},t.prototype.elementMatches=function(t,e){},t.prototype.isTemplateElement=function(t){},t.prototype.isTextNode=function(t){},t.prototype.isCommentNode=function(t){},t.prototype.isElementNode=function(t){},t.prototype.hasShadowRoot=function(t){},t.prototype.isShadowRoot=function(t){},t.prototype.importIntoDoc=function(t){},t.prototype.adoptNode=function(t){},t.prototype.getHref=function(t){},t.prototype.getEventKey=function(t){},t.prototype.resolveAndSetHref=function(t,e,n){},t.prototype.supportsDOMEvents=function(){},t.prototype.supportsNativeShadowDOM=function(){},t.prototype.getGlobalEventTarget=function(t,e){},t.prototype.getHistory=function(){},t.prototype.getLocation=function(){},t.prototype.getBaseHref=function(t){},t.prototype.resetBaseElement=function(){},t.prototype.getUserAgent=function(){},t.prototype.setData=function(t,e,n){},t.prototype.getComputedStyle=function(t){},t.prototype.getData=function(t,e){},t.prototype.setGlobalVar=function(t,e){},t.prototype.supportsWebAnimation=function(){},t.prototype.performanceNow=function(){},t.prototype.getAnimationPrefix=function(){},t.prototype.getTransitionEnd=function(){},t.prototype.supportsAnimation=function(){},t.prototype.supportsCookies=function(){},t.prototype.getCookie=function(t){},t.prototype.setCookie=function(t,e){},t}(),V=function(t){function e(){var e=t.call(this)||this;e._animationPrefix=null,e._transitionEnd=null;try{var n=e.createElement("div",document);if(null!=e.getStyle(n,"animationName"))e._animationPrefix="";else for(var r=["Webkit","Moz","O","ms"],i=0;i<r.length;i++)if(null!=e.getStyle(n,r[i]+"AnimationName")){e._animationPrefix="-"+r[i].toLowerCase()+"-";break}var o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(o).forEach(function(t){null!=e.getStyle(n,t)&&(e._transitionEnd=o[t])})}catch(t){e._animationPrefix=null,e._transitionEnd=null}return e}return F(e,t),e.prototype.getDistributedNodes=function(t){return t.getDistributedNodes()},e.prototype.resolveAndSetHref=function(t,e,n){t.href=null==n?e:e+"/../"+n},e.prototype.supportsDOMEvents=function(){return!0},e.prototype.supportsNativeShadowDOM=function(){return"function"==typeof document.body.createShadowRoot},e.prototype.getAnimationPrefix=function(){return this._animationPrefix?this._animationPrefix:""},e.prototype.getTransitionEnd=function(){return this._transitionEnd?this._transitionEnd:""},e.prototype.supportsAnimation=function(){return null!=this._animationPrefix&&null!=this._transitionEnd},e}(B),H={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},z=3,G={"\b":"Backspace","\t":"Tab","":"Delete","":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},W={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","Â":"NumLock"};k["Éµglobal"].Node&&(j=k["Éµglobal"].Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))});var q,X=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return F(e,t),e.prototype.parse=function(t){throw new Error("parse not implemented")},e.makeCurrent=function(){i(new e)},e.prototype.hasProperty=function(t,e){return e in t},e.prototype.setProperty=function(t,e,n){t[e]=n},e.prototype.getProperty=function(t,e){return t[e]},e.prototype.invoke=function(t,e,n){t[e].apply(t,n)},e.prototype.logError=function(t){window.console&&(console.error?console.error(t):console.log(t))},e.prototype.log=function(t){window.console&&window.console.log&&window.console.log(t)},e.prototype.logGroup=function(t){window.console&&window.console.group&&window.console.group(t)},e.prototype.logGroupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(e.prototype,"attrToPropMap",{get:function(){return H},enumerable:!0,configurable:!0}),e.prototype.contains=function(t,e){return j.call(t,e)},e.prototype.querySelector=function(t,e){return t.querySelector(e)},e.prototype.querySelectorAll=function(t,e){return t.querySelectorAll(e)},e.prototype.on=function(t,e,n){t.addEventListener(e,n,!1)},e.prototype.onAndCancel=function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}},e.prototype.dispatchEvent=function(t,e){t.dispatchEvent(e)},e.prototype.createMouseEvent=function(t){var e=document.createEvent("MouseEvent");return e.initEvent(t,!0,!0),e},e.prototype.createEvent=function(t){var e=document.createEvent("Event");return e.initEvent(t,!0,!0),e},e.prototype.preventDefault=function(t){t.preventDefault(),t.returnValue=!1},e.prototype.isPrevented=function(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue},e.prototype.getInnerHTML=function(t){return t.innerHTML},e.prototype.getTemplateContent=function(t){return"content"in t&&t instanceof HTMLTemplateElement?t.content:null},e.prototype.getOuterHTML=function(t){return t.outerHTML},e.prototype.nodeName=function(t){return t.nodeName},e.prototype.nodeValue=function(t){return t.nodeValue},e.prototype.type=function(t){return t.type},e.prototype.content=function(t){return this.hasProperty(t,"content")?t.content:t},e.prototype.firstChild=function(t){return t.firstChild},e.prototype.nextSibling=function(t){return t.nextSibling},e.prototype.parentElement=function(t){return t.parentNode},e.prototype.childNodes=function(t){return t.childNodes},e.prototype.childNodesAsList=function(t){for(var e=t.childNodes,n=new Array(e.length),r=0;r<e.length;r++)n[r]=e[r];return n},e.prototype.clearNodes=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},e.prototype.appendChild=function(t,e){t.appendChild(e)},e.prototype.removeChild=function(t,e){t.removeChild(e)},e.prototype.replaceChild=function(t,e,n){t.replaceChild(e,n)},e.prototype.remove=function(t){return t.parentNode&&t.parentNode.removeChild(t),t},e.prototype.insertBefore=function(t,e,n){t.insertBefore(n,e)},e.prototype.insertAllBefore=function(t,e,n){n.forEach(function(n){return t.insertBefore(n,e)})},e.prototype.insertAfter=function(t,e,n){t.insertBefore(n,e.nextSibling)},e.prototype.setInnerHTML=function(t,e){t.innerHTML=e},e.prototype.getText=function(t){return t.textContent},e.prototype.setText=function(t,e){t.textContent=e},e.prototype.getValue=function(t){return t.value},e.prototype.setValue=function(t,e){t.value=e},e.prototype.getChecked=function(t){return t.checked},e.prototype.setChecked=function(t,e){t.checked=e},e.prototype.createComment=function(t){return document.createComment(t)},e.prototype.createTemplate=function(t){var e=document.createElement("template");return e.innerHTML=t,e},e.prototype.createElement=function(t,e){return void 0===e&&(e=document),e.createElement(t)},e.prototype.createElementNS=function(t,e,n){return void 0===n&&(n=document),n.createElementNS(t,e)},e.prototype.createTextNode=function(t,e){return void 0===e&&(e=document),e.createTextNode(t)},e.prototype.createScriptTag=function(t,e,n){void 0===n&&(n=document);var r=n.createElement("SCRIPT");return r.setAttribute(t,e),r},e.prototype.createStyleElement=function(t,e){void 0===e&&(e=document);var n=e.createElement("style");return this.appendChild(n,this.createTextNode(t)),n},e.prototype.createShadowRoot=function(t){return t.createShadowRoot()},e.prototype.getShadowRoot=function(t){return t.shadowRoot},e.prototype.getHost=function(t){return t.host},e.prototype.clone=function(t){return t.cloneNode(!0)},e.prototype.getElementsByClassName=function(t,e){return t.getElementsByClassName(e)},e.prototype.getElementsByTagName=function(t,e){return t.getElementsByTagName(e)},e.prototype.classList=function(t){return Array.prototype.slice.call(t.classList,0)},e.prototype.addClass=function(t,e){t.classList.add(e)},e.prototype.removeClass=function(t,e){t.classList.remove(e)},e.prototype.hasClass=function(t,e){return t.classList.contains(e)},e.prototype.setStyle=function(t,e,n){t.style[e]=n},e.prototype.removeStyle=function(t,e){t.style[e]=""},e.prototype.getStyle=function(t,e){return t.style[e]},e.prototype.hasStyle=function(t,e,n){void 0===n&&(n=null);var r=this.getStyle(t,e)||"";return n?r==n:r.length>0},e.prototype.tagName=function(t){return t.tagName},e.prototype.attributeMap=function(t){for(var e=new Map,n=t.attributes,r=0;r<n.length;r++){var i=n[r];e.set(i.name,i.value)}return e},e.prototype.hasAttribute=function(t,e){return t.hasAttribute(e)},e.prototype.hasAttributeNS=function(t,e,n){return t.hasAttributeNS(e,n)},e.prototype.getAttribute=function(t,e){return t.getAttribute(e)},e.prototype.getAttributeNS=function(t,e,n){return t.getAttributeNS(e,n)},e.prototype.setAttribute=function(t,e,n){t.setAttribute(e,n)},e.prototype.setAttributeNS=function(t,e,n,r){t.setAttributeNS(e,n,r)},e.prototype.removeAttribute=function(t,e){t.removeAttribute(e)},e.prototype.removeAttributeNS=function(t,e,n){t.removeAttributeNS(e,n)},e.prototype.templateAwareRoot=function(t){return this.isTemplateElement(t)?this.content(t):t},e.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},e.prototype.getBoundingClientRect=function(t){try{return t.getBoundingClientRect()}catch(t){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},e.prototype.getTitle=function(t){return document.title},e.prototype.setTitle=function(t,e){document.title=e||""},e.prototype.elementMatches=function(t,e){return t instanceof HTMLElement&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))},e.prototype.isTemplateElement=function(t){return t instanceof HTMLElement&&"TEMPLATE"==t.nodeName},e.prototype.isTextNode=function(t){return t.nodeType===Node.TEXT_NODE},e.prototype.isCommentNode=function(t){return t.nodeType===Node.COMMENT_NODE},e.prototype.isElementNode=function(t){return t.nodeType===Node.ELEMENT_NODE},e.prototype.hasShadowRoot=function(t){return null!=t.shadowRoot&&t instanceof HTMLElement},e.prototype.isShadowRoot=function(t){return t instanceof DocumentFragment},e.prototype.importIntoDoc=function(t){return document.importNode(this.templateAwareRoot(t),!0)},e.prototype.adoptNode=function(t){return document.adoptNode(t)},e.prototype.getHref=function(t){return t.href},e.prototype.getEventKey=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),t.location===z&&W.hasOwnProperty(e)&&(e=W[e]))}return G[e]||e},e.prototype.getGlobalEventTarget=function(t,e){return"window"===e?window:"document"===e?document:"body"===e?document.body:void 0},e.prototype.getHistory=function(){return window.history},e.prototype.getLocation=function(){return window.location},e.prototype.getBaseHref=function(t){var e=o();return null==e?null:s(e)},e.prototype.resetBaseElement=function(){Y=null},e.prototype.getUserAgent=function(){return window.navigator.userAgent},e.prototype.setData=function(t,e,n){this.setAttribute(t,"data-"+e,n)},e.prototype.getData=function(t,e){return this.getAttribute(t,"data-"+e)},e.prototype.getComputedStyle=function(t){return getComputedStyle(t)},e.prototype.setGlobalVar=function(t,e){u(k["Éµglobal"],t,e)},e.prototype.supportsWebAnimation=function(){return"function"==typeof Element.prototype.animate},e.prototype.performanceNow=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},e.prototype.supportsCookies=function(){return!0},e.prototype.getCookie=function(t){return a(document.cookie,t)},e.prototype.setCookie=function(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)},e}(V),Y=null,Z=new k.InjectionToken("DocumentToken"),Q=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._init(),n}return F(e,t),e.prototype._init=function(){this._location=r().getLocation(),this._history=r().getHistory()},Object.defineProperty(e.prototype,"location",{get:function(){return this._location},enumerable:!0,configurable:!0}),e.prototype.getBaseHrefFromDOM=function(){return r().getBaseHref(this._doc)},e.prototype.onPopState=function(t){r().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)},e.prototype.onHashChange=function(t){r().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)},Object.defineProperty(e.prototype,"pathname",{get:function(){return this._location.pathname},set:function(t){this._location.pathname=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"search",{get:function(){return this._location.search},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hash",{get:function(){return this._location.hash},enumerable:!0,configurable:!0}),e.prototype.pushState=function(t,e,n){c()?this._history.pushState(t,e,n):this._location.hash=n},e.prototype.replaceState=function(t,e,n){c()?this._history.replaceState(t,e,n):this._location.hash=n},e.prototype.forward=function(){this._history.forward()},e.prototype.back=function(){this._history.back()},e}(D.PlatformLocation);Q.decorators=[{type:k.Injectable}],Q.ctorParameters=function(){return[{type:void 0,decorators:[{type:k.Inject,args:[Z]}]}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var K=function(){function t(t){this._doc=t,this._dom=r()}return t.prototype.addTag=function(t,e){return void 0===e&&(e=!1),t?this._getOrCreateElement(t,e):null},t.prototype.addTags=function(t,e){var n=this;return void 0===e&&(e=!1),t?t.reduce(function(t,r){return r&&t.push(n._getOrCreateElement(r,e)),t},[]):[]},t.prototype.getTag=function(t){return t?this._dom.querySelector(this._doc,"meta["+t+"]"):null},t.prototype.getTags=function(t){if(!t)return[];var e=this._dom.querySelectorAll(this._doc,"meta["+t+"]");return e?[].slice.call(e):[]},t.prototype.updateTag=function(t,e){if(!t)return null;e=e||this._parseSelector(t);var n=this.getTag(e);return n?this._setMetaElementAttributes(t,n):this._getOrCreateElement(t,!0)},t.prototype.removeTag=function(t){this.removeTagElement(this.getTag(t))},t.prototype.removeTagElement=function(t){t&&this._dom.remove(t)},t.prototype._getOrCreateElement=function(t,e){if(void 0===e&&(e=!1),!e){var n=this._parseSelector(t),r=this.getTag(n);if(r&&this._containsAttributes(t,r))return r}var i=this._dom.createElement("meta");this._setMetaElementAttributes(t,i);var o=this._dom.getElementsByTagName(this._doc,"head")[0];return this._dom.appendChild(o,i),i},t.prototype._setMetaElementAttributes=function(t,e){var n=this;return Object.keys(t).forEach(function(r){return n._dom.setAttribute(e,r,t[r])}),e},t.prototype._parseSelector=function(t){var e=t.name?"name":"property";return e+'="'+t[e]+'"'},t.prototype._containsAttributes=function(t,e){var n=this;return Object.keys(t).every(function(r){return n._dom.getAttribute(e,r)===t[r]})},t}();K.decorators=[{type:k.Injectable}],K.ctorParameters=function(){return[{type:void 0,decorators:[{type:k.Inject,args:[Z]}]}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var J=new k.InjectionToken("TRANSITION_ID"),$=[{provide:k.APP_INITIALIZER,useFactory:l,deps:[J,Z],multi:!0}],tt=function(){function t(){}return t.init=function(){n.i(k.setTestabilityGetter)(new t)},t.prototype.addToWindow=function(t){k["Éµglobal"].getAngularTestability=function(e,n){void 0===n&&(n=!0);var r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},k["Éµglobal"].getAllAngularTestabilities=function(){return t.getAllTestabilities()},k["Éµglobal"].getAllAngularRootElements=function(){return t.getAllRootElements()};var e=function(t){var e=k["Éµglobal"].getAllAngularTestabilities(),n=e.length,r=!1,i=function(e){r=r||e,0==--n&&t(r)};e.forEach(function(t){t.whenStable(i)})};k["Éµglobal"].frameworkStabilizers||(k["Éµglobal"].frameworkStabilizers=[]),k["Éµglobal"].frameworkStabilizers.push(e)},t.prototype.findTestabilityInTree=function(t,e,n){if(null==e)return null;var i=t.getTestability(e);return null!=i?i:n?r().isShadowRoot(e)?this.findTestabilityInTree(t,r().getHost(e),!0):this.findTestabilityInTree(t,r().parentElement(e),!0):null},t}(),et=function(){function t(t){this._doc=t}return t.prototype.getTitle=function(){return r().getTitle(this._doc)},t.prototype.setTitle=function(t){r().setTitle(this._doc,t)},t}();et.decorators=[{type:k.Injectable}],et.ctorParameters=function(){return[{type:void 0,decorators:[{type:k.Inject,args:[Z]}]}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var nt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},rt={ApplicationRef:k.ApplicationRef,NgZone:k.NgZone},it="ng.probe",ot="ng.coreTokens",st=function(){function t(t,e){this.name=t,this.token=e}return t}(),at=[{provide:k.APP_INITIALIZER,useFactory:h,deps:[[st,new k.Optional],[k.NgProbeToken,new k.Optional]],multi:!0}],ut=new k.InjectionToken("EventManagerPlugins"),ct=function(){function t(t,e){var n=this;this._zone=e,this._eventNameToPlugin=new Map,t.forEach(function(t){return t.manager=n}),this._plugins=t.slice().reverse()}return t.prototype.addEventListener=function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)},t.prototype.addGlobalEventListener=function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)},t.prototype.getZone=function(){return this._zone},t.prototype._findPluginFor=function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event "+t)},t}();ct.decorators=[{type:k.Injectable}],ct.ctorParameters=function(){return[{type:Array,decorators:[{type:k.Inject,args:[ut]}]},{type:k.NgZone}]};var lt=function(){function t(t){this._doc=t}return t.prototype.supports=function(t){},t.prototype.addEventListener=function(t,e,n){},t.prototype.addGlobalEventListener=function(t,e,n){var i=r().getGlobalEventTarget(this._doc,t);if(!i)throw new Error("Unsupported event target "+i+" for event "+e);return this.addEventListener(i,e,n)},t}(),pt=function(){function t(){this._stylesSet=new Set}return t.prototype.addStyles=function(t){var e=this,n=new Set;t.forEach(function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))}),this.onStylesAdded(n)},t.prototype.onStylesAdded=function(t){},t.prototype.getAllStyles=function(){return Array.from(this._stylesSet)},t}();pt.decorators=[{type:k.Injectable}],pt.ctorParameters=function(){return[]};var ht=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._hostNodes=new Set,n._styleNodes=new Set,n._hostNodes.add(e.head),n}return F(e,t),e.prototype._addStylesToHost=function(t,e){var n=this;t.forEach(function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))})},e.prototype.addHost=function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)},e.prototype.removeHost=function(t){this._hostNodes.delete(t)},e.prototype.onStylesAdded=function(t){var e=this;this._hostNodes.forEach(function(n){return e._addStylesToHost(t,n)})},e.prototype.ngOnDestroy=function(){this._styleNodes.forEach(function(t){return r().remove(t)})},e}(pt);ht.decorators=[{type:k.Injectable}],ht.ctorParameters=function(){return[{type:void 0,decorators:[{type:k.Inject,args:[Z]}]}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var ft={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},dt=/%COMP%/g,mt="%COMP%",vt="_nghost-"+mt,gt="_ngcontent-"+mt,yt=function(){function t(t,e){this.eventManager=t,this.sharedStylesHost=e,this.rendererByCompId=new Map,this.defaultRenderer=new _t(t)}return t.prototype.createRenderer=function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case k.ViewEncapsulation.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new wt(this.eventManager,this.sharedStylesHost,e),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case k.ViewEncapsulation.Native:return new xt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var r=v(e.id,e.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}},t}();yt.decorators=[{type:k.Injectable}],yt.ctorParameters=function(){return[{type:ct},{type:ht}]};var _t=function(){function t(t){this.eventManager=t,this.data=Object.create(null)}return t.prototype.destroy=function(){},t.prototype.createElement=function(t,e){return e?document.createElementNS(ft[e],t):document.createElement(t)},t.prototype.createComment=function(t){return document.createComment(t)},t.prototype.createText=function(t){return document.createTextNode(t)},t.prototype.appendChild=function(t,e){t.appendChild(e)},t.prototype.insertBefore=function(t,e,n){t&&t.insertBefore(e,n)},t.prototype.removeChild=function(t,e){t&&t.removeChild(e)},t.prototype.selectRootElement=function(t){var e="string"==typeof t?document.querySelector(t):t;if(!e)throw new Error('The selector "'+t+'" did not match any elements');return e.textContent="",e},t.prototype.parentNode=function(t){return t.parentNode},t.prototype.nextSibling=function(t){return t.nextSibling},t.prototype.setAttribute=function(t,e,n,r){if(r){e=r+":"+e;var i=ft[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)},t.prototype.removeAttribute=function(t,e,n){if(n){var r=ft[n];r?t.removeAttributeNS(r,e):t.removeAttribute(n+":"+e)}else t.removeAttribute(e)},t.prototype.addClass=function(t,e){t.classList.add(e)},t.prototype.removeClass=function(t,e){t.classList.remove(e)},t.prototype.setStyle=function(t,e,n,r){r&k.RendererStyleFlags2.DashCase?t.style.setProperty(e,n,r&k.RendererStyleFlags2.Important?"important":""):t.style[e]=n},t.prototype.removeStyle=function(t,e,n){n&k.RendererStyleFlags2.DashCase?t.style.removeProperty(e):t.style[e]=""},t.prototype.setProperty=function(t,e,n){y(e,"property"),t[e]=n},t.prototype.setValue=function(t,e){t.nodeValue=e},t.prototype.listen=function(t,e,n){return y(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,g(n)):this.eventManager.addEventListener(t,e,g(n))},t}(),bt="@".charCodeAt(0),wt=function(t){function e(e,n,r){var i=t.call(this,e)||this;i.component=r;var o=v(r.id,r.styles,[]);return n.addStyles(o),i.contentAttr=d(r.id),i.hostAttr=m(r.id),i}return F(e,t),e.prototype.applyToHost=function(e){t.prototype.setAttribute.call(this,e,this.hostAttr,"")},e.prototype.createElement=function(e,n){var r=t.prototype.createElement.call(this,e,n);return t.prototype.setAttribute.call(this,r,this.contentAttr,""),r},e}(_t),xt=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;o.sharedStylesHost=n,o.hostEl=r,o.component=i,o.shadowRoot=r.createShadowRoot(),o.sharedStylesHost.addHost(o.shadowRoot);for(var s=v(i.id,i.styles,[]),a=0;a<s.length;a++){var u=document.createElement("style");u.textContent=s[a],o.shadowRoot.appendChild(u)}return o}return F(e,t),e.prototype.nodeOrShadowRoot=function(t){return t===this.hostEl?this.shadowRoot:t},e.prototype.destroy=function(){this.sharedStylesHost.removeHost(this.shadowRoot)},e.prototype.appendChild=function(e,n){return t.prototype.appendChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.insertBefore=function(e,n,r){return t.prototype.insertBefore.call(this,this.nodeOrShadowRoot(e),n,r)},e.prototype.removeChild=function(e,n){return t.prototype.removeChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.parentNode=function(e){return this.nodeOrShadowRoot(t.prototype.parentNode.call(this,this.nodeOrShadowRoot(e)))},e}(_t),Et=function(t){function e(e){return t.call(this,e)||this}return F(e,t),e.prototype.supports=function(t){return!0},e.prototype.addEventListener=function(t,e,n){return t.addEventListener(e,n,!1),function(){return t.removeEventListener(e,n,!1)}},e}(lt);Et.decorators=[{type:k.Injectable}],Et.ctorParameters=function(){return[{type:void 0,decorators:[{type:k.Inject,args:[Z]}]}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var St={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},Mt=new k.InjectionToken("HammerGestureConfig"),Ct=function(){function t(){this.events=[],this.overrides={}}return t.prototype.buildHammer=function(t){var e=new Hammer(t);e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0});for(var n in this.overrides)e.get(n).set(this.overrides[n]);return e},t}();Ct.decorators=[{type:k.Injectable}],Ct.ctorParameters=function(){return[]};var Tt=function(t){function e(e,n){var r=t.call(this,e)||this;return r._config=n,r}return F(e,t),e.prototype.supports=function(t){if(!St.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t))return!1;if(!window.Hammer)throw new Error("Hammer.js is not loaded, can not bind "+t+" event");return!0},e.prototype.addEventListener=function(t,e,n){var r=this,i=this.manager.getZone();return e=e.toLowerCase(),i.runOutsideAngular(function(){var o=r._config.buildHammer(t),s=function(t){i.runGuarded(function(){n(t)})};return o.on(e,s),function(){return o.off(e,s)}})},e.prototype.isCustomEvent=function(t){return this._config.events.indexOf(t)>-1},e}(lt);Tt.decorators=[{type:k.Injectable}],Tt.ctorParameters=function(){return[{type:void 0,decorators:[{type:k.Inject,args:[Z]}]},{type:Ct,decorators:[{type:k.Inject,args:[Mt]}]}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var At=["alt","control","meta","shift"],Pt={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},Rt=function(t){function e(e){return t.call(this,e)||this}return F(e,t),e.prototype.supports=function(t){return null!=e.parseEventName(t)},e.prototype.addEventListener=function(t,n,i){var o=e.parseEventName(n),s=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return r().onAndCancel(t,o.domEventName,s)})},e.parseEventName=function(t){var n=t.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;var i=e._normalizeKey(n.pop()),o="";if(At.forEach(function(t){var e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;var s={};return s.domEventName=r,s.fullKey=o,s},e.getEventFullKey=function(t){var e="",n=r().getEventKey(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),At.forEach(function(r){if(r!=n){(0,Pt[r])(t)&&(e+=r+".")}}),e+=n},e.eventCallback=function(t,n,r){return function(i){e.getEventFullKey(i)===t&&r.runGuarded(function(){return n(i)})}},e._normalizeKey=function(t){switch(t){case"esc":return"escape";default:return t}},e}(lt);Rt.decorators=[{type:k.Injectable}],Rt.ctorParameters=function(){return[{type:void 0,decorators:[{type:k.Inject,args:[Z]}]}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var Ot=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:\/?#]*(?:[\/?#]|$))/gi,Lt=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i,It=null,Nt=null,Dt=x("area,br,col,hr,img,wbr"),kt=x("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),jt=x("rp,rt"),Ft=E(jt,kt),Ut=E(kt,x("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Bt=E(jt,x("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Vt=E(Dt,Ut,Bt,Ft),Ht=x("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),zt=x("srcset"),Gt=x("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Wt=E(Ht,zt,Gt),qt=function(){function t(){this.sanitizedSomething=!1,this.buf=[]}return t.prototype.sanitizeChildren=function(t){for(var e=t.firstChild;e;)if(Nt.isElementNode(e)?this.startElement(e):Nt.isTextNode(e)?this.chars(Nt.nodeValue(e)):this.sanitizedSomething=!0,Nt.firstChild(e))e=Nt.firstChild(e);else for(;e;){Nt.isElementNode(e)&&this.endElement(e);var n=S(e,Nt.nextSibling(e));if(n){e=n;break}e=S(e,Nt.parentElement(e))}return this.buf.join("")},t.prototype.startElement=function(t){var e=this,n=Nt.nodeName(t).toLowerCase();if(!Vt.hasOwnProperty(n))return void(this.sanitizedSomething=!0);this.buf.push("<"),this.buf.push(n),Nt.attributeMap(t).forEach(function(t,n){var r=n.toLowerCase();if(!Wt.hasOwnProperty(r))return void(e.sanitizedSomething=!0);Ht[r]&&(t=_(t)),zt[r]&&(t=b(t)),e.buf.push(" "),e.buf.push(n),e.buf.push('="'),e.buf.push(M(t)),e.buf.push('"')}),this.buf.push(">")},t.prototype.endElement=function(t){var e=Nt.nodeName(t).toLowerCase();Vt.hasOwnProperty(e)&&!Dt.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))},t.prototype.chars=function(t){this.buf.push(M(t))},t}(),Xt=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Yt=/([^\#-~ |!])/g,Zt="[-,.\"'%_!# a-zA-Z0-9]+",Qt="(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?",Kt="(?:rgb|hsl)a?",Jt="(?:repeating-)?(?:linear|radial)-gradient",$t="(?:calc|attr)",te="\\([-0-9.%, #a-zA-Z]+\\)",ee=new RegExp("^("+Zt+"|(?:"+Qt+"|"+Kt+"|"+Jt+"|"+$t+")"+te+")$","g"),ne=/^url\(([^)]+)\)$/,re=function(){function t(){}return t.prototype.sanitize=function(t,e){},t.prototype.bypassSecurityTrustHtml=function(t){},t.prototype.bypassSecurityTrustStyle=function(t){},t.prototype.bypassSecurityTrustScript=function(t){},t.prototype.bypassSecurityTrustUrl=function(t){},t.prototype.bypassSecurityTrustResourceUrl=function(t){},t}(),ie=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n}return F(e,t),e.prototype.sanitize=function(t,e){if(null==e)return null;switch(t){case k.SecurityContext.NONE:return e;case k.SecurityContext.HTML:return e instanceof se?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),T(this._doc,String(e)));case k.SecurityContext.STYLE:return e instanceof ae?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),P(e));case k.SecurityContext.SCRIPT:if(e instanceof ue)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case k.SecurityContext.URL:return e instanceof le||e instanceof ce?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),_(String(e)));case k.SecurityContext.RESOURCE_URL:if(e instanceof le)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext "+t+" (see http://g.co/ng/security#xss)")}},e.prototype.checkNotSafeValue=function(t,e){if(t instanceof oe)throw new Error("Required a safe "+e+", got a "+t.getTypeName()+" (see http://g.co/ng/security#xss)")},e.prototype.bypassSecurityTrustHtml=function(t){return new se(t)},e.prototype.bypassSecurityTrustStyle=function(t){return new ae(t)},e.prototype.bypassSecurityTrustScript=function(t){return new ue(t)},e.prototype.bypassSecurityTrustUrl=function(t){return new ce(t)},e.prototype.bypassSecurityTrustResourceUrl=function(t){return new le(t)},e}(re);ie.decorators=[{type:k.Injectable}],ie.ctorParameters=function(){return[{type:void 0,decorators:[{type:k.Inject,args:[Z]}]}]};var oe=function(){function t(t){this.changingThisBreaksApplicationSecurity=t}return t.prototype.getTypeName=function(){},t.prototype.toString=function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"},t}(),se=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return F(e,t),e.prototype.getTypeName=function(){return"HTML"},e}(oe),ae=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return F(e,t),e.prototype.getTypeName=function(){return"Style"},e}(oe),ue=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return F(e,t),e.prototype.getTypeName=function(){return"Script"},e}(oe),ce=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return F(e,t),e.prototype.getTypeName=function(){return"URL"},e}(oe),le=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return F(e,t),e.prototype.getTypeName=function(){return"ResourceURL"},e}(oe),pe=[{provide:k.PLATFORM_ID,useValue:D["ÉµPLATFORM_BROWSER_ID"]},{provide:k.PLATFORM_INITIALIZER,useValue:R,multi:!0},{provide:D.PlatformLocation,useClass:Q},{provide:Z,useFactory:L,deps:[]}],he=[{provide:k.Sanitizer,useExisting:re},{provide:re,useClass:ie}],fe=n.i(k.createPlatformFactory)(k.platformCore,"browser",pe),de=function(){function t(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return t.withServerTransition=function(e){return{ngModule:t,providers:[{provide:k.APP_ID,useValue:e.appId},{provide:J,useExisting:k.APP_ID},$]}},t}();de.decorators=[{type:k.NgModule,args:[{providers:[he,{provide:k.ErrorHandler,useFactory:O,deps:[]},{provide:ut,useClass:Et,multi:!0},{provide:ut,useClass:Rt,multi:!0},{provide:ut,useClass:Tt,multi:!0},{provide:Mt,useClass:Ct},yt,{provide:k.RendererFactory2,useExisting:yt},{provide:pt,useExisting:ht},ht,k.Testability,ct,at,K,et],exports:[D.CommonModule,k.ApplicationModule]}]}],de.ctorParameters=function(){return[{type:de,decorators:[{type:k.Optional},{type:k.SkipSelf}]}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var me="undefined"!=typeof window&&window||{},ve=function(){function t(t,e){this.msPerTick=t,this.numTicks=e}return t}(),ge=function(){function t(t){this.appRef=t.injector.get(k.ApplicationRef)}return t.prototype.timeChangeDetection=function(t){var e=t&&t.record,n="Change Detection",i=null!=me.console.profile;e&&i&&me.console.profile(n);for(var o=r().performanceNow(),s=0;s<5||r().performanceNow()-o<500;)this.appRef.tick(),s++;var a=r().performanceNow();e&&i&&me.console.profileEnd(n);var u=(a-o)/s;return me.console.log("ran "+s+" change detection cycles"),me.console.log(u.toFixed(2)+" ms per check"),new ve(u,s)},t}(),ye="ng.profiler",_e=function(){function t(){}return t.all=function(){return function(t){return!0}},t.css=function(t){return function(e){return null!=e.nativeElement&&r().elementMatches(e.nativeElement,t)}},t.directive=function(t){return function(e){return e.providerTokens.indexOf(t)!==-1}},t}(),be=new k.Version("4.0.1")},"./node_modules/@angular/router/@angular/router.es5.js":function(t,e,n){"use strict";function r(t){return new Ue(t)}function i(t){var e=Error("NavigationCancelingError: "+t);return e[Be]=!0,e}function o(t){return t[Be]}function s(t,e,n){for(var r=n.path,i=r.split("/"),o={},s=[],a=0,u=0;u<i.length;++u){if(a>=t.length)return null;var c=t[a],l=i[u],p=l.startsWith(":");if(!p&&l!==c.path)return null;p&&(o[l.substring(1)]=c),s.push(c),a++}return"full"===n.pathMatch&&(e.hasChildren()||a<t.length)?null:{consumed:s,posParams:o}}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function a(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!u(t[n],e[n]))return!1;return!0}function u(t,e){var n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(var i,o=0;o<n.length;o++)if(i=n[o],t[i]!==e[i])return!1;return!0}function c(t){return Array.prototype.concat.apply([],t)}function l(t){return t.length>0?t[t.length-1]:null}function p(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function h(t,e){var r=[],i={};if(p(t,function(t,n){n===Fe&&r.push(ye.map.call(e(n,t),function(t){return i[n]=t,t}))}),p(t,function(t,n){n!==Fe&&r.push(ye.map.call(e(n,t),function(t){return i[n]=t,t}))}),r.length>0){var o=Ee.concatAll.call(de.of.apply(void 0,r)),s=Ce.last.call(o);return ye.map.call(s,function(){return i})}return n.i(de.of)(i)}function f(t){var e=Te.mergeAll.call(t);return ve.every.call(e,function(t){return t===!0})}function d(t){return n.i(le["ÉµisObservable"])(t)?t:n.i(le["ÉµisPromise"])(t)?n.i(Me.fromPromise)(t):n.i(de.of)(t)}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function m(){return new Ge(new We([],{}),{},null)}function v(t,e,n){return n?g(t.queryParams,e.queryParams)&&y(t.root,e.root):_(t.queryParams,e.queryParams)&&b(t.root,e.root)}function g(t,e){return u(t,e)}function y(t,e){if(!E(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(var n in e.children){if(!t.children[n])return!1;if(!y(t.children[n],e.children[n]))return!1}return!0}function _(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(function(n){return e[n]===t[n]})}function b(t,e){return w(t,e,e.segments)}function w(t,e,n){if(t.segments.length>n.length){var r=t.segments.slice(0,n.length);return!!E(r,n)&&!e.hasChildren()}if(t.segments.length===n.length){if(!E(t.segments,n))return!1;for(var i in e.children){if(!t.children[i])return!1;if(!b(t.children[i],e.children[i]))return!1}return!0}var r=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!E(t.segments,r)&&(!!t.children[Fe]&&w(t.children[Fe],e,o))}function x(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n){if(t[n].path!==e[n].path)return!1;if(!u(t[n].parameters,e[n].parameters))return!1}return!0}function E(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(t[n].path!==e[n].path)return!1;return!0}function S(t,e){var n=[];return p(t.children,function(t,r){r===Fe&&(n=n.concat(e(t,r)))}),p(t.children,function(t,r){r!==Fe&&(n=n.concat(e(t,r)))}),n}function M(t){return t.segments.map(function(t){return P(t)}).join("/")}function C(t,e){if(t.hasChildren()&&e){var n=t.children[Fe]?C(t.children[Fe],!1):"",r=[];return p(t.children,function(t,e){e!==Fe&&r.push(e+":"+C(t,!1))}),r.length>0?n+"("+r.join("//")+")":""+n}if(t.hasChildren()&&!e){var i=S(t,function(e,n){return n===Fe?[C(t.children[Fe],!1)]:[n+":"+C(e,!1)]});return M(t)+"/("+i.join("//")+")"}return M(t)}function T(t){return encodeURIComponent(t)}function A(t){return decodeURIComponent(t)}function P(t){return""+T(t.path)+R(t.parameters)}function R(t){return Object.keys(t).map(function(e){return";"+T(e)+"="+T(t[e])}).join("")}function O(t){var e=Object.keys(t).map(function(e){var n=t[e];return Array.isArray(n)?n.map(function(t){return T(e)+"="+T(t)}).join("&"):T(e)+"="+T(n)});return e.length?"?"+e.join("&"):""}function L(t){Qe.lastIndex=0;var e=t.match(Qe);return e?e[0]:""}function I(t){Ke.lastIndex=0;var e=t.match(Qe);return e?e[0]:""}function N(t){Je.lastIndex=0;var e=t.match(Je);return e?e[0]:""}function D(t){return new we.Observable(function(e){return e.error(new en(t))})}function k(t){return new we.Observable(function(e){return e.error(new nn(t))})}function j(t){return new we.Observable(function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '"+t+"'"))})}function F(t){return new we.Observable(function(e){return e.error(i("Cannot load children because the guard of the route \"path: '"+t.path+"'\" returned false"))})}function U(t,e,n,r,i){return new rn(t,e,n,r,i).apply()}function B(t,e){var r=e.canLoad;return r&&0!==r.length?f(ye.map.call(n.i(fe.from)(r),function(n){var r=t.get(n);return d(r.canLoad?r.canLoad(e):r(e))})):n.i(de.of)(!0)}function V(t,e,n){var r={matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}};if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var i=e.matcher||s,o=i(n,t,e);return o?{matched:!0,consumedSegments:o.consumed,lastChild:o.consumed.length,positionalParamSegments:o.posParams}:r}function H(t,e,n,r){if(n.length>0&&q(t,n,r)){var i=new We(e,W(r,new We(n,t.children)));return{segmentGroup:z(i),slicedSegments:[]}}if(0===n.length&&X(t,n,r)){var i=new We(t.segments,G(t,n,r,t.children));return{segmentGroup:z(i),slicedSegments:n}}return{segmentGroup:t,slicedSegments:n}}function z(t){if(1===t.numberOfChildren&&t.children[Fe]){var e=t.children[Fe];return new We(t.segments.concat(e.segments),e.children)}return t}function G(t,e,n,r){for(var i={},o=0,s=n;o<s.length;o++){var a=s[o];Y(t,e,a)&&!r[Z(a)]&&(i[Z(a)]=new We([],{}))}return tn({},r,i)}function W(t,e){var n={};n[Fe]=e;for(var r=0,i=t;r<i.length;r++){var o=i[r];""===o.path&&Z(o)!==Fe&&(n[Z(o)]=new We([],{}))}return n}function q(t,e,n){return n.filter(function(n){return Y(t,e,n)&&Z(n)!==Fe}).length>0}function X(t,e,n){return n.filter(function(n){return Y(t,e,n)}).length>0}function Y(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&(""===n.path&&void 0!==n.redirectTo)}function Z(t){return t.outlet?t.outlet:Fe}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function Q(t,e){void 0===e&&(e="");for(var n=0;n<t.length;n++){var r=t[n];K(r,J(e,r))}}function K(t,e){if(!t)throw new Error("\n      Invalid configuration of route '"+e+"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    ");if(Array.isArray(t))throw new Error("Invalid configuration of route '"+e+"': Array cannot be specified");if(!t.component&&t.outlet&&t.outlet!==Fe)throw new Error("Invalid configuration of route '"+e+"': a componentless route cannot have a named outlet set");if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '"+e+"': redirectTo and children cannot be used together");if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': redirectTo and loadChildren cannot be used together");if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': children and loadChildren cannot be used together");if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '"+e+"': redirectTo and component cannot be used together");if(t.path&&t.matcher)throw new Error("Invalid configuration of route '"+e+"': path and matcher cannot be used together");if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '"+e+"'. One of the following must be provided: component, redirectTo, children or loadChildren");if(void 0===t.path&&void 0===t.matcher)throw new Error("Invalid configuration of route '"+e+"': routes must have either a path or a matcher specified");if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error("Invalid configuration of route '"+e+"': path cannot start with a slash");if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch){throw new Error("Invalid configuration of route '{path: \""+e+'", redirectTo: "'+t.redirectTo+"\"}': please provide 'pathMatch'. "+"The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.")}if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '"+e+"': pathMatch can only be set to 'prefix' or 'full'");t.children&&Q(t.children,e)}function J(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:t+"/"+e.path:"":t}function $(t,e){if(t===e.value)return e;for(var n=0,r=e.children;n<r.length;n++){var i=r[n],o=$(t,i);if(o)return o}return null}function tt(t,e,n){if(n.push(e),t===e.value)return n;for(var r=0,i=e.children;r<i.length;r++){var o=i[r],s=n.slice(0),a=tt(t,o,s);if(a.length>0)return a}return[]}function et(t,e){var n=nt(t,e),r=new pe.BehaviorSubject([new qe("",{})]),i=new pe.BehaviorSubject({}),o=new pe.BehaviorSubject({}),s=new pe.BehaviorSubject({}),a=new pe.BehaviorSubject(""),u=new cn(r,i,s,a,o,Fe,e,n.root);return u.snapshot=n.root,new un(new sn(u,[]),n)}function nt(t,e){return new pn("",new sn(new ln([],{},{},"",{},Fe,e,null,t.root,-1,{}),[]))}function rt(t){for(var e=t.pathFromRoot,n=e.length-1;n>=1;){var r=e[n],i=e[n-1];if(r.routeConfig&&""===r.routeConfig.path)n--;else{if(i.component)break;n--}}return e.slice(n).reduce(function(t,e){return{params:an({},t.params,e.params),data:an({},t.data,e.data),resolve:an({},t.resolve,e._resolvedData)}},{params:{},data:{},resolve:{}})}function it(t,e){e.value._routerState=t,e.children.forEach(function(e){return it(t,e)})}function ot(t){var e=t.children.length>0?" { "+t.children.map(ot).join(", ")+" } ":"";return""+t.value+e}function st(t){if(t.snapshot){var e=t.snapshot;t.snapshot=t._futureSnapshot,u(e.queryParams,t._futureSnapshot.queryParams)||t.queryParams.next(t._futureSnapshot.queryParams),e.fragment!==t._futureSnapshot.fragment&&t.fragment.next(t._futureSnapshot.fragment),u(e.params,t._futureSnapshot.params)||t.params.next(t._futureSnapshot.params),a(e.url,t._futureSnapshot.url)||t.url.next(t._futureSnapshot.url),u(e.data,t._futureSnapshot.data)||t.data.next(t._futureSnapshot.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function at(t,e){var n=u(t.params,e.params)&&x(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||at(t.parent,e.parent))}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function ut(t,e,n){return new un(ct(t,e._root,n?n._root:void 0),e)}function ct(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){var r=n.value;r._futureSnapshot=e.value;var i=pt(t,e,n);return new sn(r,i)}if(t.retrieve(e.value)){var o=t.retrieve(e.value).route;return lt(e,o),o}var r=ht(e.value),i=e.children.map(function(e){return ct(t,e)});return new sn(r,i)}function lt(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(var n=0;n<t.children.length;++n)lt(t.children[n],e.children[n])}function pt(t,e,n){return e.children.map(function(e){for(var r=0,i=n.children;r<i.length;r++){var o=i[r];if(t.shouldReuseRoute(o.value.snapshot,e.value))return ct(t,e,o)}return ct(t,e)})}function ht(t){return new cn(new pe.BehaviorSubject(t.url),new pe.BehaviorSubject(t.params),new pe.BehaviorSubject(t.queryParams),new pe.BehaviorSubject(t.fragment),new pe.BehaviorSubject(t.data),t.outlet,t.component,t)}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function ft(t,e,n,r,i){if(0===n.length)return mt(e.root,e.root,e,r,i);var o=gt(n);if(o.toRoot())return mt(e.root,new We([],{}),e,r,i);var s=yt(o,e,t),a=s.processChildren?Et(s.segmentGroup,s.index,o.commands):xt(s.segmentGroup,s.index,o.commands);return mt(s.segmentGroup,a,e,r,i)}function dt(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function mt(t,e,n,r,i){var o={};return r&&p(r,function(t,e){o[e]=Array.isArray(t)?t.map(function(t){return""+t}):""+t}),n.root===t?new Ge(e,o,i):new Ge(vt(n.root,t,e),o,i)}function vt(t,e,n){var r={};return p(t.children,function(t,i){r[i]=t===e?n:vt(t,e,n)}),new We(t.segments,r)}function gt(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new hn(!0,0,t);var e=0,n=!1,r=t.reduce(function(t,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var o={};return p(r.outlets,function(t,e){o[e]="string"==typeof t?t.split("/"):t}),t.concat([{outlets:o}])}if(r.segmentPath)return t.concat([r.segmentPath])}return"string"!=typeof r?t.concat([r]):0===i?(r.split("/").forEach(function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):t.concat([r])},[]);return new hn(n,e,r)}function yt(t,e,n){if(t.isAbsolute)return new fn(e.root,!0,0);if(n.snapshot._lastPathIndex===-1)return new fn(n.snapshot._urlSegment,!0,0);var r=dt(t.commands[0])?0:1,i=n.snapshot._lastPathIndex+r;return _t(n.snapshot._urlSegment,i,t.numberOfDoubleDots)}function _t(t,e,n){for(var r=t,i=e,o=n;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new fn(r,!1,i-o)}function bt(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets[Fe]:""+t}function wt(t){return"object"!=typeof t[0]?(e={},e[Fe]=t,e):void 0===t[0].outlets?(n={},n[Fe]=t,n):t[0].outlets;var e,n}function xt(t,e,n){if(t||(t=new We([],{})),0===t.segments.length&&t.hasChildren())return Et(t,e,n);var r=St(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){var o=new We(t.segments.slice(0,r.pathIndex),{});return o.children[Fe]=new We(t.segments.slice(r.pathIndex),t.children),Et(o,0,i)}return r.match&&0===i.length?new We(t.segments,{}):r.match&&!t.hasChildren()?Mt(t,e,n):r.match?Et(t,0,i):Mt(t,e,n)}function Et(t,e,n){if(0===n.length)return new We(t.segments,{});var r=wt(n),i={};return p(r,function(n,r){null!==n&&(i[r]=xt(t.children[r],e,n))}),p(t.children,function(t,e){void 0===r[e]&&(i[e]=t)}),new We(t.segments,i)}function St(t,e,n){for(var r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};i<t.segments.length;){if(r>=n.length)return o;var s=t.segments[i],a=bt(n[r]),u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!At(a,u,s))return o;r+=2}else{if(!At(a,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Mt(t,e,n){for(var r=t.segments.slice(0,e),i=0;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){return new We(r,Ct(n[i].outlets))}if(0===i&&dt(n[0])){var o=t.segments[e];r.push(new qe(o.path,n[0])),i++}else{var s=bt(n[i]),a=i<n.length-1?n[i+1]:null;s&&a&&dt(a)?(r.push(new qe(s,Tt(a))),i+=2):(r.push(new qe(s,{})),i++)}}return new We(r,{})}function Ct(t){var e={};return p(t,function(t,n){null!==t&&(e[n]=Mt(new We([],{}),0,t))}),e}function Tt(t){var e={};return p(t,function(t,n){return e[n]=""+t}),e}function At(t,e,n){return t==n.path&&u(e,n.parameters)}function Pt(t,e,n,r){return new vn(t,e,n,r).recognize()}function Rt(t){t.sort(function(t,e){return t.value.outlet===Fe?-1:e.value.outlet===Fe?1:t.value.outlet.localeCompare(e.value.outlet)})}function Ot(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}function Lt(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new mn;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=e.matcher||s,i=r(n,t,e);if(!i)throw new mn;var o={};p(i.posParams,function(t,e){o[e]=t.path});var a=dn({},o,i.consumed[i.consumed.length-1].parameters);return{consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:a}}function It(t){var e={};t.forEach(function(t){var n=e[t.value.outlet];if(n){var r=n.url.map(function(t){return t.toString()}).join("/"),i=t.value.url.map(function(t){return t.toString()}).join("/");throw new Error("Two segments cannot have the same outlet name: '"+r+"' and '"+i+"'.")}e[t.value.outlet]=t.value})}function Nt(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function Dt(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function kt(t,e,n,r){if(n.length>0&&Ut(t,n,r)){var i=new We(e,Ft(t,e,r,new We(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&Bt(t,n,r)){var o=new We(t.segments,jt(t,n,r,t.children));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}var s=new We(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function jt(t,e,n,r){for(var i={},o=0,s=n;o<s.length;o++){var a=s[o];if(Vt(t,e,a)&&!r[Ht(a)]){var u=new We([],{});u._sourceSegment=t,u._segmentIndexShift=t.segments.length,i[Ht(a)]=u}}return dn({},r,i)}function Ft(t,e,n,r){var i={};i[Fe]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(var o=0,s=n;o<s.length;o++){var a=s[o];if(""===a.path&&Ht(a)!==Fe){var u=new We([],{});u._sourceSegment=t,u._segmentIndexShift=e.length,i[Ht(a)]=u}}return i}function Ut(t,e,n){return n.some(function(n){return Vt(t,e,n)&&Ht(n)!==Fe})}function Bt(t,e,n){return n.some(function(n){return Vt(t,e,n)})}function Vt(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&(""===n.path&&void 0===n.redirectTo)}function Ht(t){return t.outlet||Fe}function zt(t){return t.data||{}}function Gt(t){return t.resolve||{}}function Wt(t){throw t}function qt(t){return n.i(de.of)(null)}function Xt(t){st(t.value),t.children.forEach(Xt)}function Yt(t){for(var e=t.parent;e;e=e.parent){var n=e._routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}function Zt(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e._routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}function Qt(t){var e={};return t&&t.children.forEach(function(t){return e[t.value.outlet]=t}),e}function Kt(t,e){var n=t._outlets[e.outlet];if(!n){var r=e.component.name;throw e.outlet===Fe?new Error("Cannot find primary outlet to load '"+r+"'"):new Error("Cannot find the outlet "+e.outlet+" to load '"+r+"'")}return n}function Jt(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains "+n+" segment at index "+e)}}function $t(t){return""===t||!!t}function te(){return new le.NgProbeToken("Router",xn)}function ee(t,e,n){return void 0===n&&(n={}),n.useHash?new ce.HashLocationStrategy(t,e):new ce.PathLocationStrategy(t,e)}function ne(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function re(t){return[{provide:le.ANALYZE_FOR_ENTRY_COMPONENTS,multi:!0,useValue:t},{provide:Ve,multi:!0,useValue:t}]}function ie(t,e,r,i,o,s,a,u,l,p,h){void 0===l&&(l={});var f=new xn(null,e,r,i,o,s,a,c(u));if(p&&(f.urlHandlingStrategy=p),h&&(f.routeReuseStrategy=h),l.errorHandler&&(f.errorHandler=l.errorHandler),l.enableTracing){var d=n.i(Ae["ÉµgetDOM"])();f.events.subscribe(function(t){d.logGroup("Router Event: "+t.constructor.name),d.log(t.toString()),d.log(t),d.logGroupEnd()})}return f}function oe(t){return t.routerState.root}function se(t){return t.appInitializer.bind(t)}function ae(t){return t.bootstrapListener.bind(t)}function ue(){return[Hn,{provide:le.APP_INITIALIZER,multi:!0,useFactory:se,deps:[Hn]},{provide:zn,useFactory:ae,deps:[Hn]},{provide:le.APP_BOOTSTRAP_LISTENER,multi:!0,useExisting:zn}]}Object.defineProperty(e,"__esModule",{value:!0});var ce=n("./node_modules/@angular/common/@angular/common.es5.js"),le=n("./node_modules/@angular/core/@angular/core.es5.js"),pe=n("./node_modules/rxjs/BehaviorSubject.js"),he=(n.n(pe),n("./node_modules/rxjs/Subject.js")),fe=(n.n(he),n("./node_modules/rxjs/observable/from.js")),de=(n.n(fe),n("./node_modules/rxjs/observable/of.js")),me=(n.n(de),n("./node_modules/rxjs/operator/concatMap.js")),ve=(n.n(me),n("./node_modules/rxjs/operator/every.js")),ge=(n.n(ve),n("./node_modules/rxjs/operator/first.js")),ye=(n.n(ge),n("./node_modules/rxjs/operator/map.js")),_e=(n.n(ye),n("./node_modules/rxjs/operator/mergeMap.js")),be=(n.n(_e),n("./node_modules/rxjs/operator/reduce.js")),we=(n.n(be),n("./node_modules/rxjs/Observable.js")),xe=(n.n(we),n("./node_modules/rxjs/operator/catch.js")),Ee=(n.n(xe),n("./node_modules/rxjs/operator/concatAll.js")),Se=(n.n(Ee),n("./node_modules/rxjs/util/EmptyError.js")),Me=(n.n(Se),n("./node_modules/rxjs/observable/fromPromise.js")),Ce=(n.n(Me),n("./node_modules/rxjs/operator/last.js")),Te=(n.n(Ce),n("./node_modules/rxjs/operator/mergeAll.js")),Ae=(n.n(Te),n("./node_modules/@angular/platform-browser/@angular/platform-browser.es5.js")),Pe=n("./node_modules/rxjs/operator/filter.js");n.n(Pe);n.d(e,"RouterLink",function(){return Tn}),n.d(e,"RouterLinkWithHref",function(){return An}),n.d(e,"RouterLinkActive",function(){return Pn}),n.d(e,"RouterOutlet",function(){return Rn}),n.d(e,"NavigationCancel",function(){return Ie}),n.d(e,"NavigationEnd",function(){return Le}),n.d(e,"NavigationError",function(){return Ne}),n.d(e,"NavigationStart",function(){return Oe}),n.d(e,"RouteConfigLoadEnd",function(){return je}),n.d(e,"RouteConfigLoadStart",function(){return ke}),n.d(e,"RoutesRecognized",function(){return De}),n.d(e,"RouteReuseStrategy",function(){return Ln}),n.d(e,"Router",function(){return xn}),n.d(e,"ROUTES",function(){return Ve}),n.d(e,"ROUTER_CONFIGURATION",function(){return Fn}),n.d(e,"ROUTER_INITIALIZER",function(){return zn}),n.d(e,"RouterModule",function(){return Vn}),n.d(e,"provideRoutes",function(){return re}),n.d(e,"RouterOutletMap",function(){return gn}),n.d(e,"NoPreloading",function(){return Dn}),n.d(e,"PreloadAllModules",function(){return Nn}),n.d(e,"PreloadingStrategy",function(){return In}),n.d(e,"RouterPreloader",function(){return kn}),n.d(e,"ActivatedRoute",function(){return cn}),n.d(e,"ActivatedRouteSnapshot",function(){return ln}),n.d(e,"RouterState",function(){return un}),n.d(e,"RouterStateSnapshot",function(){return pn}),n.d(e,"PRIMARY_OUTLET",function(){return Fe}),n.d(e,"convertToParamMap",function(){return r}),n.d(e,"UrlHandlingStrategy",function(){return yn}),n.d(e,"DefaultUrlSerializer",function(){return Ye}),n.d(e,"UrlSegment",function(){return qe}),n.d(e,"UrlSegmentGroup",function(){return We}),n.d(e,"UrlSerializer",function(){return Xe}),n.d(e,"UrlTree",function(){return Ge}),n.d(e,"VERSION",function(){return Gn}),n.d(e,"ÉµROUTER_PROVIDERS",function(){return Bn}),n.d(e,"Éµflatten",function(){return c}),n.d(e,"Éµa",function(){return Un}),n.d(e,"Éµg",function(){return Hn}),n.d(e,"Éµh",function(){return se}),n.d(e,"Éµi",function(){return ae}),n.d(e,"Éµd",function(){return ne}),n.d(e,"Éµc",function(){return ee}),n.d(e,"Éµj",function(){return ue}),n.d(e,"Éµf",function(){return oe}),n.d(e,"Éµb",function(){return te}),n.d(e,"Éµe",function(){return ie}),n.d(e,"Éµk",function(){return on}),n.d(e,"Éµl",function(){return sn});var Re=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Oe=function(){function t(t,e){this.id=t,this.url=e}return t.prototype.toString=function(){return"NavigationStart(id: "+this.id+", url: '"+this.url+"')"},t}(),Le=function(){function t(t,e,n){this.id=t,this.url=e,this.urlAfterRedirects=n}return t.prototype.toString=function(){return"NavigationEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"')"},t}(),Ie=function(){function t(t,e,n){this.id=t,this.url=e,this.reason=n}return t.prototype.toString=function(){return"NavigationCancel(id: "+this.id+", url: '"+this.url+"')"},t}(),Ne=function(){function t(t,e,n){this.id=t,this.url=e,this.error=n}return t.prototype.toString=function(){return"NavigationError(id: "+this.id+", url: '"+this.url+"', error: "+this.error+")"},t}(),De=function(){function t(t,e,n,r){this.id=t,this.url=e,this.urlAfterRedirects=n,this.state=r}return t.prototype.toString=function(){return"RoutesRecognized(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},t}(),ke=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadStart(path: "+this.route.path+")"},t}(),je=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadEnd(path: "+this.route.path+")"},t}(),Fe="primary",Ue=function(){function t(t){this.params=t||{}}return t.prototype.has=function(t){return this.params.hasOwnProperty(t)},t.prototype.get=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null},t.prototype.getAll=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]},Object.defineProperty(t.prototype,"keys",{get:function(){return Object.keys(this.params)},enumerable:!0,configurable:!0}),t}(),Be="ngNavigationCancelingError",Ve=new le.InjectionToken("ROUTES"),He=function(){function t(t,e){this.routes=t,this.module=e}return t}(),ze=function(){function t(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}return t.prototype.load=function(t,e){var n=this;this.onLoadStartListener&&this.onLoadStartListener(e);var r=this.loadModuleFactory(e.loadChildren);return ye.map.call(r,function(r){n.onLoadEndListener&&n.onLoadEndListener(e);var i=r.create(t);return new He(c(i.injector.get(Ve)),i)})},t.prototype.loadModuleFactory=function(t){var e=this;return"string"==typeof t?n.i(Me.fromPromise)(this.loader.load(t)):_e.mergeMap.call(d(t()),function(t){return t instanceof le.NgModuleFactory?n.i(de.of)(t):n.i(Me.fromPromise)(e.compiler.compileModuleAsync(t))})},t}(),Ge=function(){function t(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}return Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=r(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return Ze.serialize(this)},t}(),We=function(){function t(t,e){var n=this;this.segments=t,this.children=e,this.parent=null,p(e,function(t,e){return t.parent=n})}return t.prototype.hasChildren=function(){return this.numberOfChildren>0},Object.defineProperty(t.prototype,"numberOfChildren",{get:function(){return Object.keys(this.children).length},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return M(this)},t}(),qe=function(){function t(t,e){this.path=t,this.parameters=e}return Object.defineProperty(t.prototype,"parameterMap",{get:function(){return this._parameterMap||(this._parameterMap=r(this.parameters)),this._parameterMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return P(this)},t}(),Xe=function(){function t(){}return t.prototype.parse=function(t){},t.prototype.serialize=function(t){},t}(),Ye=function(){function t(){}return t.prototype.parse=function(t){var e=new $e(t);return new Ge(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())},t.prototype.serialize=function(t){return"/"+C(t.root,!0)+O(t.queryParams)+(null!==t.fragment&&void 0!==t.fragment?"#"+encodeURI(t.fragment):"")},t}(),Ze=new Ye,Qe=/^[^\/()?;=&#]+/,Ke=/^[^=?&#]+/,Je=/^[^?&#]+/,$e=function(){function t(t){this.url=t,this.remaining=t}return t.prototype.peekStartsWith=function(t){return this.remaining.startsWith(t)},t.prototype.capture=function(t){if(!this.remaining.startsWith(t))throw new Error('Expected "'+t+'".');this.remaining=this.remaining.substring(t.length)},t.prototype.parseRootSegment=function(){return this.remaining.startsWith("/")&&this.capture("/"),""===this.remaining||this.remaining.startsWith("?")||this.remaining.startsWith("#")?new We([],{}):new We([],this.parseChildren())},t.prototype.parseChildren=function(){if(0==this.remaining.length)return{};this.peekStartsWith("/")&&this.capture("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegments());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegments());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[Fe]=new We(t,e)),n},t.prototype.parseSegments=function(){var t=L(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '"+this.remaining+"'.");this.capture(t);var e={};return this.peekStartsWith(";")&&(e=this.parseMatrixParams()),new qe(A(t),e)},t.prototype.parseQueryParams=function(){var t={};if(this.peekStartsWith("?"))for(this.capture("?"),this.parseQueryParam(t);this.remaining.length>0&&this.peekStartsWith("&");)this.capture("&"),this.parseQueryParam(t);return t},t.prototype.parseFragment=function(){return this.peekStartsWith("#")?decodeURI(this.remaining.substring(1)):null},t.prototype.parseMatrixParams=function(){for(var t={};this.remaining.length>0&&this.peekStartsWith(";");)this.capture(";"),this.parseParam(t);return t},t.prototype.parseParam=function(t){var e=L(this.remaining);if(e){this.capture(e);var n="";if(this.peekStartsWith("=")){this.capture("=");var r=L(this.remaining);r&&(n=r,this.capture(n))}t[A(e)]=A(n)}},t.prototype.parseQueryParam=function(t){var e=I(this.remaining);if(e){this.capture(e);var n="";if(this.peekStartsWith("=")){this.capture("=");var r=N(this.remaining);r&&(n=r,this.capture(n))}var i=A(e),o=A(n);if(t.hasOwnProperty(i)){var s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}},t.prototype.parseParens=function(t){var e={};for(this.capture("(");!this.peekStartsWith(")")&&this.remaining.length>0;){var n=L(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '"+this.url+"'");var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Fe);var o=this.parseChildren();e[i]=1===Object.keys(o).length?o[Fe]:new We([],o),this.peekStartsWith("//")&&this.capture("//")}return this.capture(")"),e},t}(),tn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},en=function(){function t(t){void 0===t&&(t=null),this.segmentGroup=t}return t}(),nn=function(){function t(t){this.urlTree=t}return t}(),rn=function(){function t(t,e,n,r,i){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=t.get(le.NgModuleRef)}return t.prototype.apply=function(){var t=this,e=this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Fe),n=ye.map.call(e,function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)});return xe._catch.call(n,function(e){if(e instanceof nn)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof en)throw t.noMatchError(e);throw e})},t.prototype.match=function(t){var e=this,n=this.expandSegmentGroup(this.ngModule,this.config,t.root,Fe),r=ye.map.call(n,function(n){return e.createUrlTree(n,t.queryParams,t.fragment)});return xe._catch.call(r,function(t){if(t instanceof en)throw e.noMatchError(t);throw t})},t.prototype.noMatchError=function(t){return new Error("Cannot match any routes. URL Segment: '"+t.segmentGroup+"'")},t.prototype.createUrlTree=function(t,e,n){return new Ge(t.segments.length>0?new We([],(r={},r[Fe]=t,r)):t,e,n);var r},t.prototype.expandSegmentGroup=function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?ye.map.call(this.expandChildren(t,e,n),function(t){return new We([],t)}):this.expandSegment(t,n,e,n.segments,r,!0)},t.prototype.expandChildren=function(t,e,n){var r=this;return h(n.children,function(n,i){return r.expandSegmentGroup(t,e,i,n)})},t.prototype.expandSegment=function(t,e,r,i,o,s){var a=this,u=de.of.apply(void 0,r),c=ye.map.call(u,function(u){var c=a.expandSegmentAgainstRoute(t,e,r,u,i,o,s);return xe._catch.call(c,function(t){if(t instanceof en)return n.i(de.of)(null);throw t})}),l=Ee.concatAll.call(c),p=ge.first.call(l,function(t){return!!t});return xe._catch.call(p,function(t,r){if(t instanceof Se.EmptyError){if(a.noLeftoversInUrl(e,i,o))return n.i(de.of)(new We([],{}));throw new en(e)}throw t})},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.expandSegmentAgainstRoute=function(t,e,n,r,i,o,s){return Z(r)!==o?D(e):void 0===r.redirectTo||s&&this.allowRedirects?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):D(e)},t.prototype.expandSegmentAgainstRouteUsingRedirect=function(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)},t.prototype.expandWildCardWithParamsAgainstRouteUsingRedirect=function(t,e,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?k(o):_e.mergeMap.call(this.lineralizeSegments(n,o),function(n){var o=new We(n,{});return i.expandSegment(t,o,e,n,r,!1)})},t.prototype.expandRegularSegmentAgainstRouteUsingRedirect=function(t,e,n,r,i,o){var s=this,a=V(e,r,i),u=a.matched,c=a.consumedSegments,l=a.lastChild,p=a.positionalParamSegments;if(!u)return D(e);var h=this.applyRedirectCommands(c,r.redirectTo,p);return r.redirectTo.startsWith("/")?k(h):_e.mergeMap.call(this.lineralizeSegments(r,h),function(r){return s.expandSegment(t,e,n,r.concat(i.slice(l)),o,!1)})},t.prototype.matchSegmentAgainstRoute=function(t,e,r,i){var o=this;if("**"===r.path)return r.loadChildren?ye.map.call(this.configLoader.load(t.injector,r),function(t){return r._loadedConfig=t,new We(i,{})}):n.i(de.of)(new We(i,{}));var s=V(e,r,i),a=s.matched,u=s.consumedSegments,c=s.lastChild;if(!a)return D(e);var l=i.slice(c),p=this.getChildConfig(t,r);return _e.mergeMap.call(p,function(t){var r=t.module,i=t.routes,s=H(e,u,l,i),a=s.segmentGroup,c=s.slicedSegments;if(0===c.length&&a.hasChildren()){var p=o.expandChildren(r,i,a);return ye.map.call(p,function(t){return new We(u,t)})}if(0===i.length&&0===c.length)return n.i(de.of)(new We(u,{}));var h=o.expandSegment(r,a,i,c,Fe,!0);return ye.map.call(h,function(t){return new We(u.concat(t.segments),t.children)})})},t.prototype.getChildConfig=function(t,e){var r=this;return e.children?n.i(de.of)(new He(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?n.i(de.of)(e._loadedConfig):_e.mergeMap.call(B(t.injector,e),function(n){return n?ye.map.call(r.configLoader.load(t.injector,e),function(t){return e._loadedConfig=t,t}):F(e)}):n.i(de.of)(new He([],t))},t.prototype.lineralizeSegments=function(t,e){for(var r=[],i=e.root;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return n.i(de.of)(r);if(i.numberOfChildren>1||!i.children[Fe])return j(t.redirectTo);i=i.children[Fe]}},t.prototype.applyRedirectCommands=function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)},t.prototype.applyRedirectCreatreUrlTree=function(t,e,n,r){return new Ge(this.createSegmentGroup(t,e.root,n,r),this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)},t.prototype.createQueryParams=function(t,e){var n={};return p(t,function(t,r){n[r]=t.startsWith(":")?e[t.substring(1)]:t}),n},t.prototype.createSegmentGroup=function(t,e,n,r){var i=this,o=this.createSegments(t,e.segments,n,r),s={};return p(e.children,function(e,o){s[o]=i.createSegmentGroup(t,e,n,r)}),new We(o,s)},t.prototype.createSegments=function(t,e,n,r){var i=this;return e.map(function(e){return e.path.startsWith(":")?i.findPosParam(t,e,r):i.findOrReturn(e,n)})},t.prototype.findPosParam=function(t,e,n){var r=n[e.path.substring(1)];if(!r)throw new Error("Cannot redirect to '"+t+"'. Cannot find '"+e.path+"'.");return r},t.prototype.findOrReturn=function(t,e){for(var n=0,r=0,i=e;r<i.length;r++){var o=i[r];if(o.path===t.path)return e.splice(n),o;n++}return t},t}(),on=function(){function t(t){this._root=t}return Object.defineProperty(t.prototype,"root",{get:function(){return this._root.value},enumerable:!0,configurable:!0}),t.prototype.parent=function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null},t.prototype.children=function(t){var e=$(t,this._root);return e?e.children.map(function(t){return t.value}):[]},t.prototype.firstChild=function(t){var e=$(t,this._root);return e&&e.children.length>0?e.children[0].value:null},t.prototype.siblings=function(t){var e=tt(t,this._root,[]);return e.length<2?[]:e[e.length-2].children.map(function(t){return t.value}).filter(function(e){return e!==t})},t.prototype.pathFromRoot=function(t){return tt(t,this._root,[]).map(function(t){return t.value})},t}(),sn=function(){function t(t,e){this.value=t,this.children=e}return t.prototype.toString=function(){return"TreeNode("+this.value+")"},t}(),an=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},un=function(t){function e(e,n){var r=t.call(this,e)||this;return r.snapshot=n,it(r,e),r}return Re(e,t),e.prototype.toString=function(){return this.snapshot.toString()},e}(on),cn=function(){function t(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}return Object.defineProperty(t.prototype,"routeConfig",{get:function(){return this._futureSnapshot.routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=ye.map.call(this.params,function(t){return r(t)})),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=ye.map.call(this.queryParams,function(t){return r(t)})),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.snapshot?this.snapshot.toString():"Future("+this._futureSnapshot+")"},t}(),ln=function(){function t(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}return Object.defineProperty(t.prototype,"routeConfig",{get:function(){return this._routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=r(this.params)),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=r(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return"Route(url:'"+this.url.map(function(t){return t.toString()}).join("/")+"', path:'"+(this._routeConfig?this._routeConfig.path:"")+"')"},t}(),pn=function(t){function e(e,n){var r=t.call(this,n)||this;return r.url=e,it(r,n),r}return Re(e,t),e.prototype.toString=function(){return ot(this._root)},e}(on),hn=function(){function t(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&dt(n[0]))throw new Error("Root segment cannot have matrix parameters");var r=n.find(function(t){return"object"==typeof t&&null!=t&&t.outlets});if(r&&r!==l(n))throw new Error("{outlets:{}} has to be the last command")}return t.prototype.toRoot=function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]},t}(),fn=function(){function t(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}return t}(),dn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},mn=function(){function t(){}return t}(),vn=function(){function t(t,e,n,r){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r}return t.prototype.recognize=function(){try{var t=kt(this.urlTree.root,[],[],this.config).segmentGroup,e=this.processSegmentGroup(this.config,t,Fe),r=new ln([],Object.freeze({}),Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,{},Fe,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new sn(r,e),o=new pn(this.url,i);return this.inheriteParamsAndData(o._root),n.i(de.of)(o)}catch(t){return new we.Observable(function(e){return e.error(t)})}},t.prototype.inheriteParamsAndData=function(t){var e=this,n=t.value,r=rt(n);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(function(t){return e.inheriteParamsAndData(t)})},t.prototype.processSegmentGroup=function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)},t.prototype.processChildren=function(t,e){var n=this,r=S(e,function(e,r){return n.processSegmentGroup(t,e,r)});return It(r),Rt(r),r},t.prototype.processSegment=function(t,e,n,r){for(var i=0,o=t;i<o.length;i++){var s=o[i];try{return this.processSegmentAgainstRoute(s,e,n,r)}catch(t){if(!(t instanceof mn))throw t}}if(this.noLeftoversInUrl(e,n,r))return[];throw new mn},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.processSegmentAgainstRoute=function(t,e,n,r){if(t.redirectTo)throw new mn;if((t.outlet||Fe)!==r)throw new mn;if("**"===t.path){return[new sn(new ln(n,n.length>0?l(n).parameters:{},Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,zt(t),r,t.component,t,Nt(e),Dt(e)+n.length,Gt(t)),[])]}var i=Lt(e,t,n),o=i.consumedSegments,s=i.parameters,a=i.lastChild,u=n.slice(a),c=Ot(t),p=kt(e,o,u,c),h=p.segmentGroup,f=p.slicedSegments,d=new ln(o,s,Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,zt(t),r,t.component,t,Nt(e),Dt(e)+o.length,Gt(t));if(0===f.length&&h.hasChildren()){return[new sn(d,this.processChildren(c,h))]}return 0===c.length&&0===f.length?[new sn(d,[])]:[new sn(d,this.processSegment(c,h,f,Fe))]},t}(),gn=function(){function t(){this._outlets={}}return t.prototype.registerOutlet=function(t,e){this._outlets[t]=e},t.prototype.removeOutlet=function(t){this._outlets[t]=void 0},t}(),yn=function(){function t(){}return t.prototype.shouldProcessUrl=function(t){},t.prototype.extract=function(t){},t.prototype.merge=function(t,e){},t}(),_n=function(){function t(){}return t.prototype.shouldProcessUrl=function(t){return!0},t.prototype.extract=function(t){return t},t.prototype.merge=function(t,e){return t},t}(),bn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},wn=function(){function t(){}return t.prototype.shouldDetach=function(t){return!1},t.prototype.store=function(t,e){},t.prototype.shouldAttach=function(t){return!1},t.prototype.retrieve=function(t){return null},t.prototype.shouldReuseRoute=function(t,e){return t.routeConfig===e.routeConfig},t}(),xn=function(){function t(t,e,n,r,i,o,s,a){var u=this;this.rootComponentType=t,this.urlSerializer=e,this.outletMap=n,this.location=r,this.config=a,this.navigations=new pe.BehaviorSubject(null),this.routerEvents=new he.Subject,this.navigationId=0,this.errorHandler=Wt,this.navigated=!1,this.hooks={beforePreactivation:qt,afterPreactivation:qt},this.urlHandlingStrategy=new _n,this.routeReuseStrategy=new wn;var c=function(t){return u.triggerEvent(new ke(t))},l=function(t){return u.triggerEvent(new je(t))};this.ngModule=i.get(le.NgModuleRef),this.resetConfig(a),this.currentUrlTree=m(),this.rawUrlTree=this.currentUrlTree,this.configLoader=new ze(o,s,c,l),this.currentRouterState=et(this.currentUrlTree,this.rootComponentType),this.processNavigations()}return t.prototype.resetRootComponentType=function(t){this.rootComponentType=t,this.currentRouterState.root.component=this.rootComponentType},t.prototype.initialNavigation=function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})},t.prototype.setUpLocationChangeListener=function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(Zone.current.wrap(function(e){var n=t.urlSerializer.parse(e.url),r="popstate"===e.type?"popstate":"hashchange";setTimeout(function(){t.scheduleNavigation(n,r,{replaceUrl:!0})},0)})))},Object.defineProperty(t.prototype,"routerState",{get:function(){return this.currentRouterState},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"url",{get:function(){return this.serializeUrl(this.currentUrlTree)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"events",{get:function(){return this.routerEvents},enumerable:!0,configurable:!0}),t.prototype.triggerEvent=function(t){this.routerEvents.next(t)},t.prototype.resetConfig=function(t){Q(t),this.config=t},t.prototype.ngOnDestroy=function(){this.dispose()},t.prototype.dispose=function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)},t.prototype.createUrlTree=function(t,e){var r=void 0===e?{}:e,i=r.relativeTo,o=r.queryParams,s=r.fragment,a=r.preserveQueryParams,u=r.queryParamsHandling,c=r.preserveFragment;n.i(le.isDevMode)()&&a&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var l=i||this.routerState.root,p=c?this.currentUrlTree.fragment:s,h=null;if(u)switch(u){case"merge":h=bn({},this.currentUrlTree.queryParams,o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o}else h=a?this.currentUrlTree.queryParams:o;return ft(l,this.currentUrlTree,t,h,p)},t.prototype.navigateByUrl=function(t,e){void 0===e&&(e={skipLocationChange:!1});var n=t instanceof Ge?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",e)},t.prototype.navigate=function(t,e){return void 0===e&&(e={skipLocationChange:!1}),Jt(t),"object"==typeof e.queryParams&&null!==e.queryParams&&(e.queryParams=this.removeEmptyProps(e.queryParams)),this.navigateByUrl(this.createUrlTree(t,e),e)},t.prototype.serializeUrl=function(t){return this.urlSerializer.serialize(t)},t.prototype.parseUrl=function(t){return this.urlSerializer.parse(t)},t.prototype.isActive=function(t,e){if(t instanceof Ge)return v(this.currentUrlTree,t,e);var n=this.urlSerializer.parse(t);return v(this.currentUrlTree,n,e)},t.prototype.removeEmptyProps=function(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return null!==r&&void 0!==r&&(e[n]=r),e},{})},t.prototype.processNavigations=function(){var t=this;me.concatMap.call(this.navigations,function(e){return e?(t.executeScheduledNavigation(e),e.promise.catch(function(){})):n.i(de.of)(null)}).subscribe(function(){})},t.prototype.scheduleNavigation=function(t,e,n){var r=this.navigations.value;if(r&&"imperative"!==e&&"imperative"===r.source&&r.rawUrl.toString()===t.toString())return null;if(r&&"hashchange"==e&&"popstate"===r.source&&r.rawUrl.toString()===t.toString())return null;var i=null,o=null,s=new Promise(function(t,e){i=t,o=e}),a=++this.navigationId;return this.navigations.next({id:a,source:e,rawUrl:t,extras:n,resolve:i,reject:o,promise:s}),s.catch(function(t){return Promise.reject(t)})},t.prototype.executeScheduledNavigation=function(t){var e=this,n=t.id,r=t.rawUrl,i=t.extras,o=t.resolve,s=t.reject,a=this.urlHandlingStrategy.extract(r),u=!this.navigated||a.toString()!==this.currentUrlTree.toString();u&&this.urlHandlingStrategy.shouldProcessUrl(r)?(this.routerEvents.next(new Oe(n,this.serializeUrl(a))),Promise.resolve().then(function(t){return e.runNavigate(a,r,i.skipLocationChange,i.replaceUrl,n,null)}).then(o,s)):u&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)?(this.routerEvents.next(new Oe(n,this.serializeUrl(a))),Promise.resolve().then(function(t){return e.runNavigate(a,r,!1,!1,n,et(a,e.rootComponentType).snapshot)}).then(o,s)):(this.rawUrlTree=r,o(null))},t.prototype.runNavigate=function(t,e,r,i,s,a){var u=this;return s!==this.navigationId?(this.location.go(this.urlSerializer.serialize(this.currentUrlTree)),this.routerEvents.next(new Ie(s,this.serializeUrl(t),"Navigation ID "+s+" is not equal to the current navigation id "+this.navigationId)),Promise.resolve(!1)):new Promise(function(c,l){var p;if(a)p=n.i(de.of)({appliedUrl:t,snapshot:a});else{var h=u.ngModule.injector,f=U(h,u.configLoader,u.urlSerializer,t,u.config);p=_e.mergeMap.call(f,function(e){return ye.map.call(Pt(u.rootComponentType,u.config,e,u.serializeUrl(e)),function(n){return u.routerEvents.next(new De(s,u.serializeUrl(t),u.serializeUrl(e),n)),{appliedUrl:e,snapshot:n}})})}var d,m,v=_e.mergeMap.call(p,function(t){return ye.map.call(u.hooks.beforePreactivation(t.snapshot),function(){return t})}),g=ye.map.call(v,function(t){var e=t.appliedUrl,n=t.snapshot,r=u.ngModule.injector;return d=new Mn(n,u.currentRouterState.snapshot,r),d.traverse(u.outletMap),{appliedUrl:e,snapshot:n}}),y=_e.mergeMap.call(g,function(t){var e=t.appliedUrl,r=t.snapshot;return u.navigationId!==s?n.i(de.of)(!1):ye.map.call(d.checkGuards(),function(t){return{appliedUrl:e,snapshot:r,shouldActivate:t}})}),_=_e.mergeMap.call(y,function(t){return u.navigationId!==s?n.i(de.of)(!1):t.shouldActivate?ye.map.call(d.resolveData(),function(){return t}):n.i(de.of)(t)}),b=_e.mergeMap.call(_,function(t){return ye.map.call(u.hooks.afterPreactivation(t.snapshot),function(){return t})}),w=ye.map.call(b,function(t){var e=t.appliedUrl,n=t.snapshot,r=t.shouldActivate;if(r){return{appliedUrl:e,state:ut(u.routeReuseStrategy,n,u.currentRouterState),shouldActivate:r}}return{appliedUrl:e,state:null,shouldActivate:r}}),x=u.currentRouterState,E=u.currentUrlTree;w.forEach(function(t){var n=t.appliedUrl,o=t.state;if(!t.shouldActivate||s!==u.navigationId)return void(m=!1);if(u.currentUrlTree=n,u.rawUrlTree=u.urlHandlingStrategy.merge(u.currentUrlTree,e),u.currentRouterState=o,!r){var a=u.urlSerializer.serialize(u.rawUrlTree);u.location.isCurrentPathEqualTo(a)||i?u.location.replaceState(a):u.location.go(a)}new Cn(u.routeReuseStrategy,o,x).activate(u.outletMap),m=!0}).then(function(){m?(u.navigated=!0,u.routerEvents.next(new Le(s,u.serializeUrl(t),u.serializeUrl(u.currentUrlTree))),c(!0)):(u.resetUrlToCurrentUrlTree(),u.routerEvents.next(new Ie(s,u.serializeUrl(t),"")),c(!1))},function(n){if(o(n))u.resetUrlToCurrentUrlTree(),u.navigated=!0,u.routerEvents.next(new Ie(s,u.serializeUrl(t),n.message)),c(!1);else{u.routerEvents.next(new Ne(s,u.serializeUrl(t),n));try{c(u.errorHandler(n))}catch(t){l(t)}}u.currentRouterState=x,u.currentUrlTree=E,u.rawUrlTree=u.urlHandlingStrategy.merge(u.currentUrlTree,e),u.location.replaceState(u.serializeUrl(u.rawUrlTree))})})},t.prototype.resetUrlToCurrentUrlTree=function(){var t=this.urlSerializer.serialize(this.rawUrlTree);this.location.replaceState(t)},t}(),En=function(){function t(t){this.path=t}return Object.defineProperty(t.prototype,"route",{get:function(){return this.path[this.path.length-1]},enumerable:!0,configurable:!0}),t}(),Sn=function(){function t(t,e){this.component=t,this.route=e}return t}(),Mn=function(){function t(t,e,n){this.future=t,this.curr=e,this.moduleInjector=n,this.canActivateChecks=[],this.canDeactivateChecks=[]}return t.prototype.traverse=function(t){var e=this.future._root,n=this.curr?this.curr._root:null;this.traverseChildRoutes(e,n,t,[e.value])},t.prototype.checkGuards=function(){var t=this;if(0===this.canDeactivateChecks.length&&0===this.canActivateChecks.length)return n.i(de.of)(!0);var e=this.runCanDeactivateChecks();return _e.mergeMap.call(e,function(e){return e?t.runCanActivateChecks():n.i(de.of)(!1)})},t.prototype.resolveData=function(){var t=this;if(0===this.canActivateChecks.length)return n.i(de.of)(null);var e=n.i(fe.from)(this.canActivateChecks),r=me.concatMap.call(e,function(e){return t.runResolve(e.route)});return be.reduce.call(r,function(t,e){return t})},t.prototype.traverseChildRoutes=function(t,e,n,r){var i=this,o=Qt(e);t.children.forEach(function(t){i.traverseRoutes(t,o[t.value.outlet],n,r.concat([t.value])),delete o[t.value.outlet]}),p(o,function(t,e){return i.deactiveRouteAndItsChildren(t,n._outlets[e])})},t.prototype.traverseRoutes=function(t,e,n,r){var i=t.value,o=e?e.value:null,s=n?n._outlets[t.value.outlet]:null;o&&i._routeConfig===o._routeConfig?(this.shouldRunGuardsAndResolvers(o,i,i._routeConfig.runGuardsAndResolvers)?(this.canActivateChecks.push(new En(r)),this.canDeactivateChecks.push(new Sn(s.component,o))):(i.data=o.data,i._resolvedData=o._resolvedData),i.component?this.traverseChildRoutes(t,e,s?s.outletMap:null,r):this.traverseChildRoutes(t,e,n,r)):(o&&this.deactiveRouteAndItsChildren(e,s),this.canActivateChecks.push(new En(r)),i.component?this.traverseChildRoutes(t,null,s?s.outletMap:null,r):this.traverseChildRoutes(t,null,n,r))},t.prototype.shouldRunGuardsAndResolvers=function(t,e,n){switch(n){case"always":return!0;case"paramsOrQueryParamsChange":return!at(t,e)||!u(t.queryParams,e.queryParams);case"paramsChange":default:return!at(t,e)}},t.prototype.deactiveRouteAndItsChildren=function(t,e){var n=this,r=Qt(t),i=t.value;p(r,function(t,r){i.component?e?n.deactiveRouteAndItsChildren(t,e.outletMap._outlets[r]):n.deactiveRouteAndItsChildren(t,null):n.deactiveRouteAndItsChildren(t,e)}),i.component&&e&&e.isActivated?this.canDeactivateChecks.push(new Sn(e.component,i)):this.canDeactivateChecks.push(new Sn(null,i))},t.prototype.runCanDeactivateChecks=function(){var t=this,e=n.i(fe.from)(this.canDeactivateChecks),r=_e.mergeMap.call(e,function(e){return t.runCanDeactivate(e.component,e.route)});return ve.every.call(r,function(t){return t===!0})},t.prototype.runCanActivateChecks=function(){var t=this,e=n.i(fe.from)(this.canActivateChecks),r=_e.mergeMap.call(e,function(e){return f(n.i(fe.from)([t.runCanActivateChild(e.path),t.runCanActivate(e.route)]))});return ve.every.call(r,function(t){return t===!0})},t.prototype.runCanActivate=function(t){var e=this,r=t._routeConfig?t._routeConfig.canActivate:null;return r&&0!==r.length?f(ye.map.call(n.i(fe.from)(r),function(n){var r,i=e.getToken(n,t);return r=d(i.canActivate?i.canActivate(t,e.future):i(t,e.future)),ge.first.call(r)})):n.i(de.of)(!0)},t.prototype.runCanActivateChild=function(t){var e=this,r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(function(t){return e.extractCanActivateChild(t)}).filter(function(t){return null!==t});return f(ye.map.call(n.i(fe.from)(i),function(t){return f(ye.map.call(n.i(fe.from)(t.guards),function(n){var i,o=e.getToken(n,t.node);return i=d(o.canActivateChild?o.canActivateChild(r,e.future):o(r,e.future)),ge.first.call(i)}))}))},t.prototype.extractCanActivateChild=function(t){var e=t._routeConfig?t._routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null},t.prototype.runCanDeactivate=function(t,e){var r=this,i=e&&e._routeConfig?e._routeConfig.canDeactivate:null;if(!i||0===i.length)return n.i(de.of)(!0);var o=_e.mergeMap.call(n.i(fe.from)(i),function(n){var i,o=r.getToken(n,e);return i=d(o.canDeactivate?o.canDeactivate(t,e,r.curr,r.future):o(t,e,r.curr,r.future)),ge.first.call(i)});return ve.every.call(o,function(t){return t===!0})},t.prototype.runResolve=function(t){var e=t._resolve;return ye.map.call(this.resolveNode(e,t),function(e){return t._resolvedData=e,t.data=bn({},t.data,rt(t).resolve),null})},t.prototype.resolveNode=function(t,e){var n=this;return h(t,function(t,r){var i=n.getToken(r,e);return d(i.resolve?i.resolve(e,n.future):i(e,n.future))})},t.prototype.getToken=function(t,e){var n=Zt(e);return(n?n.module.injector:this.moduleInjector).get(t)},t}(),Cn=function(){function t(t,e,n){this.routeReuseStrategy=t,this.futureState=e,this.currState=n}return t.prototype.activate=function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),st(this.futureState.root),this.activateChildRoutes(e,n,t)},t.prototype.deactivateChildRoutes=function(t,e,n){var r=this,i=Qt(e);t.children.forEach(function(t){r.deactivateRoutes(t,i[t.value.outlet],n),delete i[t.value.outlet]}),p(i,function(t,e){return r.deactiveRouteAndItsChildren(t,n)})},t.prototype.activateChildRoutes=function(t,e,n){var r=this,i=Qt(e);t.children.forEach(function(t){r.activateRoutes(t,i[t.value.outlet],n)})},t.prototype.deactivateRoutes=function(t,e,n){var r=t.value,i=e?e.value:null;if(r===i)if(r.component){var o=Kt(n,r);this.deactivateChildRoutes(t,e,o.outletMap)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactiveRouteAndItsChildren(e,n)},t.prototype.activateRoutes=function(t,e,n){var r=t.value;if(r===(e?e.value:null))if(st(r),r.component){var i=Kt(n,r);this.activateChildRoutes(t,e,i.outletMap)}else this.activateChildRoutes(t,e,n);else if(r.component){st(r);var i=Kt(n,t.value);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var o=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),i.attach(o.componentRef,o.route.value),Xt(o.route)}else{var s=new gn;this.placeComponentIntoOutlet(s,r,i),this.activateChildRoutes(t,null,s)}}else st(r),this.activateChildRoutes(t,null,n)},t.prototype.placeComponentIntoOutlet=function(t,e,n){var r=Yt(e.snapshot),i=r?r.module.componentFactoryResolver:null;n.activateWith(e,i,t)},t.prototype.deactiveRouteAndItsChildren=function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactiveRouteAndOutlet(t,e)},t.prototype.detachAndStoreRouteSubtree=function(t,e){var n=Kt(e,t.value),r=n.detach();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t})},t.prototype.deactiveRouteAndOutlet=function(t,e){var n=this,r=Qt(t),i=null;try{i=Kt(e,t.value)}catch(t){return}var o=i.outletMap;p(r,function(r,i){t.value.component?n.deactiveRouteAndItsChildren(r,o):n.deactiveRouteAndItsChildren(r,e)}),i&&i.isActivated&&i.deactivate()},t}(),Tn=function(){function t(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],null==n&&r.setElementAttribute(i.nativeElement,"tabindex","0")}return Object.defineProperty(t.prototype,"routerLink",{set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveQueryParams",{set:function(t){n.i(le.isDevMode)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t},enumerable:!0,configurable:!0}),t.prototype.onClick=function(){var t={skipLocationChange:$t(this.skipLocationChange),replaceUrl:$t(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,t),!0},Object.defineProperty(t.prototype,"urlTree",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:$t(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:$t(this.preserveFragment)})},enumerable:!0,configurable:!0}),t}();Tn.decorators=[{type:le.Directive,args:[{selector:":not(a)[routerLink]"}]}],Tn.ctorParameters=function(){return[{type:xn},{type:cn},{type:void 0,decorators:[{type:le.Attribute,args:["tabindex"]}]},{type:le.Renderer},{type:le.ElementRef}]},Tn.propDecorators={queryParams:[{type:le.Input}],fragment:[{type:le.Input}],queryParamsHandling:[{type:le.Input}],preserveFragment:[{type:le.Input}],skipLocationChange:[{type:le.Input}],replaceUrl:[{type:le.Input}],routerLink:[{type:le.Input}],preserveQueryParams:[{type:le.Input}],onClick:[{type:le.HostListener,args:["click"]}]};var An=function(){function t(t,e,n){var r=this;this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe(function(t){t instanceof Le&&r.updateTargetUrlAndHref()})}return Object.defineProperty(t.prototype,"routerLink",{set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveQueryParams",{set:function(t){n.i(le.isDevMode)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){this.updateTargetUrlAndHref()},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.onClick=function(t,e,n){if(0!==t||e||n)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var r={skipLocationChange:$t(this.skipLocationChange),replaceUrl:$t(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,r),!1},t.prototype.updateTargetUrlAndHref=function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))},Object.defineProperty(t.prototype,"urlTree",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:$t(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:$t(this.preserveFragment)})},enumerable:!0,configurable:!0}),t}();An.decorators=[{type:le.Directive,args:[{selector:"a[routerLink]"}]}],An.ctorParameters=function(){return[{type:xn},{type:cn},{type:ce.LocationStrategy}]},An.propDecorators={target:[{type:le.HostBinding,args:["attr.target"]},{type:le.Input}],queryParams:[{type:le.Input}],fragment:[{type:le.Input}],queryParamsHandling:[{type:le.Input}],preserveFragment:[{type:le.Input}],skipLocationChange:[{type:le.Input}],replaceUrl:[{type:le.Input}],href:[{type:le.HostBinding}],routerLink:[{type:le.Input}],preserveQueryParams:[{type:le.Input}],onClick:[{type:le.HostListener,args:["click",["$event.button","$event.ctrlKey","$event.metaKey"]]}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var Pn=function(){function t(t,e,n,r){var i=this;this.router=t,this.element=e,this.renderer=n,this.cdr=r,this.classes=[],this.active=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=t.events.subscribe(function(t){t instanceof Le&&i.update()})}return Object.defineProperty(t.prototype,"isActive",{get:function(){return this.active},enumerable:!0,configurable:!0}),t.prototype.ngAfterContentInit=function(){var t=this;this.links.changes.subscribe(function(e){return t.update()}),this.linksWithHrefs.changes.subscribe(function(e){return t.update()}),this.update()},Object.defineProperty(t.prototype,"routerLinkActive",{set:function(t){var e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(function(t){return!!t})},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){this.update()},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.update=function(){var t=this;if(this.links&&this.linksWithHrefs&&this.router.navigated){var e=this.hasActiveLinks();this.active!==e&&(this.active=e,this.classes.forEach(function(n){return t.renderer.setElementClass(t.element.nativeElement,n,e)}),this.cdr.detectChanges())}},t.prototype.isLinkActive=function(t){var e=this;return function(n){return t.isActive(n.urlTree,e.routerLinkActiveOptions.exact)}},t.prototype.hasActiveLinks=function(){return this.links.some(this.isLinkActive(this.router))||this.linksWithHrefs.some(this.isLinkActive(this.router))},t}();Pn.decorators=[{type:le.Directive,args:[{selector:"[routerLinkActive]",exportAs:"routerLinkActive"}]}],Pn.ctorParameters=function(){return[{type:xn},{type:le.ElementRef},{type:le.Renderer},{type:le.ChangeDetectorRef}]},Pn.propDecorators={links:[{type:le.ContentChildren,args:[Tn,{descendants:!0}]}],linksWithHrefs:[{type:le.ContentChildren,args:[An,{descendants:!0}]}],routerLinkActiveOptions:[{type:le.Input}],routerLinkActive:[{type:le.Input}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var Rn=function(){function t(t,e,n,r){this.parentOutletMap=t,this.location=e,this.resolver=n,this.name=r,this.activateEvents=new le.EventEmitter,this.deactivateEvents=new le.EventEmitter,t.registerOutlet(r?r:Fe,this)}return t.prototype.ngOnDestroy=function(){this.parentOutletMap.removeOutlet(this.name?this.name:Fe)},Object.defineProperty(t.prototype,"locationInjector",{get:function(){return this.location.injector},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"locationFactoryResolver",{get:function(){return this.resolver},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isActivated",{get:function(){return!!this.activated},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRoute",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute},enumerable:!0,configurable:!0}),t.prototype.detach=function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t},t.prototype.attach=function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)},t.prototype.deactivate=function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}},t.prototype.activate=function(t,e,n,r,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this.outletMap=i,this._activatedRoute=t;var o=t._futureSnapshot,s=o._routeConfig.component,a=e.resolveComponentFactory(s),u=le.ReflectiveInjector.fromResolvedProviders(r,n);this.activated=this.location.createComponent(a,this.location.length,u,[]),this.activated.changeDetectorRef.detectChanges(),this.activateEvents.emit(this.activated.instance)},t.prototype.activateWith=function(t,e,n){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this.outletMap=n,this._activatedRoute=t;var r=t._futureSnapshot,i=r._routeConfig.component;e=e||this.resolver;var o=e.resolveComponentFactory(i),s=new On(t,n,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,s,[]),this.activated.changeDetectorRef.detectChanges(),this.activateEvents.emit(this.activated.instance)},t}();Rn.decorators=[{type:le.Directive,args:[{selector:"router-outlet"}]}],Rn.ctorParameters=function(){return[{type:gn},{type:le.ViewContainerRef},{type:le.ComponentFactoryResolver},{type:void 0,decorators:[{type:le.Attribute,args:["name"]}]}]},Rn.propDecorators={activateEvents:[{type:le.Output,args:["activate"]}],deactivateEvents:[{type:le.Output,args:["deactivate"]}]};var On=function(){function t(t,e,n){this.route=t,this.map=e,this.parent=n}return t.prototype.get=function(t,e){return t===cn?this.route:t===gn?this.map:this.parent.get(t,e)},t}(),Ln=function(){function t(){}return t.prototype.shouldDetach=function(t){},t.prototype.store=function(t,e){},t.prototype.shouldAttach=function(t){},t.prototype.retrieve=function(t){},t.prototype.shouldReuseRoute=function(t,e){},t}(),In=function(){function t(){}return t.prototype.preload=function(t,e){},t}(),Nn=function(){function t(){}return t.prototype.preload=function(t,e){return xe._catch.call(e(),function(){return n.i(de.of)(null)})},t}(),Dn=function(){function t(){}return t.prototype.preload=function(t,e){return n.i(de.of)(null)},t}(),kn=function(){function t(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i;var o=function(e){return t.triggerEvent(new ke(e))},s=function(e){return t.triggerEvent(new je(e))};this.loader=new ze(e,n,o,s)}return t.prototype.setUpPreloading=function(){var t=this,e=Pe.filter.call(this.router.events,function(t){return t instanceof Le});this.subscription=me.concatMap.call(e,function(){return t.preload()}).subscribe(function(){})},t.prototype.preload=function(){var t=this.injector.get(le.NgModuleRef);return this.processRoutes(t,this.router.config)},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.processRoutes=function(t,e){for(var r=[],i=0,o=e;i<o.length;i++){var s=o[i],a=s;if(a.loadChildren&&!a.canLoad&&a._loadedConfig){var u=a._loadedConfig;r.push(this.processRoutes(t,u.routes))}else a.loadChildren&&!a.canLoad?r.push(this.preloadConfig(t,a)):a.children&&r.push(this.processRoutes(t,a.children))}return Te.mergeAll.call(n.i(fe.from)(r))},t.prototype.preloadConfig=function(t,e){var n=this;return this.preloadingStrategy.preload(e,function(){var r=n.loader.load(t.injector,e);return _e.mergeMap.call(r,function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)})})},t}();kn.decorators=[{type:le.Injectable}],kn.ctorParameters=function(){return[{type:xn},{type:le.NgModuleFactoryLoader},{type:le.Compiler},{type:le.Injector},{type:In}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var jn=[Rn,Tn,An,Pn],Fn=new le.InjectionToken("ROUTER_CONFIGURATION"),Un=new le.InjectionToken("ROUTER_FORROOT_GUARD"),Bn=[ce.Location,{provide:Xe,useClass:Ye},{provide:xn,useFactory:ie,deps:[le.ApplicationRef,Xe,gn,ce.Location,le.Injector,le.NgModuleFactoryLoader,le.Compiler,Ve,Fn,[yn,new le.Optional],[Ln,new le.Optional]]},gn,{provide:cn,useFactory:oe,deps:[xn]},{provide:le.NgModuleFactoryLoader,useClass:le.SystemJsNgModuleLoader},kn,Dn,Nn,{provide:Fn,useValue:{enableTracing:!1}}],Vn=function(){function t(t,e){}return t.forRoot=function(e,n){return{ngModule:t,providers:[Bn,re(e),{provide:Un,useFactory:ne,deps:[[xn,new le.Optional,new le.SkipSelf]]},{provide:Fn,useValue:n?n:{}},{provide:ce.LocationStrategy,useFactory:ee,deps:[ce.PlatformLocation,[new le.Inject(ce.APP_BASE_HREF),new le.Optional],Fn]},{provide:In,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Dn},{provide:le.NgProbeToken,multi:!0,useFactory:te},ue()]}},t.forChild=function(e){return{ngModule:t,providers:[re(e)]}},t}();Vn.decorators=[{type:le.NgModule,args:[{declarations:jn,exports:jn}]}],Vn.ctorParameters=function(){return[{type:void 0,decorators:[{type:le.Optional},{type:le.Inject,args:[Un]}]},{type:xn,decorators:[{type:le.Optional}]}]};var Hn=function(){function t(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new he.Subject}return t.prototype.appInitializer=function(){var t=this;return this.injector.get(ce.LOCATION_INITIALIZED,Promise.resolve(null)).then(function(){var e=null,r=new Promise(function(t){return e=t}),i=t.injector.get(xn),o=t.injector.get(Fn);if(t.isLegacyDisabled(o)||t.isLegacyEnabled(o))e(!0);else if("disabled"===o.initialNavigation)i.setUpLocationChangeListener(),e(!0);else{if("enabled"!==o.initialNavigation)throw new Error("Invalid initialNavigation options: '"+o.initialNavigation+"'");i.hooks.afterPreactivation=function(){return t.initNavigation?n.i(de.of)(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},i.initialNavigation()}return r})},t.prototype.bootstrapListener=function(t){var e=this.injector.get(Fn),n=this.injector.get(kn),r=this.injector.get(xn),i=this.injector.get(le.ApplicationRef);t===i.components[0]&&(this.isLegacyEnabled(e)?r.initialNavigation():this.isLegacyDisabled(e)&&r.setUpLocationChangeListener(),n.setUpPreloading(),r.resetRootComponentType(i.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())},t.prototype.isLegacyEnabled=function(t){return"legacy_enabled"===t.initialNavigation||t.initialNavigation===!0||void 0===t.initialNavigation},t.prototype.isLegacyDisabled=function(t){return"legacy_disabled"===t.initialNavigation||t.initialNavigation===!1},t}();Hn.decorators=[{type:le.Injectable}],Hn.ctorParameters=function(){return[{type:le.Injector}]};var zn=new le.InjectionToken("Router Initializer"),Gn=new le.Version("4.0.1")},"./node_modules/base64-js/index.js":function(t,e,n){"use strict";function r(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function i(t){return 3*t.length/4-r(t)}function o(t){var e,n,i,o,s,a,u=t.length;s=r(t),a=new p(3*u/4-s),i=s>0?u-4:u;var c=0;for(e=0,n=0;e<i;e+=4,n+=3)o=l[t.charCodeAt(e)]<<18|l[t.charCodeAt(e+1)]<<12|l[t.charCodeAt(e+2)]<<6|l[t.charCodeAt(e+3)],a[c++]=o>>16&255,a[c++]=o>>8&255,a[c++]=255&o;return 2===s?(o=l[t.charCodeAt(e)]<<2|l[t.charCodeAt(e+1)]>>4,a[c++]=255&o):1===s&&(o=l[t.charCodeAt(e)]<<10|l[t.charCodeAt(e+1)]<<4|l[t.charCodeAt(e+2)]>>2,a[c++]=o>>8&255,a[c++]=255&o),a}function s(t){return c[t>>18&63]+c[t>>12&63]+c[t>>6&63]+c[63&t]}function a(t,e,n){for(var r,i=[],o=e;o<n;o+=3)r=(t[o]<<16)+(t[o+1]<<8)+t[o+2],i.push(s(r));return i.join("")}function u(t){for(var e,n=t.length,r=n%3,i="",o=[],s=16383,u=0,l=n-r;u<l;u+=s)o.push(a(t,u,u+s>l?l:u+s));return 1===r?(e=t[n-1],i+=c[e>>2],i+=c[e<<4&63],i+="=="):2===r&&(e=(t[n-2]<<8)+t[n-1],i+=c[e>>10],i+=c[e>>4&63],i+=c[e<<2&63],i+="="),o.push(i),o.join("")}e.byteLength=i,e.toByteArray=o,e.fromByteArray=u;for(var c=[],l=[],p="undefined"!=typeof Uint8Array?Uint8Array:Array,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0,d=h.length;f<d;++f)c[f]=h[f],l[h.charCodeAt(f)]=f;l["-".charCodeAt(0)]=62,l["_".charCodeAt(0)]=63},"./node_modules/buffer/index.js":function(t,e,n){"use strict";(function(t){function r(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}function i(){return s.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(t,e){if(i()<e)throw new RangeError("Invalid typed array length");return s.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=s.prototype):(null===t&&(t=new s(e)),t.length=e),t}function s(t,e,n){if(!(s.TYPED_ARRAY_SUPPORT||this instanceof s))return new s(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return l(this,t)}return a(this,t,e,n)}function a(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?f(t,e,n,r):"string"==typeof e?p(t,e,n):d(t,e)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function c(t,e,n,r){return u(e),e<=0?o(t,e):void 0!==n?"string"==typeof r?o(t,e).fill(n,r):o(t,e).fill(n):o(t,e)}function l(t,e){if(u(e),t=o(t,e<0?0:0|m(e)),!s.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function p(t,e,n){if("string"==typeof n&&""!==n||(n="utf8"),!s.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|g(e,n);t=o(t,r);var i=t.write(e,n);return i!==r&&(t=t.slice(0,i)),t}function h(t,e){var n=e.length<0?0:0|m(e.length);t=o(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function f(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r),s.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=s.prototype):t=h(t,e),t}function d(t,e){if(s.isBuffer(e)){var n=0|m(e.length);return t=o(t,n),0===t.length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||Q(e.length)?o(t,0):h(t,e);if("Buffer"===e.type&&$(e.data))return h(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function m(t){if(t>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|t}function v(t){return+t!=t&&(t=0),s.alloc(+t)}function g(t,e){if(s.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return W(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Y(t).length;default:if(r)return W(t).length;e=(""+e).toLowerCase(),r=!0}}function y(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,e>>>=0,n<=e)return"";for(t||(t="utf8");;)switch(t){case"hex":return I(this,e,n);case"utf8":case"utf-8":return P(this,e,n);case"ascii":return O(this,e,n);case"latin1":case"binary":return L(this,e,n);case"base64":return A(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function _(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function b(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=s.from(e,r)),s.isBuffer(e))return 0===e.length?-1:w(t,e,n,r,i);if("number"==typeof e)return e&=255,s.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):w(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function w(t,e,n,r,i){function o(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}var s=1,a=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,a/=2,u/=2,n/=2}var c;if(i){var l=-1;for(c=n;c<a;c++)if(o(t,c)===o(e,l===-1?0:c-l)){if(l===-1&&(l=c),c-l+1===u)return l*s}else l!==-1&&(c-=c-l),l=-1}else for(n+u>a&&(n=a-u),c=n;c>=0;c--){for(var p=!0,h=0;h<u;h++)if(o(t,c+h)!==o(e,h)){p=!1;break}if(p)return c}return-1}function x(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[n+s]=a}return s}function E(t,e,n,r){return Z(W(e,t.length-n),t,n,r)}function S(t,e,n,r){return Z(q(e),t,n,r)}function M(t,e,n,r){return S(t,e,n,r)}function C(t,e,n,r){return Z(Y(e),t,n,r)}function T(t,e,n,r){return Z(X(e,t.length-n),t,n,r)}function A(t,e,n){return 0===e&&n===t.length?K.fromByteArray(t):K.fromByteArray(t.slice(e,n))}function P(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o=t[i],s=null,a=o>239?4:o>223?3:o>191?2:1;if(i+a<=n){var u,c,l,p;switch(a){case 1:o<128&&(s=o);break;case 2:u=t[i+1],128==(192&u)&&(p=(31&o)<<6|63&u)>127&&(s=p);break;case 3:u=t[i+1],c=t[i+2],128==(192&u)&&128==(192&c)&&(p=(15&o)<<12|(63&u)<<6|63&c)>2047&&(p<55296||p>57343)&&(s=p);break;case 4:u=t[i+1],c=t[i+2],l=t[i+3],128==(192&u)&&128==(192&c)&&128==(192&l)&&(p=(15&o)<<18|(63&u)<<12|(63&c)<<6|63&l)>65535&&p<1114112&&(s=p)}}null===s?(s=65533,a=1):s>65535&&(s-=65536,r.push(s>>>10&1023|55296),s=56320|1023&s),r.push(s),i+=a}return R(r)}function R(t){var e=t.length;if(e<=tt)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=tt));return n}function O(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function L(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function I(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=G(t[o]);return i}function N(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function D(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function k(t,e,n,r,i,o){if(!s.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function j(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function F(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function U(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function B(t,e,n,r,i){return i||U(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),J.write(t,e,n,r,23,4),n+4}function V(t,e,n,r,i){return i||U(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),J.write(t,e,n,r,52,8),n+8}function H(t){if(t=z(t).replace(et,""),t.length<2)return"";for(;t.length%4!=0;)t+="=";return t}function z(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function G(t){return t<16?"0"+t.toString(16):t.toString(16)}function W(t,e){e=e||1/0;for(var n,r=t.length,i=null,o=[],s=0;s<r;++s){if((n=t.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function q(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function X(t,e){for(var n,r,i,o=[],s=0;s<t.length&&!((e-=2)<0);++s)n=t.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function Y(t){return K.toByteArray(H(t))}function Z(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function Q(t){return t!==t}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var K=n("./node_modules/base64-js/index.js"),J=n("./node_modules/ieee754/index.js"),$=n("./node_modules/isarray/index.js");e.Buffer=s,e.SlowBuffer=v,e.INSPECT_MAX_BYTES=50,s.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:r(),e.kMaxLength=i(),s.poolSize=8192,s._augment=function(t){return t.__proto__=s.prototype,t},s.from=function(t,e,n){return a(null,t,e,n)},s.TYPED_ARRAY_SUPPORT&&(s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0})),s.alloc=function(t,e,n){return c(null,t,e,n)},s.allocUnsafe=function(t){return l(null,t)},s.allocUnsafeSlow=function(t){return l(null,t)},s.isBuffer=function(t){return!(null==t||!t._isBuffer)},s.compare=function(t,e){if(!s.isBuffer(t)||!s.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},s.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(t,e){if(!$(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return s.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=s.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var o=t[n];if(!s.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},s.byteLength=g,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)_(this,e,e+1);return this},s.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)_(this,e,e+3),_(this,e+1,e+2);return this},s.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)_(this,e,e+7),_(this,e+1,e+6),_(this,e+2,e+5),_(this,e+3,e+4);return this},s.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?P(this,0,t):y.apply(this,arguments)},s.prototype.equals=function(t){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===s.compare(this,t)},s.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},s.prototype.compare=function(t,e,n,r,i){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,r>>>=0,i>>>=0,this===t)return 0;for(var o=i-r,a=n-e,u=Math.min(o,a),c=this.slice(r,i),l=t.slice(e,n),p=0;p<u;++p)if(c[p]!==l[p]){o=c[p],a=l[p];break}return o<a?-1:a<o?1:0},s.prototype.includes=function(t,e,n){return this.indexOf(t,e,n)!==-1},s.prototype.indexOf=function(t,e,n){return b(this,t,e,n,!0)},s.prototype.lastIndexOf=function(t,e,n){return b(this,t,e,n,!1)},s.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return x(this,t,e,n);case"utf8":case"utf-8":return E(this,t,e,n);case"ascii":return S(this,t,e,n);case"latin1":case"binary":return M(this,t,e,n);case"base64":return C(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var tt=4096;s.prototype.slice=function(t,e){var n=this.length;t=~~t,e=void 0===e?n:~~e,t<0?(t+=n)<0&&(t=0):t>n&&(t=n),e<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);var r;if(s.TYPED_ARRAY_SUPPORT)r=this.subarray(t,e),r.__proto__=s.prototype;else{var i=e-t;r=new s(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+t]}return r},s.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||D(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},s.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||D(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},s.prototype.readUInt8=function(t,e){return e||D(t,1,this.length),this[t]},s.prototype.readUInt16LE=function(t,e){return e||D(t,2,this.length),this[t]|this[t+1]<<8},s.prototype.readUInt16BE=function(t,e){return e||D(t,2,this.length),this[t]<<8|this[t+1]},s.prototype.readUInt32LE=function(t,e){return e||D(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},s.prototype.readUInt32BE=function(t,e){return e||D(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},s.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||D(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},s.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||D(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},s.prototype.readInt8=function(t,e){return e||D(t,1,this.length),128&this[t]?(255-this[t]+1)*-1:this[t]},s.prototype.readInt16LE=function(t,e){e||D(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt16BE=function(t,e){e||D(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt32LE=function(t,e){return e||D(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},s.prototype.readInt32BE=function(t,e){return e||D(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},s.prototype.readFloatLE=function(t,e){return e||D(t,4,this.length),J.read(this,t,!0,23,4)},s.prototype.readFloatBE=function(t,e){return e||D(t,4,this.length),J.read(this,t,!1,23,4)},s.prototype.readDoubleLE=function(t,e){return e||D(t,8,this.length),J.read(this,t,!0,52,8)},s.prototype.readDoubleBE=function(t,e){return e||D(t,8,this.length),J.read(this,t,!1,52,8)},s.prototype.writeUIntLE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){k(this,t,e,n,Math.pow(2,8*n)-1,0)}var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},s.prototype.writeUIntBE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){k(this,t,e,n,Math.pow(2,8*n)-1,0)}var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},s.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,1,255,0),s.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},s.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):j(this,t,e,!0),e+2},s.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):j(this,t,e,!1),e+2},s.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):F(this,t,e,!0),e+4},s.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):F(this,t,e,!1),e+4},s.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);k(this,t,e,n,i-1,-i)}var o=0,s=1,a=0;for(this[e]=255&t;++o<n&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},s.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);k(this,t,e,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},s.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,1,127,-128),s.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},s.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):j(this,t,e,!0),e+2},s.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):j(this,t,e,!1),e+2},s.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,4,2147483647,-2147483648),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):F(this,t,e,!0),e+4},s.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):F(this,t,e,!1),e+4},s.prototype.writeFloatLE=function(t,e,n){return B(this,t,e,!0,n)},s.prototype.writeFloatBE=function(t,e,n){return B(this,t,e,!1,n)},s.prototype.writeDoubleLE=function(t,e,n){return V(this,t,e,!0,n)},s.prototype.writeDoubleBE=function(t,e,n){return V(this,t,e,!1,n)},s.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!s.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},s.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!s.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0);var o;if("number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var a=s.isBuffer(t)?t:W(new s(t,r).toString()),u=a.length;for(o=0;o<n-e;++o)this[o+e]=a[o%u]}return this};var et=/[^+\/0-9A-Za-z-_]/g}).call(e,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/index.js?sourceMap!./node_modules/sass-loader/lib/loader.js?sourceMap!./demo/app/app.component.scss":function(t,e,n){e=t.exports=n("./node_modules/css-loader/lib/css-base.js")(void 0),e.push([t.i,"body {\n  background: #16191C;\n  color: #6D737A;\n  font-family: 'Open Sans', sans-serif;\n  margin: 0;\n  padding: 0;\n  overflow: hidden; }\n\nh1, h2, h3, h4 {\n  font-family: 'Raleway', sans-serif;\n  color: #fff;\n  font-weight: 300; }\n\na {\n  color: #3F56D1; }\n\nheader {\n  background-color: #3e87ec;\n  color: #FFF;\n  height: 48px;\n  width: 55px;\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 999; }\n  header .hamburger-menu {\n    display: inline-block;\n    width: 35px;\n    height: 48px;\n    border: none;\n    cursor: pointer;\n    background: none;\n    padding: 0;\n    margin: 0 10px;\n    position: relative; }\n    header .hamburger-menu:focs {\n      outline: none; }\n    header .hamburger-menu .bar,\n    header .hamburger-menu .bar:after,\n    header .hamburger-menu .bar:before {\n      width: 35px;\n      height: 1px; }\n    header .hamburger-menu .bar {\n      position: relative;\n      background: white;\n      transition: all 0ms 300ms; }\n    header .hamburger-menu .bar.animate {\n      background: rgba(255, 255, 255, 0); }\n    header .hamburger-menu .bar:before {\n      content: \"\";\n      position: absolute;\n      left: 0;\n      bottom: 10px;\n      background: white;\n      transition: bottom 300ms 300ms cubic-bezier(0.23, 1, 0.32, 1), transform 300ms cubic-bezier(0.23, 1, 0.32, 1); }\n    header .hamburger-menu .bar:after {\n      content: \"\";\n      position: absolute;\n      left: 0;\n      top: 10px;\n      background: white;\n      transition: top 300ms 300ms cubic-bezier(0.23, 1, 0.32, 1), transform 300ms cubic-bezier(0.23, 1, 0.32, 1); }\n    header .hamburger-menu .bar.active:after {\n      top: 0;\n      transform: rotate(45deg);\n      transition: top 300ms cubic-bezier(0.23, 1, 0.32, 1), transform 300ms 300ms cubic-bezier(0.23, 1, 0.32, 1); }\n    header .hamburger-menu .bar.active:before {\n      bottom: 0;\n      transform: rotate(-45deg);\n      transition: bottom 300ms cubic-bezier(0.23, 1, 0.32, 1), transform 300ms 300ms cubic-bezier(0.23, 1, 0.32, 1); }\n\nnav {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 998;\n  background: rgba(0, 0, 0, 0.8);\n  transition: background 100ms; }\n  nav ul,\n  nav li {\n    padding: 0;\n    margin: 0;\n    list-style: none; }\n  nav ul {\n    position: absolute;\n    top: 20%;\n    left: 50%;\n    transform: translateX(-50%); }\n    nav ul li {\n      text-align: center; }\n    nav ul button {\n      cursor: pointer;\n      color: #FFF;\n      margin: 15px 0;\n      padding: 5px 15px;\n      border-top: none;\n      border-left: none;\n      border-right: none;\n      border-bottom: solid 1px #fff;\n      padding: 0;\n      text-transform: uppercase;\n      font-size: 1.8rem;\n      background: none; }\n\n.container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0; }\n\n.vr-toggle {\n  position: absolute;\n  bottom: 10px;\n  left: 10px;\n  z-index: 999; }\n  .vr-toggle .vr-btn {\n    display: inline-block;\n    vertical-align: middle;\n    width: 50px;\n    height: 50px;\n    background: url("+n("./demo/assets/cardboard.png")+") no-repeat;\n    background-size: contain;\n    border: none;\n    filter: grayscale(100%);\n    cursor: pointer; }\n    .vr-toggle .vr-btn:hover, .vr-toggle .vr-btn:focus {\n      filter: grayscale(0);\n      outline: none; }\n  .vr-toggle .vr-desc {\n    color: #FFF;\n    font-size: 14px;\n    line-height: 50px;\n    display: inline-block;\n    vertical-align: middle; }\n",""])},"./node_modules/css-loader/lib/css-base.js":function(t,e,n){(function(e){function n(t,e){var n=t[1]||"",i=t[3];if(!i)return n;if(e){var o=r(i),s=i.sources.map(function(t){return"/*# sourceURL="+i.sourceRoot+t+" */"});return[n].concat(s).concat([o]).join("\n")}return[n].join("\n")}function r(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+new e(JSON.stringify(t)).toString("base64")+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var r=n(e,t);return e[2]?"@media "+e[2]+"{"+r+"}":r}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<t.length;i++){var s=t[i];"number"==typeof s[0]&&r[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),e.push(s))}},e}}).call(e,n("./node_modules/buffer/index.js").Buffer)},"./node_modules/ieee754/index.js":function(t,e){e.read=function(t,e,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,c=u>>1,l=-7,p=n?i-1:0,h=n?-1:1,f=t[e+p];for(p+=h,o=f&(1<<-l)-1,f>>=-l,l+=a;l>0;o=256*o+t[e+p],p+=h,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+t[e+p],p+=h,l-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,r),o-=c}return(f?-1:1)*s*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var s,a,u,c=8*o-i-1,l=(1<<c)-1,p=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,d=r?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),e+=s+p>=1?h/u:h*Math.pow(2,1-p),e*u>=2&&(s++,u/=2),s+p>=l?(a=0,s=l):s+p>=1?(a=(e*u-1)*Math.pow(2,i),s+=p):(a=e*Math.pow(2,p-1)*Math.pow(2,i),s=0));i>=8;t[n+f]=255&a,f+=d,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;t[n+f]=255&s,f+=d,s/=256,c-=8);t[n+f-d]|=128*m}},"./node_modules/isarray/index.js":function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},"./node_modules/rxjs/BehaviorSubject.js":function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("./node_modules/rxjs/Subject.js"),o=n("./node_modules/rxjs/util/ObjectUnsubscribedError.js"),s=function(t){function e(e){t.call(this),this._value=e}return r(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new o.ObjectUnsubscribedError;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(i.Subject);e.BehaviorSubject=s},"./node_modules/rxjs/InnerSubscriber.js":function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("./node_modules/rxjs/Subscriber.js"),o=function(t){function e(e,n,r){t.call(this),this.parent=e,this.outerValue=n,this.outerIndex=r,this.index=0}return r(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(i.Subscriber);e.InnerSubscriber=o},"./node_modules/rxjs/Notification.js":function(t,e,n){"use strict";var r=n("./node_modules/rxjs/Observable.js"),i=function(){function t(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}},t.prototype.accept=function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)},t.prototype.toObservable=function(){switch(this.kind){case"N":return r.Observable.of(this.value);case"E":return r.Observable.throw(this.error);case"C":return r.Observable.empty()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):this.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return this.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();e.Notification=i},"./node_modules/rxjs/Observable.js":function(t,e,n){"use strict";var r=n("./node_modules/rxjs/util/root.js"),i=n("./node_modules/rxjs/util/toSubscriber.js"),o=n("./node_modules/rxjs/symbol/observable.js"),s=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,o=i.toSubscriber(t,e,n);if(r?r.call(o,this.source):o.add(this._trySubscribe(o)),o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.syncErrorThrown=!0,t.syncErrorValue=e,t.error(e)}},t.prototype.forEach=function(t,e){var n=this;if(e||(r.root.Rx&&r.root.Rx.config&&r.root.Rx.config.Promise?e=r.root.Rx.config.Promise:r.root.Promise&&(e=r.root.Promise)),!e)throw new Error("no Promise impl found");return new e(function(e,r){var i=n.subscribe(function(e){if(i)try{t(e)}catch(t){r(t),i.unsubscribe()}else t(e)},r,e)})},t.prototype._subscribe=function(t){return this.source.subscribe(t)},t.prototype[o.$$observable]=function(){return this},t.create=function(e){return new t(e)},t}();e.Observable=s},"./node_modules/rxjs/Observer.js":function(t,e,n){"use strict";e.empty={closed:!0,next:function(t){},error:function(t){throw t},complete:function(){}}},"./node_modules/rxjs/OuterSubscriber.js":function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("./node_modules/rxjs/Subscriber.js"),o=function(t){function e(){t.apply(this,arguments)}return r(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(i.Subscriber);e.OuterSubscriber=o},"./node_modules/rxjs/Subject.js":function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("./node_modules/rxjs/Observable.js"),o=n("./node_modules/rxjs/Subscriber.js"),s=n("./node_modules/rxjs/Subscription.js"),a=n("./node_modules/rxjs/util/ObjectUnsubscribedError.js"),u=n("./node_modules/rxjs/SubjectSubscription.js"),c=n("./node_modules/rxjs/symbol/rxSubscriber.js"),l=function(t){function e(e){t.call(this,e),this.destination=e}return r(e,t),e}(o.Subscriber);e.SubjectSubscriber=l;var p=function(t){function e(){t.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return r(e,t),e.prototype[c.$$rxSubscriber]=function(){return new l(this)},e.prototype.lift=function(t){var e=new h(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new a.ObjectUnsubscribedError;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new a.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new a.ObjectUnsubscribedError;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new a.ObjectUnsubscribedError;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new a.ObjectUnsubscribedError;return this.hasError?(t.error(this.thrownError),s.Subscription.EMPTY):this.isStopped?(t.complete(),s.Subscription.EMPTY):(this.observers.push(t),new u.SubjectSubscription(this,t))},e.prototype.asObservable=function(){var t=new i.Observable;return t.source=this,t},e.create=function(t,e){return new h(t,e)},e}(i.Observable);e.Subject=p;var h=function(t){function e(e,n){t.call(this),this.destination=e,this.source=n}return r(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):s.Subscription.EMPTY},e}(p);e.AnonymousSubject=h},"./node_modules/rxjs/SubjectSubscription.js":function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("./node_modules/rxjs/Subscription.js"),o=function(t){function e(e,n){t.call(this),this.subject=e,this.subscriber=n,this.closed=!1}return r(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);n!==-1&&e.splice(n,1)}}},e}(i.Subscription);e.SubjectSubscription=o},"./node_modules/rxjs/Subscriber.js":function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("./node_modules/rxjs/util/isFunction.js"),o=n("./node_modules/rxjs/Subscription.js"),s=n("./node_modules/rxjs/Observer.js"),a=n("./node_modules/rxjs/symbol/rxSubscriber.js"),u=function(t){function e(n,r,i){switch(t.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=s.empty;break;case 1:if(!n){this.destination=s.empty;break}if("object"==typeof n){n instanceof e?(this.destination=n,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new c(this,n));break}default:this.syncErrorThrowable=!0,this.destination=new c(this,n,r,i)}}return r(e,t),e.prototype[a.$$rxSubscriber]=function(){return this},e.create=function(t,n,r){var i=new e(t,n,r);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this,e=t._parent,n=t._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=n,this},e}(o.Subscription);e.Subscriber=u;var c=function(t){function e(e,n,r,o){t.call(this),this._parentSubscriber=e;var s,a=this;i.isFunction(n)?s=n:n&&(a=n,s=n.next,r=n.error,o=n.complete,i.isFunction(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this)),this._context=a,this._next=s,this._error=r,this._complete=o}return r(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber;if(this._error)e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else{if(!e.syncErrorThrowable)throw this.unsubscribe(),t;e.syncErrorValue=t,e.syncErrorThrown=!0,this.unsubscribe()}}},e.prototype.complete=function(){if(!this.isStopped){var t=this._parentSubscriber;this._complete?t.syncErrorThrowable?(this.__tryOrSetError(t,this._complete),this.unsubscribe()):(this.__tryOrUnsub(this._complete),this.unsubscribe()):this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){throw this.unsubscribe(),t}},e.prototype.__tryOrSetError=function(t,e,n){try{e.call(this._context,n)}catch(e){return t.syncErrorValue=e,t.syncErrorThrown=!0,!0}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(u)},"./node_modules/rxjs/Subscription.js":function(t,e,n){"use strict";function r(t){return t.reduce(function(t,e){return t.concat(e instanceof c.UnsubscriptionError?e.errors:e)},[])}var i=n("./node_modules/rxjs/util/isArray.js"),o=n("./node_modules/rxjs/util/isObject.js"),s=n("./node_modules/rxjs/util/isFunction.js"),a=n("./node_modules/rxjs/util/tryCatch.js"),u=n("./node_modules/rxjs/util/errorObject.js"),c=n("./node_modules/rxjs/util/UnsubscriptionError.js"),l=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var n=this,l=n._parent,p=n._parents,h=n._unsubscribe,f=n._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var d=-1,m=p?p.length:0;l;)l.remove(this),l=++d<m&&p[d]||null;if(s.isFunction(h)){var v=a.tryCatch(h).call(this);v===u.errorObject&&(e=!0,t=t||(u.errorObject.e instanceof c.UnsubscriptionError?r(u.errorObject.e.errors):[u.errorObject.e]))}if(i.isArray(f))for(d=-1,m=f.length;++d<m;){var g=f[d];if(o.isObject(g)){var v=a.tryCatch(g.unsubscribe).call(g);if(v===u.errorObject){e=!0,t=t||[];var y=u.errorObject.e;y instanceof c.UnsubscriptionError?t=t.concat(r(y.errors)):t.push(y)}}}if(e)throw new c.UnsubscriptionError(t)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var r=n;n=new t,n._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);n!==-1&&e.splice(n,1)}},t.prototype._addParent=function(t){var e=this,n=e._parent,r=e._parents;n&&n!==t?r?r.indexOf(t)===-1&&r.push(t):this._parents=[t]:this._parent=t},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();e.Subscription=l},"./node_modules/rxjs/observable/ArrayLikeObservable.js":function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("./node_modules/rxjs/Observable.js"),o=n("./node_modules/rxjs/observable/ScalarObservable.js"),s=n("./node_modules/rxjs/observable/EmptyObservable.js"),a=function(t){function e(e,n){t.call(this),this.arrayLike=e,this.scheduler=n,n||1!==e.length||(this._isScalar=!0,this.value=e[0])}return r(e,t),e.create=function(t,n){var r=t.length;return 0===r?new s.EmptyObservable:1===r?new o.ScalarObservable(t[0],n):new e(t,n)},e.dispatch=function(t){var e=t.arrayLike,n=t.index,r=t.length,i=t.subscriber;if(!i.closed){if(n>=r)return void i.complete();i.next(e[n]),t.index=n+1,this.schedule(t)}},e.prototype._subscribe=function(t){var n=this,r=n.arrayLike,i=n.scheduler,o=r.length;if(i)return i.schedule(e.dispatch,0,{arrayLike:r,index:0,length:o,subscriber:t});for(var s=0;s<o&&!t.closed;s++)t.next(r[s]);t.complete()},e}(i.Observable);e.ArrayLikeObservable=a},"./node_modules/rxjs/observable/ArrayObservable.js":function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("./node_modules/rxjs/Observable.js"),o=n("./node_modules/rxjs/observable/ScalarObservable.js"),s=n("./node_modules/rxjs/observable/EmptyObservable.js"),a=n("./node_modules/rxjs/util/isScheduler.js"),u=function(t){function e(e,n){t.call(this),this.array=e,this.scheduler=n,n||1!==e.length||(this._isScalar=!0,this.value=e[0])}return r(e,t),e.create=function(t,n){return new e(t,n)},e.of=function(){for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];var r=t[t.length-1];a.isScheduler(r)?t.pop():r=null;var i=t.length;return i>1?new e(t,r):1===i?new o.ScalarObservable(t[0],r):new s.EmptyObservable(r)},e.dispatch=function(t){var e=t.array,n=t.index,r=t.count,i=t.subscriber;if(n>=r)return void i.complete();i.next(e[n]),i.closed||(t.index=n+1,this.schedule(t))},e.prototype._subscribe=function(t){var n=this.array,r=n.length,i=this.scheduler;if(i)return i.schedule(e.dispatch,0,{array:n,index:0,count:r,subscriber:t});for(var o=0;o<r&&!t.closed;o++)t.next(n[o]);t.complete()},e}(i.Observable);e.ArrayObservable=u},"./node_modules/rxjs/observable/ConnectableObservable.js":function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("./node_modules/rxjs/Subject.js"),o=n("./node_modules/rxjs/Observable.js"),s=n("./node_modules/rxjs/Subscriber.js"),a=n("./node_modules/rxjs/Subscription.js"),u=function(t){function e(e,n){t.call(this),this.source=e,this.subjectFactory=n,this._refCount=0}return r(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(t=this._connection=new a.Subscription,t.add(this.source.subscribe(new c(this.getSubject(),this))),t.closed?(this._connection=null,t=a.Subscription.EMPTY):this._connection=t),t},e.prototype.refCount=function(){return this.lift(new l(this))},e}(o.Observable);e.ConnectableObservable=u,e.connectableObservableDescriptor={operator:{value:null},_refCount:{value:0,writable:!0},_subscribe:{value:u.prototype._subscribe},getSubject:{value:u.prototype.getSubject},connect:{value:u.prototype.connect},refCount:{value:u.prototype.refCount}};var c=function(t){function e(e,n){t.call(this,e),this.connectable=n}return r(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(i.SubjectSubscriber),l=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var r=new p(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i},t}(),p=function(t){function e(e,n){t.call(this,e),this.connectable=n}return r(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(!t)return void(this.connection=null);this.connectable=null;var e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()},e}(s.Subscriber)},"./node_modules/rxjs/observable/EmptyObservable.js":function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("./node_modules/rxjs/Observable.js"),o=function(t){function e(e){t.call(this),this.scheduler=e}return r(e,t),e.create=function(t){return new e(t)},e.dispatch=function(t){t.subscriber.complete()},e.prototype._subscribe=function(t){var n=this.scheduler;if(n)return n.schedule(e.dispatch,0,{subscriber:t});t.complete()},e}(i.Observable);e.EmptyObservable=o},"./node_modules/rxjs/observable/FromObservable.js":function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("./node_modules/rxjs/util/isArray.js"),o=n("./node_modules/rxjs/util/isArrayLike.js"),s=n("./node_modules/rxjs/util/isPromise.js"),a=n("./node_modules/rxjs/observable/PromiseObservable.js"),u=n("./node_modules/rxjs/observable/IteratorObservable.js"),c=n("./node_modules/rxjs/observable/ArrayObservable.js"),l=n("./node_modules/rxjs/observable/ArrayLikeObservable.js"),p=n("./node_modules/rxjs/symbol/iterator.js"),h=n("./node_modules/rxjs/Observable.js"),f=n("./node_modules/rxjs/operator/observeOn.js"),d=n("./node_modules/rxjs/symbol/observable.js"),m=function(t){function e(e,n){t.call(this,null),this.ish=e,this.scheduler=n}return r(e,t),e.create=function(t,n){if(null!=t){if("function"==typeof t[d.$$observable])return t instanceof h.Observable&&!n?t:new e(t,n);if(i.isArray(t))return new c.ArrayObservable(t,n);if(s.isPromise(t))return new a.PromiseObservable(t,n);if("function"==typeof t[p.$$iterator]||"string"==typeof t)return new u.IteratorObservable(t,n);if(o.isArrayLike(t))return new l.ArrayLikeObservable(t,n)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")},e.prototype._subscribe=function(t){var e=this.ish,n=this.scheduler;return null==n?e[d.$$observable]().subscribe(t):e[d.$$observable]().subscribe(new f.ObserveOnSubscriber(t,n,0))},e}(h.Observable);e.FromObservable=m},"./node_modules/rxjs/observable/IteratorObservable.js":function(t,e,n){"use strict";function r(t){var e=t[l.$$iterator];if(!e&&"string"==typeof t)return new h(t);if(!e&&void 0!==t.length)return new f(t);if(!e)throw new TypeError("object is not iterable");return t[l.$$iterator]()}function i(t){var e=+t.length;return isNaN(e)?0:0!==e&&o(e)?(e=s(e)*Math.floor(Math.abs(e)),e<=0?0:e>d?d:e):e}function o(t){return"number"==typeof t&&u.root.isFinite(t)}function s(t){var e=+t;return 0===e?e:isNaN(e)?e:e<0?-1:1}var a=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},u=n("./node_modules/rxjs/util/root.js"),c=n("./node_modules/rxjs/Observable.js"),l=n("./node_modules/rxjs/symbol/iterator.js"),p=function(t){function e(e,n){if(t.call(this),this.scheduler=n,null==e)throw new Error("iterator cannot be null.");this.iterator=r(e)}return a(e,t),e.create=function(t,n){return new e(t,n)},e.dispatch=function(t){var e=t.index,n=t.hasError,r=t.iterator,i=t.subscriber;if(n)return void i.error(t.error);var o=r.next();return o.done?void i.complete():(i.next(o.value),t.index=e+1,i.closed?void("function"==typeof r.return&&r.return()):void this.schedule(t))},e.prototype._subscribe=function(t){var n=this,r=n.iterator,i=n.scheduler;if(i)return i.schedule(e.dispatch,0,{index:0,iterator:r,subscriber:t});for(;;){var o=r.next();if(o.done){t.complete();break}if(t.next(o.value),t.closed){"function"==typeof r.return&&r.return();break}}},e}(c.Observable);e.IteratorObservable=p;var h=function(){function t(t,e,n){void 0===e&&(e=0),void 0===n&&(n=t.length),this.str=t,this.idx=e,this.len=n}return t.prototype[l.$$iterator]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}},t}(),f=function(){function t(t,e,n){void 0===e&&(e=0),void 0===n&&(n=i(t)),this.arr=t,this.idx=e,this.len=n}return t.prototype[l.$$iterator]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}},t}(),d=Math.pow(2,53)-1},"./node_modules/rxjs/observable/PromiseObservable.js":function(t,e,n){"use strict";function r(t){var e=t.value,n=t.subscriber;n.closed||(n.next(e),n.complete())}function i(t){var e=t.err,n=t.subscriber;n.closed||n.error(e)}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},s=n("./node_modules/rxjs/util/root.js"),a=n("./node_modules/rxjs/Observable.js"),u=function(t){function e(e,n){t.call(this),this.promise=e,this.scheduler=n}return o(e,t),e.create=function(t,n){return new e(t,n)},e.prototype._subscribe=function(t){var e=this,n=this.promise,o=this.scheduler;if(null==o)this._isScalar?t.closed||(t.next(this.value),t.complete()):n.then(function(n){e.value=n,e._isScalar=!0,t.closed||(t.next(n),t.complete())},function(e){t.closed||t.error(e)}).then(null,function(t){s.root.setTimeout(function(){throw t})});else if(this._isScalar){if(!t.closed)return o.schedule(r,0,{value:this.value,subscriber:t})}else n.then(function(n){e.value=n,e._isScalar=!0,t.closed||t.add(o.schedule(r,0,{value:n,subscriber:t}))},function(e){t.closed||t.add(o.schedule(i,0,{err:e,subscriber:t}))}).then(null,function(t){s.root.setTimeout(function(){throw t})})},e}(a.Observable);e.PromiseObservable=u},"./node_modules/rxjs/observable/ScalarObservable.js":function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n("./node_modules/rxjs/Observable.js"),o=function(t){function e(e,n){t.call(this),this.value=e,this.scheduler=n,this._isScalar=!0,n&&(this._isScalar=!1)}return r(e,t),e.create=function(t,n){return new e(t,n)},e.dispatch=function(t){var e=t.done,n=t.value,r=t.subscriber;if(e)return void r.complete();r.next(n),r.closed||(t.done=!0,this.schedule(t))},e.prototype._subscribe=function(t){var n=this.value,r=this.scheduler;if(r)return r.schedule(e.dispatch,0,{done:!1,value:n,subscriber:t});t.next(n),t.closed||t.complete()},e}(i.Observable);e.ScalarObservable=o},"./node_modules/rxjs/observable/from.js":function(t,e,n){"use strict";var r=n("./node_modules/rxjs/observable/FromObservable.js");e.from=r.FromObservable.create},"./node_modules/rxjs/observable/fromPromise.js":function(t,e,n){"use strict";var r=n("./node_modules/rxjs/observable/PromiseObservable.js");e.fromPromise=r.PromiseObservable.create},"./node_modules/rxjs/observable/merge.js":function(t,e,n){"use strict";var r=n("./node_modules/rxjs/operator/merge.js");e.merge=r.mergeStatic},"./node_modules/rxjs/observable/of.js":function(t,e,n){"use strict";var r=n("./node_modules/rxjs/observable/ArrayObservable.js");e.of=r.ArrayObservable.of},"./node_modules/rxjs/operator/catch.js":function(t,e,n){"use strict";function r(t){var e=new a(t),n=this.lift(e);return e.caught=n}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("./node_modules/rxjs/OuterSubscriber.js"),s=n("./node_modules/rxjs/util/subscribeToResult.js");e._catch=r;var a=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.selector,this.caught))},t}(),u=function(t){function e(e,n,r){t.call(this,e),this.selector=n,this.caught=r}return i(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=void 0;try{n=this.selector(e,this.caught)}catch(e){return void t.prototype.error.call(this,e)}this._unsubscribeAndRecycle(),this.add(s.subscribeToResult(this,n))}},e}(o.OuterSubscriber)},"./node_modules/rxjs/operator/concatAll.js":function(t,e,n){"use strict";function r(){return this.lift(new i.MergeAllOperator(1))}var i=n("./node_modules/rxjs/operator/mergeAll.js");e.concatAll=r},"./node_modules/rxjs/operator/concatMap.js":function(t,e,n){"use strict";function r(t,e){return this.lift(new i.MergeMapOperator(t,e,1))}var i=n("./node_modules/rxjs/operator/mergeMap.js");e.concatMap=r},"./node_modules/rxjs/operator/every.js":function(t,e,n){"use strict";function r(t,e){return this.lift(new s(t,e,this))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("./node_modules/rxjs/Subscriber.js");e.every=r;var s=function(){function t(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.predicate,this.thisArg,this.source))},t}(),a=function(t){function e(e,n,r,i){t.call(this,e),this.predicate=n,this.thisArg=r,this.source=i,this.index=0,this.thisArg=r||this}return i(e,t),e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(t){return void this.destination.error(t)}e||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(o.Subscriber)},"./node_modules/rxjs/operator/filter.js":function(t,e,n){"use strict";function r(t,e){return this.lift(new s(t,e))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("./node_modules/rxjs/Subscriber.js");e.filter=r;var s=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.predicate,this.thisArg))},t}(),a=function(t){function e(e,n,r){t.call(this,e),this.predicate=n,this.thisArg=r,this.count=0,this.predicate=n}return i(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(o.Subscriber)},"./node_modules/rxjs/operator/first.js":function(t,e,n){"use strict";function r(t,e,n){return this.lift(new a(t,e,n,this))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("./node_modules/rxjs/Subscriber.js"),s=n("./node_modules/rxjs/util/EmptyError.js");e.first=r;var a=function(){function t(t,e,n,r){this.predicate=t,this.resultSelector=e,this.defaultValue=n,this.source=r}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.predicate,this.resultSelector,this.defaultValue,this.source))},t}(),u=function(t){function e(e,n,r,i,o){t.call(this,e),this.predicate=n,this.resultSelector=r,this.defaultValue=i,this.source=o,this.index=0,this.hasCompleted=!1,this._emitted=!1}return i(e,t),e.prototype._next=function(t){var e=this.index++;this.predicate?this._tryPredicate(t,e):this._emit(t,e)},e.prototype._tryPredicate=function(t,e){var n;try{n=this.predicate(t,e,this.source)}catch(t){return void this.destination.error(t)}n&&this._emit(t,e)},e.prototype._emit=function(t,e){if(this.resultSelector)return void this._tryResultSelector(t,e);this._emitFinal(t)},e.prototype._tryResultSelector=function(t,e){var n;try{n=this.resultSelector(t,e)}catch(t){return void this.destination.error(t)}this._emitFinal(n)},e.prototype._emitFinal=function(t){var e=this.destination;this._emitted||(this._emitted=!0,e.next(t),e.complete(),this.hasCompleted=!0)},e.prototype._complete=function(){var t=this.destination;this.hasCompleted||void 0===this.defaultValue?this.hasCompleted||t.error(new s.EmptyError):(t.next(this.defaultValue),t.complete())},e}(o.Subscriber)},"./node_modules/rxjs/operator/last.js":function(t,e,n){"use strict";function r(t,e,n){return this.lift(new a(t,e,n,this))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("./node_modules/rxjs/Subscriber.js"),s=n("./node_modules/rxjs/util/EmptyError.js");e.last=r;var a=function(){function t(t,e,n,r){this.predicate=t,this.resultSelector=e,this.defaultValue=n,this.source=r}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.predicate,this.resultSelector,this.defaultValue,this.source))},t}(),u=function(t){function e(e,n,r,i,o){t.call(this,e),this.predicate=n,this.resultSelector=r,this.defaultValue=i,this.source=o,this.hasValue=!1,this.index=0,void 0!==i&&(this.lastValue=i,this.hasValue=!0)}return i(e,t),e.prototype._next=function(t){var e=this.index++;if(this.predicate)this._tryPredicate(t,e);else{if(this.resultSelector)return void this._tryResultSelector(t,e);this.lastValue=t,this.hasValue=!0}},e.prototype._tryPredicate=function(t,e){var n;try{n=this.predicate(t,e,this.source)}catch(t){return void this.destination.error(t)}if(n){if(this.resultSelector)return void this._tryResultSelector(t,e);this.lastValue=t,this.hasValue=!0}},e.prototype._tryResultSelector=function(t,e){var n;try{n=this.resultSelector(t,e)}catch(t){return void this.destination.error(t)}this.lastValue=n,this.hasValue=!0},e.prototype._complete=function(){var t=this.destination;this.hasValue?(t.next(this.lastValue),t.complete()):t.error(new s.EmptyError)},e}(o.Subscriber)},"./node_modules/rxjs/operator/map.js":function(t,e,n){"use strict";function r(t,e){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return this.lift(new s(t,e))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("./node_modules/rxjs/Subscriber.js");e.map=r;var s=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.project,this.thisArg))},t}();e.MapOperator=s;var a=function(t){function e(e,n,r){t.call(this,e),this.project=n,this.count=0,this.thisArg=r||this}return i(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(o.Subscriber)},"./node_modules/rxjs/operator/merge.js":function(t,e,n){"use strict";function r(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return this.lift.call(i.apply(void 0,[this].concat(t)))}function i(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=Number.POSITIVE_INFINITY,r=null,i=t[t.length-1];return u.isScheduler(i)?(r=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof i&&(n=t.pop()),null===r&&1===t.length&&t[0]instanceof o.Observable?t[0]:new s.ArrayObservable(t,r).lift(new a.MergeAllOperator(n))}var o=n("./node_modules/rxjs/Observable.js"),s=n("./node_modules/rxjs/observable/ArrayObservable.js"),a=n("./node_modules/rxjs/operator/mergeAll.js"),u=n("./node_modules/rxjs/util/isScheduler.js");e.merge=r,e.mergeStatic=i},"./node_modules/rxjs/operator/mergeAll.js":function(t,e,n){"use strict";function r(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),this.lift(new a(t))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("./node_modules/rxjs/OuterSubscriber.js"),s=n("./node_modules/rxjs/util/subscribeToResult.js");e.mergeAll=r;var a=function(){function t(t){this.concurrent=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.concurrent))},t}();e.MergeAllOperator=a;var u=function(t){function e(e,n){t.call(this,e),this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0}return i(e,t),e.prototype._next=function(t){this.active<this.concurrent?(this.active++,this.add(s.subscribeToResult(this,t))):this.buffer.push(t)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(o.OuterSubscriber);e.MergeAllSubscriber=u},"./node_modules/rxjs/operator/mergeMap.js":function(t,e,n){"use strict";function r(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"number"==typeof e&&(n=e,e=null),this.lift(new a(t,e,n))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("./node_modules/rxjs/util/subscribeToResult.js"),s=n("./node_modules/rxjs/OuterSubscriber.js");e.mergeMap=r;var a=function(){function t(t,e,n){void 0===n&&(n=Number.POSITIVE_INFINITY),this.project=t,this.resultSelector=e,this.concurrent=n}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.project,this.resultSelector,this.concurrent))},t}();e.MergeMapOperator=a;var u=function(t){function e(e,n,r,i){void 0===i&&(i=Number.POSITIVE_INFINITY),t.call(this,e),this.project=n,this.resultSelector=r,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return i(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){this.add(o.subscribeToResult(this,t,e,n))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){this.resultSelector?this._notifyResultSelector(t,e,n,r):this.destination.next(e)},e.prototype._notifyResultSelector=function(t,e,n,r){var i;try{i=this.resultSelector(t,e,n,r)}catch(t){return void this.destination.error(t)}this.destination.next(i)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(s.OuterSubscriber);e.MergeMapSubscriber=u},"./node_modules/rxjs/operator/multicast.js":function(t,e,n){"use strict";function r(t,e){var n;if(n="function"==typeof t?t:function(){return t},"function"==typeof e)return this.lift(new o(n,e));var r=Object.create(this,i.connectableObservableDescriptor);return r.source=this,r.subjectFactory=n,r}var i=n("./node_modules/rxjs/observable/ConnectableObservable.js");e.multicast=r;var o=function(){function t(t,e){this.subjectFactory=t,this.selector=e}return t.prototype.call=function(t,e){var n=this.selector,r=this.subjectFactory(),i=n(r).subscribe(t);return i.add(e.subscribe(r)),i},t}();e.MulticastOperator=o},"./node_modules/rxjs/operator/observeOn.js":function(t,e,n){"use strict";function r(t,e){return void 0===e&&(e=0),this.lift(new a(t,e))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("./node_modules/rxjs/Subscriber.js"),s=n("./node_modules/rxjs/Notification.js");e.observeOn=r;var a=function(){function t(t,e){void 0===e&&(e=0),this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.scheduler,this.delay))},t}();e.ObserveOnOperator=a;var u=function(t){function e(e,n,r){void 0===r&&(r=0),t.call(this,e),this.scheduler=n,this.delay=r}return i(e,t),e.dispatch=function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.add(this.scheduler.schedule(e.dispatch,this.delay,new c(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(s.Notification.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(s.Notification.createError(t))},e.prototype._complete=function(){this.scheduleMessage(s.Notification.createComplete())},e}(o.Subscriber);e.ObserveOnSubscriber=u;var c=function(){function t(t,e){this.notification=t,this.destination=e}return t}();e.ObserveOnMessage=c},"./node_modules/rxjs/operator/reduce.js":function(t,e,n){"use strict";function r(t,e){var n=!1;return arguments.length>=2&&(n=!0),this.lift(new s(t,e,n))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n("./node_modules/rxjs/Subscriber.js");e.reduce=r;var s=function(){function t(t,e,n){void 0===n&&(n=!1),this.accumulator=t,this.seed=e,this.hasSeed=n}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.accumulator,this.seed,this.hasSeed))},t}();e.ReduceOperator=s;var a=function(t){function e(e,n,r,i){t.call(this,e),this.accumulator=n,this.hasSeed=i,this.index=0,this.hasValue=!1,this.acc=r,this.hasSeed||this.index++}return i(e,t),e.prototype._next=function(t){this.hasValue||(this.hasValue=this.hasSeed)?this._tryReduce(t):(this.acc=t,this.hasValue=!0)},e.prototype._tryReduce=function(t){var e;try{e=this.accumulator(this.acc,t,this.index++)}catch(t){return void this.destination.error(t)}this.acc=e},e.prototype._complete=function(){(this.hasValue||this.hasSeed)&&this.destination.next(this.acc),this.destination.complete()},e}(o.Subscriber);e.ReduceSubscriber=a},"./node_modules/rxjs/operator/share.js":function(t,e,n){"use strict";function r(){return new s.Subject}function i(){return o.multicast.call(this,r).refCount()}var o=n("./node_modules/rxjs/operator/multicast.js"),s=n("./node_modules/rxjs/Subject.js");e.share=i},"./node_modules/rxjs/symbol/iterator.js":function(t,e,n){"use strict";function r(t){var e=t.Symbol;if("function"==typeof e)return e.iterator||(e.iterator=e("iterator polyfill")),e.iterator;var n=t.Set;if(n&&"function"==typeof(new n)["@@iterator"])return"@@iterator";var r=t.Map;if(r)for(var i=Object.getOwnPropertyNames(r.prototype),o=0;o<i.length;++o){var s=i[o];if("entries"!==s&&"size"!==s&&r.prototype[s]===r.prototype.entries)return s}return"@@iterator"}var i=n("./node_modules/rxjs/util/root.js");e.symbolIteratorPonyfill=r,e.$$iterator=r(i.root)},"./node_modules/rxjs/symbol/observable.js":function(t,e,n){"use strict";function r(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}var i=n("./node_modules/rxjs/util/root.js");e.getSymbolObservable=r,e.$$observable=r(i.root)},"./node_modules/rxjs/symbol/rxSubscriber.js":function(t,e,n){"use strict";var r=n("./node_modules/rxjs/util/root.js"),i=r.root.Symbol;e.$$rxSubscriber="function"==typeof i&&"function"==typeof i.for?i.for("rxSubscriber"):"@@rxSubscriber"},"./node_modules/rxjs/util/EmptyError.js":function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=function(t){function e(){var e=t.call(this,"no elements in sequence");this.name=e.name="EmptyError",this.stack=e.stack,this.message=e.message}return r(e,t),e}(Error);e.EmptyError=i},"./node_modules/rxjs/util/ObjectUnsubscribedError.js":function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=function(t){function e(){var e=t.call(this,"object unsubscribed");this.name=e.name="ObjectUnsubscribedError",this.stack=e.stack,this.message=e.message}return r(e,t),e}(Error);e.ObjectUnsubscribedError=i},"./node_modules/rxjs/util/UnsubscriptionError.js":function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=function(t){function e(e){t.call(this),this.errors=e;var n=Error.call(this,e?e.length+" errors occurred during unsubscription:\n  "+e.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"");this.name=n.name="UnsubscriptionError",this.stack=n.stack,this.message=n.message}return r(e,t),e}(Error);e.UnsubscriptionError=i},"./node_modules/rxjs/util/errorObject.js":function(t,e,n){"use strict";e.errorObject={e:{}}},"./node_modules/rxjs/util/isArray.js":function(t,e,n){"use strict";e.isArray=Array.isArray||function(t){return t&&"number"==typeof t.length}},"./node_modules/rxjs/util/isArrayLike.js":function(t,e,n){"use strict";e.isArrayLike=function(t){return t&&"number"==typeof t.length}},"./node_modules/rxjs/util/isFunction.js":function(t,e,n){"use strict";function r(t){return"function"==typeof t}e.isFunction=r},"./node_modules/rxjs/util/isObject.js":function(t,e,n){"use strict";function r(t){return null!=t&&"object"==typeof t}e.isObject=r},"./node_modules/rxjs/util/isPromise.js":function(t,e,n){"use strict";function r(t){return t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}e.isPromise=r},"./node_modules/rxjs/util/isScheduler.js":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}e.isScheduler=r},"./node_modules/rxjs/util/root.js":function(t,e,n){"use strict";(function(t){if(e.root="object"==typeof window&&window.window===window&&window||"object"==typeof self&&self.self===self&&self||"object"==typeof t&&t.global===t&&t,!e.root)throw new Error("RxJS could not find any global context (window, self, global)")}).call(e,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/rxjs/util/subscribeToResult.js":function(t,e,n){"use strict";function r(t,e,n,r){var h=new l.InnerSubscriber(t,n,r);if(h.closed)return null;if(e instanceof u.Observable)return e._isScalar?(h.next(e.value),h.complete(),null):e.subscribe(h);if(o.isArrayLike(e)){for(var f=0,d=e.length;f<d&&!h.closed;f++)h.next(e[f]);h.closed||h.complete()}else{if(s.isPromise(e))return e.then(function(t){h.closed||(h.next(t),h.complete())},function(t){return h.error(t)}).then(null,function(t){i.root.setTimeout(function(){throw t})}),h;if(e&&"function"==typeof e[c.$$iterator])for(var m=e[c.$$iterator]();;){var v=m.next();if(v.done){h.complete();break}if(h.next(v.value),h.closed)break}else if(e&&"function"==typeof e[p.$$observable]){var g=e[p.$$observable]();if("function"==typeof g.subscribe)return g.subscribe(new l.InnerSubscriber(t,n,r));h.error(new TypeError("Provided object does not correctly implement Symbol.observable"))}else{var y=a.isObject(e)?"an invalid object":"'"+e+"'",_="You provided "+y+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";h.error(new TypeError(_))}}return null}var i=n("./node_modules/rxjs/util/root.js"),o=n("./node_modules/rxjs/util/isArrayLike.js"),s=n("./node_modules/rxjs/util/isPromise.js"),a=n("./node_modules/rxjs/util/isObject.js"),u=n("./node_modules/rxjs/Observable.js"),c=n("./node_modules/rxjs/symbol/iterator.js"),l=n("./node_modules/rxjs/InnerSubscriber.js"),p=n("./node_modules/rxjs/symbol/observable.js");e.subscribeToResult=r},"./node_modules/rxjs/util/toSubscriber.js":function(t,e,n){"use strict";function r(t,e,n){if(t){if(t instanceof i.Subscriber)return t;if(t[o.$$rxSubscriber])return t[o.$$rxSubscriber]()}return t||e||n?new i.Subscriber(t,e,n):new i.Subscriber(s.empty)}var i=n("./node_modules/rxjs/Subscriber.js"),o=n("./node_modules/rxjs/symbol/rxSubscriber.js"),s=n("./node_modules/rxjs/Observer.js");e.toSubscriber=r},"./node_modules/rxjs/util/tryCatch.js":function(t,e,n){"use strict";function r(){try{return o.apply(this,arguments)}catch(t){return s.errorObject.e=t,s.errorObject}}function i(t){return o=t,r}var o,s=n("./node_modules/rxjs/util/errorObject.js");e.tryCatch=i},"./node_modules/stats.js/build/stats.min.js":function(t,e,n){!function(e,n){t.exports=n()}(0,function(){var t=function(){function e(t){return i.appendChild(t.dom),t}function n(t){for(var e=0;e<i.children.length;e++)i.children[e].style.display=e===t?"block":"none";r=t}var r=0,i=document.createElement("div");i.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",i.addEventListener("click",function(t){t.preventDefault(),n(++r%i.children.length)},!1);var o=(performance||Date).now(),s=o,a=0,u=e(new t.Panel("FPS","#0ff","#002")),c=e(new t.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var l=e(new t.Panel("MB","#f08","#201"));return n(0),{REVISION:16,dom:i,addPanel:e,showPanel:n,begin:function(){o=(performance||Date).now()},end:function(){a++;var t=(performance||Date).now();if(c.update(t-o,200),t>s+1e3&&(u.update(1e3*a/(t-s),100),s=t,a=0,l)){var e=performance.memory;l.update(e.usedJSHeapSize/1048576,e.jsHeapSizeLimit/1048576)}return t},update:function(){o=this.end()},domElement:i,setMode:n}};return t.Panel=function(t,e,n){var r=1/0,i=0,o=Math.round,s=o(window.devicePixelRatio||1),a=80*s,u=48*s,c=3*s,l=2*s,p=3*s,h=15*s,f=74*s,d=30*s,m=document.createElement("canvas");m.width=a,m.height=u,m.style.cssText="width:80px;height:48px";var v=m.getContext("2d");return v.font="bold "+9*s+"px Helvetica,Arial,sans-serif",v.textBaseline="top",v.fillStyle=n,v.fillRect(0,0,a,u),v.fillStyle=e,v.fillText(t,c,l),v.fillRect(p,h,f,d),v.fillStyle=n,v.globalAlpha=.9,v.fillRect(p,h,f,d),{dom:m,update:function(u,g){r=Math.min(r,u),i=Math.max(i,u),v.fillStyle=n,v.globalAlpha=1,v.fillRect(0,0,a,h),v.fillStyle=e,v.fillText(o(u)+" "+t+" ("+o(r)+"-"+o(i)+")",c,l),v.drawImage(m,p+s,h,f-s,d,p,h,f-s,d),v.fillRect(p+f-s,h,s,d),v.fillStyle=n,v.globalAlpha=.9,v.fillRect(p+f-s,h,s,o((1-u/g)*d))}}},t})},"./node_modules/three/build/three.module.js":function(t,e,n){"use strict";(function(t){function r(){}function i(t,e){this.x=t||0,this.y=e||0}function o(t,e,n,r,s,a,u,c,l,p){Object.defineProperty(this,"id",{value:da++}),this.uuid=fa.generateUUID(),this.name="",this.image=void 0!==t?t:o.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==e?e:o.DEFAULT_MAPPING,this.wrapS=void 0!==n?n:us,this.wrapT=void 0!==r?r:us,this.magFilter=void 0!==s?s:fs,this.minFilter=void 0!==a?a:ms,this.anisotropy=void 0!==l?l:1,this.format=void 0!==u?u:Rs,this.type=void 0!==c?c:vs,this.offset=new i(0,0),this.repeat=new i(1,1),this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==p?p:ra,this.version=0,this.onUpdate=null}function s(t,e,n,r){this.x=t||0,this.y=e||0,this.z=n||0,this.w=void 0!==r?r:1}function a(t,e,n){this.uuid=fa.generateUUID(),this.width=t,this.height=e,this.scissor=new s(0,0,t,e),this.scissorTest=!1,this.viewport=new s(0,0,t,e),n=n||{},void 0===n.minFilter&&(n.minFilter=fs),this.texture=new o(void 0,void 0,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0===n.stencilBuffer||n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function u(t,e,n){a.call(this,t,e,n),this.activeCubeFace=0,this.activeMipMapLevel=0}function c(t,e,n,r){this._x=t||0,this._y=e||0,this._z=n||0,this._w=void 0!==r?r:1}function l(t,e,n){this.x=t||0,this.y=e||0,this.z=n||0}function p(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function h(t,e,n,r,i,s,a,u,c,l){t=void 0!==t?t:[],e=void 0!==e?e:ts,o.call(this,t,e,n,r,i,s,a,u,c,l),this.flipY=!1}function f(){this.seq=[],this.map={}}function d(t,e,n){var r=t[0];if(r<=0||r>0)return t;var i=e*n,o=ga[i];if(void 0===o&&(o=new Float32Array(i),ga[i]=o),0!==e){r.toArray(o,0);for(var s=1,a=0;s!==e;++s)a+=n,t[s].toArray(o,a)}return o}function m(t,e){var n=ya[e];void 0===n&&(n=new Int32Array(e),ya[e]=n);for(var r=0;r!==e;++r)n[r]=t.allocTextureUnit();return n}function v(t,e){t.uniform1f(this.addr,e)}function g(t,e){t.uniform1i(this.addr,e)}function y(t,e){void 0===e.x?t.uniform2fv(this.addr,e):t.uniform2f(this.addr,e.x,e.y)}function _(t,e){void 0!==e.x?t.uniform3f(this.addr,e.x,e.y,e.z):void 0!==e.r?t.uniform3f(this.addr,e.r,e.g,e.b):t.uniform3fv(this.addr,e)}function b(t,e){void 0===e.x?t.uniform4fv(this.addr,e):t.uniform4f(this.addr,e.x,e.y,e.z,e.w)}function w(t,e){t.uniformMatrix2fv(this.addr,!1,e.elements||e)}function x(t,e){t.uniformMatrix3fv(this.addr,!1,e.elements||e)}function E(t,e){t.uniformMatrix4fv(this.addr,!1,e.elements||e)}function S(t,e,n){var r=n.allocTextureUnit();t.uniform1i(this.addr,r),n.setTexture2D(e||ma,r)}function M(t,e,n){var r=n.allocTextureUnit();t.uniform1i(this.addr,r),n.setTextureCube(e||va,r)}function C(t,e){t.uniform2iv(this.addr,e)}function T(t,e){t.uniform3iv(this.addr,e)}function A(t,e){t.uniform4iv(this.addr,e)}function P(t){switch(t){case 5126:return v;case 35664:return y;case 35665:return _;case 35666:return b;case 35674:return w;case 35675:return x;case 35676:return E;case 35678:return S;case 35680:return M;case 5124:case 35670:return g;case 35667:case 35671:return C;case 35668:case 35672:return T;case 35669:case 35673:return A}}function R(t,e){t.uniform1fv(this.addr,e)}function O(t,e){t.uniform1iv(this.addr,e)}function L(t,e){t.uniform2fv(this.addr,d(e,this.size,2))}function I(t,e){t.uniform3fv(this.addr,d(e,this.size,3))}function N(t,e){t.uniform4fv(this.addr,d(e,this.size,4))}function D(t,e){t.uniformMatrix2fv(this.addr,!1,d(e,this.size,4))}function k(t,e){t.uniformMatrix3fv(this.addr,!1,d(e,this.size,9))}function j(t,e){t.uniformMatrix4fv(this.addr,!1,d(e,this.size,16))}function F(t,e,n){var r=e.length,i=m(n,r);t.uniform1iv(this.addr,i);for(var o=0;o!==r;++o)n.setTexture2D(e[o]||ma,i[o])}function U(t,e,n){var r=e.length,i=m(n,r);t.uniform1iv(this.addr,i);for(var o=0;o!==r;++o)n.setTextureCube(e[o]||va,i[o])}function B(t){switch(t){case 5126:return R;case 35664:return L;case 35665:return I;case 35666:return N;case 35674:return D;case 35675:return k;case 35676:return j;case 35678:return F;case 35680:return U;case 5124:case 35670:return O;case 35667:case 35671:return C;case 35668:case 35672:return T;case 35669:case 35673:return A}}function V(t,e,n){this.id=t,this.addr=n,this.setValue=P(e.type)}function H(t,e,n){this.id=t,this.addr=n,this.size=e.size,this.setValue=B(e.type)}function z(t){this.id=t,f.call(this)}function G(t,e){t.seq.push(e),t.map[e.id]=e}function W(t,e,n){var r=t.name,i=r.length;for(_a.lastIndex=0;;){var o=_a.exec(r),s=_a.lastIndex,a=o[1],u="]"===o[2],c=o[3];if(u&&(a|=0),void 0===c||"["===c&&s+2===i){G(n,void 0===c?new V(a,t,e):new H(a,t,e));break}var l=n.map,p=l[a];void 0===p&&(p=new z(a),G(n,p)),n=p}}function q(t,e,n){f.call(this),this.renderer=n;for(var r=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),i=0;i<r;++i){var o=t.getActiveUniform(e,i),s=o.name;W(o,t.getUniformLocation(e,s),this)}}function X(t,e,n){return void 0===e&&void 0===n?this.set(t):this.setRGB(t,e,n)}function Y(t,e,n,r,i,s,a,u,c,l,p,h){o.call(this,null,s,a,u,c,l,r,i,p,h),this.image={data:t,width:e,height:n},this.magFilter=void 0!==c?c:ls,this.minFilter=void 0!==l?l:ls,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}function Z(t,e){this.min=void 0!==t?t:new i(+(1/0),+(1/0)),this.max=void 0!==e?e:new i(-(1/0),-(1/0))}function Q(t,e){function n(){var t=new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]),e=new Uint16Array([0,1,2,0,2,3]);o=d.createBuffer(),s=d.createBuffer(),d.bindBuffer(d.ARRAY_BUFFER,o),d.bufferData(d.ARRAY_BUFFER,t,d.STATIC_DRAW),d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,s),d.bufferData(d.ELEMENT_ARRAY_BUFFER,e,d.STATIC_DRAW),h=d.createTexture(),f=d.createTexture(),m.bindTexture(d.TEXTURE_2D,h),d.texImage2D(d.TEXTURE_2D,0,d.RGB,16,16,0,d.RGB,d.UNSIGNED_BYTE,null),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.NEAREST),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.NEAREST),m.bindTexture(d.TEXTURE_2D,f),d.texImage2D(d.TEXTURE_2D,0,d.RGBA,16,16,0,d.RGBA,d.UNSIGNED_BYTE,null),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.NEAREST),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.NEAREST),a={vertexShader:["uniform lowp int renderType;","uniform vec3 screenPosition;","uniform vec2 scale;","uniform float rotation;","uniform sampler2D occlusionMap;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","varying float vVisibility;","void main() {","vUV = uv;","vec2 pos = position;","if ( renderType == 2 ) {","vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );","vVisibility =        visibility.r / 9.0;","vVisibility *= 1.0 - visibility.g / 9.0;","vVisibility *=       visibility.b / 9.0;","vVisibility *= 1.0 - visibility.a / 9.0;","pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;","pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;","}","gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );","}"].join("\n"),fragmentShader:["uniform lowp int renderType;","uniform sampler2D map;","uniform float opacity;","uniform vec3 color;","varying vec2 vUV;","varying float vVisibility;","void main() {","if ( renderType == 0 ) {","gl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );","} else if ( renderType == 1 ) {","gl_FragColor = texture2D( map, vUV );","} else {","vec4 texture = texture2D( map, vUV );","texture.a *= opacity * vVisibility;","gl_FragColor = texture;","gl_FragColor.rgb *= color;","}","}"].join("\n")},u=r(a),c={vertex:d.getAttribLocation(u,"position"),uv:d.getAttribLocation(u,"uv")},p={renderType:d.getUniformLocation(u,"renderType"),map:d.getUniformLocation(u,"map"),occlusionMap:d.getUniformLocation(u,"occlusionMap"),opacity:d.getUniformLocation(u,"opacity"),color:d.getUniformLocation(u,"color"),scale:d.getUniformLocation(u,"scale"),rotation:d.getUniformLocation(u,"rotation"),screenPosition:d.getUniformLocation(u,"screenPosition")}}function r(e){var n=d.createProgram(),r=d.createShader(d.FRAGMENT_SHADER),i=d.createShader(d.VERTEX_SHADER),o="precision "+t.getPrecision()+" float;\n";return d.shaderSource(r,o+e.fragmentShader),d.shaderSource(i,o+e.vertexShader),d.compileShader(r),d.compileShader(i),d.attachShader(n,r),d.attachShader(n,i),d.linkProgram(n),n}var o,s,a,u,c,p,h,f,d=t.context,m=t.state;this.render=function(r,a,v){if(0!==e.length){var g=new l,y=v.w/v.z,_=.5*v.z,b=.5*v.w,w=16/v.w,x=new i(w*y,w),E=new l(1,1,0),S=new i(1,1),M=new Z;M.min.set(v.x,v.y),M.max.set(v.x+(v.z-16),v.y+(v.w-16)),void 0===u&&n(),d.useProgram(u),m.initAttributes(),m.enableAttribute(c.vertex),m.enableAttribute(c.uv),m.disableUnusedAttributes(),d.uniform1i(p.occlusionMap,0),d.uniform1i(p.map,1),d.bindBuffer(d.ARRAY_BUFFER,o),d.vertexAttribPointer(c.vertex,2,d.FLOAT,!1,16,0),d.vertexAttribPointer(c.uv,2,d.FLOAT,!1,16,8),d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,s),m.disable(d.CULL_FACE),m.setDepthWrite(!1);for(var C=0,T=e.length;C<T;C++){w=16/v.w,x.set(w*y,w);var A=e[C];if(g.set(A.matrixWorld.elements[12],A.matrixWorld.elements[13],A.matrixWorld.elements[14]),g.applyMatrix4(a.matrixWorldInverse),g.applyMatrix4(a.projectionMatrix),E.copy(g),S.x=v.x+E.x*_+_-8,S.y=v.y+E.y*b+b-8,M.containsPoint(S)===!0){m.activeTexture(d.TEXTURE0),m.bindTexture(d.TEXTURE_2D,null),m.activeTexture(d.TEXTURE1),m.bindTexture(d.TEXTURE_2D,h),d.copyTexImage2D(d.TEXTURE_2D,0,d.RGB,S.x,S.y,16,16,0),d.uniform1i(p.renderType,0),d.uniform2f(p.scale,x.x,x.y),d.uniform3f(p.screenPosition,E.x,E.y,E.z),m.disable(d.BLEND),m.enable(d.DEPTH_TEST),d.drawElements(d.TRIANGLES,6,d.UNSIGNED_SHORT,0),m.activeTexture(d.TEXTURE0),m.bindTexture(d.TEXTURE_2D,f),d.copyTexImage2D(d.TEXTURE_2D,0,d.RGBA,S.x,S.y,16,16,0),d.uniform1i(p.renderType,1),m.disable(d.DEPTH_TEST),m.activeTexture(d.TEXTURE1),m.bindTexture(d.TEXTURE_2D,h),d.drawElements(d.TRIANGLES,6,d.UNSIGNED_SHORT,0),A.positionScreen.copy(E),A.customUpdateCallback?A.customUpdateCallback(A):A.updateLensFlares(),d.uniform1i(p.renderType,2),m.enable(d.BLEND);for(var P=0,R=A.lensFlares.length;P<R;P++){var O=A.lensFlares[P];O.opacity>.001&&O.scale>.001&&(E.x=O.x,E.y=O.y,E.z=O.z,w=O.size*O.scale/v.w,x.x=w*y,x.y=w,d.uniform3f(p.screenPosition,E.x,E.y,E.z),d.uniform2f(p.scale,x.x,x.y),d.uniform1f(p.rotation,O.rotation),d.uniform1f(p.opacity,O.opacity),d.uniform3f(p.color,O.color.r,O.color.g,O.color.b),m.setBlending(O.blending,O.blendEquation,O.blendSrc,O.blendDst),t.setTexture2D(O.texture,1),d.drawElements(d.TRIANGLES,6,d.UNSIGNED_SHORT,0))}}}m.enable(d.CULL_FACE),m.enable(d.DEPTH_TEST),m.setDepthWrite(!0),t.resetGLState()}}}function K(t,e){function n(){var t=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),e=new Uint16Array([0,1,2,0,2,3]);s=d.createBuffer(),a=d.createBuffer(),d.bindBuffer(d.ARRAY_BUFFER,s),d.bufferData(d.ARRAY_BUFFER,t,d.STATIC_DRAW),d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,a),d.bufferData(d.ELEMENT_ARRAY_BUFFER,e,d.STATIC_DRAW),u=r(),p={position:d.getAttribLocation(u,"position"),uv:d.getAttribLocation(u,"uv")},h={uvOffset:d.getUniformLocation(u,"uvOffset"),uvScale:d.getUniformLocation(u,"uvScale"),rotation:d.getUniformLocation(u,"rotation"),scale:d.getUniformLocation(u,"scale"),color:d.getUniformLocation(u,"color"),map:d.getUniformLocation(u,"map"),opacity:d.getUniformLocation(u,"opacity"),modelViewMatrix:d.getUniformLocation(u,"modelViewMatrix"),projectionMatrix:d.getUniformLocation(u,"projectionMatrix"),fogType:d.getUniformLocation(u,"fogType"),fogDensity:d.getUniformLocation(u,"fogDensity"),fogNear:d.getUniformLocation(u,"fogNear"),fogFar:d.getUniformLocation(u,"fogFar"),fogColor:d.getUniformLocation(u,"fogColor"),alphaTest:d.getUniformLocation(u,"alphaTest")};var n=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");n.width=8,n.height=8;var i=n.getContext("2d");i.fillStyle="white",i.fillRect(0,0,8,8),f=new o(n),f.needsUpdate=!0}function r(){var e=d.createProgram(),n=d.createShader(d.VERTEX_SHADER),r=d.createShader(d.FRAGMENT_SHADER);return d.shaderSource(n,["precision "+t.getPrecision()+" float;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform float rotation;","uniform vec2 scale;","uniform vec2 uvOffset;","uniform vec2 uvScale;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","void main() {","vUV = uvOffset + uv * uvScale;","vec2 alignedPosition = position * scale;","vec2 rotatedPosition;","rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;","rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;","vec4 finalPosition;","finalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );","finalPosition.xy += rotatedPosition;","finalPosition = projectionMatrix * finalPosition;","gl_Position = finalPosition;","}"].join("\n")),d.shaderSource(r,["precision "+t.getPrecision()+" float;","uniform vec3 color;","uniform sampler2D map;","uniform float opacity;","uniform int fogType;","uniform vec3 fogColor;","uniform float fogDensity;","uniform float fogNear;","uniform float fogFar;","uniform float alphaTest;","varying vec2 vUV;","void main() {","vec4 texture = texture2D( map, vUV );","if ( texture.a < alphaTest ) discard;","gl_FragColor = vec4( color * texture.xyz, texture.a * opacity );","if ( fogType > 0 ) {","float depth = gl_FragCoord.z / gl_FragCoord.w;","float fogFactor = 0.0;","if ( fogType == 1 ) {","fogFactor = smoothstep( fogNear, fogFar, depth );","} else {","const float LOG2 = 1.442695;","fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );","fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );","}","gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );","}","}"].join("\n")),d.compileShader(n),d.compileShader(r),d.attachShader(e,n),d.attachShader(e,r),d.linkProgram(e),e}function i(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:e.id-t.id}var s,a,u,p,h,f,d=t.context,m=t.state,v=new l,g=new c,y=new l;this.render=function(r,o){if(0!==e.length){void 0===u&&n(),d.useProgram(u),m.initAttributes(),m.enableAttribute(p.position),m.enableAttribute(p.uv),m.disableUnusedAttributes(),m.disable(d.CULL_FACE),m.enable(d.BLEND),d.bindBuffer(d.ARRAY_BUFFER,s),d.vertexAttribPointer(p.position,2,d.FLOAT,!1,16,0),d.vertexAttribPointer(p.uv,2,d.FLOAT,!1,16,8),d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,a),d.uniformMatrix4fv(h.projectionMatrix,!1,o.projectionMatrix.elements),m.activeTexture(d.TEXTURE0),d.uniform1i(h.map,0);var c=0,l=0,_=r.fog;_?(d.uniform3f(h.fogColor,_.color.r,_.color.g,_.color.b),_.isFog?(d.uniform1f(h.fogNear,_.near),d.uniform1f(h.fogFar,_.far),d.uniform1i(h.fogType,1),c=1,l=1):_.isFogExp2&&(d.uniform1f(h.fogDensity,_.density),d.uniform1i(h.fogType,2),c=2,l=2)):(d.uniform1i(h.fogType,0),c=0,l=0);for(var b=0,w=e.length;b<w;b++){var x=e[b];x.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,x.matrixWorld),x.z=-x.modelViewMatrix.elements[14]}e.sort(i);for(var E=[],b=0,w=e.length;b<w;b++){var x=e[b],S=x.material;if(S.visible!==!1){d.uniform1f(h.alphaTest,S.alphaTest),d.uniformMatrix4fv(h.modelViewMatrix,!1,x.modelViewMatrix.elements),x.matrixWorld.decompose(v,g,y),E[0]=y.x,E[1]=y.y;var M=0;r.fog&&S.fog&&(M=l),c!==M&&(d.uniform1i(h.fogType,M),c=M),null!==S.map?(d.uniform2f(h.uvOffset,S.map.offset.x,S.map.offset.y),d.uniform2f(h.uvScale,S.map.repeat.x,S.map.repeat.y)):(d.uniform2f(h.uvOffset,0,0),d.uniform2f(h.uvScale,1,1)),d.uniform1f(h.opacity,S.opacity),d.uniform3f(h.color,S.color.r,S.color.g,S.color.b),d.uniform1f(h.rotation,S.rotation),d.uniform2fv(h.scale,E),m.setBlending(S.blending,S.blendEquation,S.blendSrc,S.blendDst),m.setDepthTest(S.depthTest),m.setDepthWrite(S.depthWrite),S.map?t.setTexture2D(S.map,0):t.setTexture2D(f,0),d.drawElements(d.TRIANGLES,6,d.UNSIGNED_SHORT,0)}}m.enable(d.CULL_FACE),t.resetGLState()}}}function J(){Object.defineProperty(this,"id",{value:Mc++}),this.uuid=fa.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.lights=!0,this.blending=vo,this.side=so,this.shading=lo,this.vertexColors=po,this.opacity=1,this.transparent=!1,this.blendSrc=Ro,this.blendDst=Oo,this.blendEquation=wo,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Bo,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.alphaTest=0,this.premultipliedAlpha=!1,this.overdraw=0,this.visible=!0,this._needsUpdate=!0}function $(t){J.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,void 0!==t&&(void 0!==t.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(t))}function tt(t){J.call(this),this.type="MeshDepthMaterial",this.depthPacking=pa,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(t)}function et(t,e){this.min=void 0!==t?t:new l(+(1/0),+(1/0),+(1/0)),this.max=void 0!==e?e:new l(-(1/0),-(1/0),-(1/0))}function nt(t,e){this.center=void 0!==t?t:new l,this.radius=void 0!==e?e:0}function rt(){this.elements=new Float32Array([1,0,0,0,1,0,0,0,1]),arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}function it(t,e){this.normal=void 0!==t?t:new l(1,0,0),this.constant=void 0!==e?e:0}function ot(t,e,n,r,i,o){this.planes=[void 0!==t?t:new it,void 0!==e?e:new it,void 0!==n?n:new it,void 0!==r?r:new it,void 0!==i?i:new it,void 0!==o?o:new it]}function st(t,e,n,r){function o(e,n,r,i){var o=e.geometry,s=null,a=S,u=e.customDepthMaterial;if(r&&(a=M,u=e.customDistanceMaterial),u)s=u;else{var c=!1;n.morphTargets&&(o&&o.isBufferGeometry?c=o.morphAttributes&&o.morphAttributes.position&&o.morphAttributes.position.length>0:o&&o.isGeometry&&(c=o.morphTargets&&o.morphTargets.length>0));var l=e.isSkinnedMesh&&n.skinning,p=0;c&&(p|=w),l&&(p|=x),s=a[p]}if(t.localClippingEnabled&&n.clipShadows===!0&&0!==n.clippingPlanes.length){var h=s.uuid,f=n.uuid,d=C[h];void 0===d&&(d={},C[h]=d);var m=d[f];void 0===m&&(m=s.clone(),d[f]=m),s=m}s.visible=n.visible,s.wireframe=n.wireframe;var v=n.side;return F.renderSingleSided&&v==uo&&(v=so),F.renderReverseSided&&(v===so?v=ao:v===ao&&(v=so)),s.side=v,s.clipShadows=n.clipShadows,s.clippingPlanes=n.clippingPlanes,s.wireframeLinewidth=n.wireframeLinewidth,s.linewidth=n.linewidth,r&&void 0!==s.uniforms.lightPos&&s.uniforms.lightPos.value.copy(i),s}function u(t,e,n){if(t.visible!==!1){if(0!=(t.layers.mask&e.layers.mask)&&(t.isMesh||t.isLine||t.isPoints)&&t.castShadow&&(t.frustumCulled===!1||f.intersectsObject(t)===!0)){t.material.visible===!0&&(t.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,t.matrixWorld),b.push(t))}for(var r=t.children,i=0,o=r.length;i<o;i++)u(r[i],e,n)}}var c=t.context,h=t.state,f=new ot,d=new p,m=e.shadows,v=new i,g=new i(r.maxTextureSize,r.maxTextureSize),y=new l,_=new l,b=[],w=1,x=2,E=1+(w|x),S=new Array(E),M=new Array(E),C={},T=[new l(1,0,0),new l(-1,0,0),new l(0,0,1),new l(0,0,-1),new l(0,1,0),new l(0,-1,0)],A=[new l(0,1,0),new l(0,1,0),new l(0,1,0),new l(0,1,0),new l(0,0,1),new l(0,0,-1)],P=[new s,new s,new s,new s,new s,new s],R=new tt;R.depthPacking=ha,R.clipping=!0;for(var O=Sc.distanceRGBA,L=ba.clone(O.uniforms),I=0;I!==E;++I){var N=0!=(I&w),D=0!=(I&x),k=R.clone();k.morphTargets=N,k.skinning=D,S[I]=k;var j=new $({defines:{USE_SHADOWMAP:""},uniforms:L,vertexShader:O.vertexShader,fragmentShader:O.fragmentShader,morphTargets:N,skinning:D,clipping:!0});M[I]=j}var F=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=io,this.renderReverseSided=!0,this.renderSingleSided=!0,this.render=function(e,r){if(F.enabled!==!1&&(F.autoUpdate!==!1||F.needsUpdate!==!1)&&0!==m.length){h.buffers.color.setClear(1,1,1,1),h.disable(c.BLEND),h.setDepthTest(!0),h.setScissorTest(!1);for(var i,s,l=0,p=m.length;l<p;l++){var w=m[l],x=w.shadow;if(void 0!==x){var E=x.camera;if(v.copy(x.mapSize),v.min(g),w&&w.isPointLight){i=6,s=!0;var S=v.x,M=v.y;P[0].set(2*S,M,S,M),P[1].set(0,M,S,M),P[2].set(3*S,M,S,M),P[3].set(S,M,S,M),P[4].set(3*S,0,S,M),P[5].set(S,0,S,M),v.x*=4,v.y*=2}else i=1,s=!1;if(null===x.map){var C={minFilter:ls,magFilter:ls,format:Rs};x.map=new a(v.x,v.y,C),E.updateProjectionMatrix()}x.isSpotLightShadow&&x.update(w),x&&x.isRectAreaLightShadow&&x.update(w);var R=x.map,O=x.matrix;_.setFromMatrixPosition(w.matrixWorld),E.position.copy(_),t.setRenderTarget(R),t.clear();for(var L=0;L<i;L++){if(s){y.copy(E.position),y.add(T[L]),E.up.copy(A[L]),E.lookAt(y);var I=P[L];h.viewport(I)}else y.setFromMatrixPosition(w.target.matrixWorld),E.lookAt(y);E.updateMatrixWorld(),E.matrixWorldInverse.getInverse(E.matrixWorld),O.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),O.multiply(E.projectionMatrix),O.multiply(E.matrixWorldInverse),d.multiplyMatrices(E.projectionMatrix,E.matrixWorldInverse),f.setFromMatrix(d),b.length=0,u(e,r,E);for(var N=0,D=b.length;N<D;N++){var k=b[N],j=n.update(k),U=k.material;if(U&&U.isMultiMaterial)for(var B=j.groups,V=U.materials,H=0,z=B.length;H<z;H++){var G=B[H],W=V[G.materialIndex];if(W.visible===!0){var q=o(k,W,s,_);t.renderBufferDirect(E,null,j,q,k,G)}}else{var q=o(k,U,s,_);t.renderBufferDirect(E,null,j,q,k,null)}}}}else console.warn("THREE.WebGLShadowMap:",w,"has no shadow.")}var X=t.getClearColor(),Y=t.getClearAlpha();t.setClearColor(X,Y),F.needsUpdate=!1}}}function at(t,e){this.origin=void 0!==t?t:new l,this.direction=void 0!==e?e:new l}function ut(t,e,n,r){this._x=t||0,this._y=e||0,this._z=n||0,this._order=r||ut.DefaultOrder}function ct(){this.mask=1}function lt(){function t(){i.setFromEuler(r,!1)}function e(){r.setFromQuaternion(i,void 0,!1)}Object.defineProperty(this,"id",{value:Cc++}),this.uuid=fa.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=lt.DefaultUp.clone();var n=new l,r=new ut,i=new c,o=new l(1,1,1);r.onChange(t),i.onChange(e),Object.defineProperties(this,{position:{enumerable:!0,value:n},rotation:{enumerable:!0,value:r},quaternion:{enumerable:!0,value:i},scale:{enumerable:!0,value:o},modelViewMatrix:{value:new p},normalMatrix:{value:new rt}}),this.matrix=new p,this.matrixWorld=new p,this.matrixAutoUpdate=lt.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new ct,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={},this.onBeforeRender=function(){},this.onAfterRender=function(){}}function pt(t,e){this.start=void 0!==t?t:new l,this.end=void 0!==e?e:new l}function ht(t,e,n){this.a=void 0!==t?t:new l,this.b=void 0!==e?e:new l,this.c=void 0!==n?n:new l}function ft(t,e,n,r,i,o){this.a=t,this.b=e,this.c=n,this.normal=r&&r.isVector3?r:new l,this.vertexNormals=Array.isArray(r)?r:[],this.color=i&&i.isColor?i:new X,this.vertexColors=Array.isArray(i)?i:[],this.materialIndex=void 0!==o?o:0}function dt(t){J.call(this),this.type="MeshBasicMaterial",this.color=new X(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Wo,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(t)}function mt(t,e,n){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.uuid=fa.generateUUID(),this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=n===!0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.onUploadCallback=function(){},this.version=0}function vt(t,e){mt.call(this,new Int8Array(t),e)}function gt(t,e){mt.call(this,new Uint8Array(t),e)}function yt(t,e){mt.call(this,new Uint8ClampedArray(t),e)}function _t(t,e){mt.call(this,new Int16Array(t),e)}function bt(t,e){mt.call(this,new Uint16Array(t),e)}function wt(t,e){mt.call(this,new Int32Array(t),e)}function xt(t,e){mt.call(this,new Uint32Array(t),e)}function Et(t,e){mt.call(this,new Float32Array(t),e)}function St(t,e){mt.call(this,new Float64Array(t),e)}function Mt(){this.indices=[],this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function Ct(t){for(var e=t.length,n=-(1/0);e--;)t[e]>n&&(n=t[e]);return n}function Tt(){return Tc++}function At(){Object.defineProperty(this,"id",{value:Tt()}),this.uuid=fa.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}function Pt(){Object.defineProperty(this,"id",{value:Tt()}),this.uuid=fa.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0}}function Rt(t,e){lt.call(this),this.type="Mesh",this.geometry=void 0!==t?t:new Pt,this.material=void 0!==e?e:new dt({color:16777215*Math.random()}),this.drawMode=ta,this.updateMorphTargets()}function Ot(t,e,n,r,i,o){At.call(this),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:r,heightSegments:i,depthSegments:o},this.fromBufferGeometry(new Lt(t,e,n,r,i,o)),this.mergeVertices()}function Lt(t,e,n,r,i,o){function s(t,e,n,r,i,o,s,m,v,g,y){var _,b,w=o/v,x=s/g,E=o/2,S=s/2,M=m/2,C=v+1,T=g+1,A=0,P=0,R=new l;for(b=0;b<T;b++){var O=b*x-S;for(_=0;_<C;_++){var L=_*w-E;R[t]=L*r,R[e]=O*i,R[n]=M,c.push(R.x,R.y,R.z),R[t]=0,R[e]=0,R[n]=m>0?1:-1,p.push(R.x,R.y,R.z),h.push(_/v),h.push(1-b/g),A+=1}}for(b=0;b<g;b++)for(_=0;_<v;_++){var I=f+_+C*b,N=f+_+C*(b+1),D=f+(_+1)+C*(b+1),k=f+(_+1)+C*b;u.push(I,N,k),u.push(N,D,k),P+=6}a.addGroup(d,P,y),d+=P,f+=A}Pt.call(this),this.type="BoxBufferGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:r,heightSegments:i,depthSegments:o};var a=this;r=Math.floor(r)||1,i=Math.floor(i)||1,o=Math.floor(o)||1;var u=[],c=[],p=[],h=[],f=0,d=0;s("z","y","x",-1,-1,n,e,t,o,i,0),s("z","y","x",1,-1,n,e,-t,o,i,1),s("x","z","y",1,1,t,n,e,r,o,2),s("x","z","y",1,-1,t,n,-e,r,o,3),s("x","y","z",1,-1,t,e,n,r,i,4),s("x","y","z",-1,-1,t,e,-n,r,i,5),this.setIndex(u),this.addAttribute("position",new Et(c,3)),this.addAttribute("normal",new Et(p,3)),this.addAttribute("uv",new Et(h,2))}function It(t,e,n,r){At.call(this),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:r},this.fromBufferGeometry(new Nt(t,e,n,r))}function Nt(t,e,n,r){Pt.call(this),this.type="PlaneBufferGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:r};var i,o,s=t/2,a=e/2,u=Math.floor(n)||1,c=Math.floor(r)||1,l=u+1,p=c+1,h=t/u,f=e/c,d=[],m=[],v=[],g=[];for(o=0;o<p;o++){var y=o*f-a;for(i=0;i<l;i++){var _=i*h-s;m.push(_,-y,0),v.push(0,0,1),g.push(i/u),g.push(1-o/c)}}for(o=0;o<c;o++)for(i=0;i<u;i++){var b=i+l*o,w=i+l*(o+1),x=i+1+l*(o+1),E=i+1+l*o;d.push(b,w,E),d.push(w,x,E)}this.setIndex(d),this.addAttribute("position",new Et(m,3)),this.addAttribute("normal",new Et(v,3)),this.addAttribute("uv",new Et(g,2))}function Dt(){lt.call(this),this.type="Camera",this.matrixWorldInverse=new p,this.projectionMatrix=new p}function kt(t,e,n,r){Dt.call(this),this.type="PerspectiveCamera",this.fov=void 0!==t?t:50,this.zoom=1,this.near=void 0!==n?n:.1,this.far=void 0!==r?r:2e3,this.focus=10,this.aspect=void 0!==e?e:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function jt(t,e,n,r,i,o){Dt.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=n,this.bottom=r,this.near=void 0!==i?i:.1,this.far=void 0!==o?o:2e3,this.updateProjectionMatrix()}function Ft(t,e,n){function r(t){a=t}function i(n){n.array instanceof Uint32Array&&e.get("OES_element_index_uint")?(u=t.UNSIGNED_INT,c=4):n.array instanceof Uint16Array?(u=t.UNSIGNED_SHORT,c=2):(u=t.UNSIGNED_BYTE,c=1)}function o(e,r){t.drawElements(a,r,u,e*c),n.calls++,n.vertices+=r,a===t.TRIANGLES&&(n.faces+=r/3)}function s(r,i,o){var s=e.get("ANGLE_instanced_arrays");if(null===s)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");s.drawElementsInstancedANGLE(a,o,u,i*c,r.maxInstancedCount),n.calls++,n.vertices+=o*r.maxInstancedCount,a===t.TRIANGLES&&(n.faces+=r.maxInstancedCount*o/3)}var a,u,c;return{setMode:r,setIndex:i,render:o,renderInstances:s}}function Ut(t,e,n){function r(t){s=t}function i(e,r){t.drawArrays(s,e,r),n.calls++,n.vertices+=r,s===t.TRIANGLES&&(n.faces+=r/3)}function o(r){var i=e.get("ANGLE_instanced_arrays");if(null===i)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");var o=r.attributes.position,a=0;o.isInterleavedBufferAttribute?(a=o.data.count,i.drawArraysInstancedANGLE(s,0,a,r.maxInstancedCount)):(a=o.count,i.drawArraysInstancedANGLE(s,0,a,r.maxInstancedCount)),n.calls++,n.vertices+=a*r.maxInstancedCount,s===t.TRIANGLES&&(n.faces+=r.maxInstancedCount*a/3)}var s;return{setMode:r,render:i,renderInstances:o}}function Bt(){var t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];var n;switch(e.type){case"DirectionalLight":n={direction:new l,color:new X,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new i};break;case"SpotLight":n={position:new l,direction:new l,color:new X,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new i};break;case"PointLight":n={position:new l,color:new X,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new i};break;case"HemisphereLight":n={direction:new l,skyColor:new X,groundColor:new X};break;case"RectAreaLight":n={color:new X,position:new l,halfWidth:new l,halfHeight:new l}}return t[e.id]=n,n}}}function Vt(t){for(var e=t.split("\n"),n=0;n<e.length;n++)e[n]=n+1+": "+e[n];return e.join("\n")}function Ht(t,e,n){var r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),t.getShaderParameter(r,t.COMPILE_STATUS)===!1&&console.error("THREE.WebGLShader: Shader couldn't compile."),""!==t.getShaderInfoLog(r)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",e===t.VERTEX_SHADER?"vertex":"fragment",t.getShaderInfoLog(r),Vt(n)),r}function zt(t){switch(t){case ra:return["Linear","( value )"];case ia:return["sRGB","( value )"];case sa:return["RGBE","( value )"];case ua:return["RGBM","( value, 7.0 )"];case ca:return["RGBM","( value, 16.0 )"];case la:return["RGBD","( value, 256.0 )"];case oa:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+t)}}function Gt(t,e){var n=zt(e);return"vec4 "+t+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function Wt(t,e){var n=zt(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function qt(t,e){var n;switch(e){case Zo:n="Linear";break;case Qo:n="Reinhard";break;case Ko:n="Uncharted2";break;case Jo:n="OptimizedCineon";break;default:throw new Error("unsupported toneMapping: "+e)}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Xt(t,e,n){return t=t||{},[t.derivatives||e.envMapCubeUV||e.bumpMap||e.normalMap||e.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(t.fragDepth||e.logarithmicDepthBuffer)&&n.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",t.drawBuffers&&n.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(t.shaderTextureLOD||e.envMap)&&n.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Qt).join("\n")}function Yt(t){var e=[];for(var n in t){var r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join("\n")}function Zt(t,e,n){for(var r={},i=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),o=0;o<i;o++){var s=t.getActiveAttrib(e,o),a=s.name;r[a]=t.getAttribLocation(e,a)}return r}function Qt(t){return""!==t}function Kt(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights)}function Jt(t){function e(t,e){var n=wc[e];if(void 0===n)throw new Error("Can not resolve #include <"+e+">");return Jt(n)}var n=/#include +<([\w\d.]+)>/g;return t.replace(n,e)}function $t(t){function e(t,e,n,r){for(var i="",o=parseInt(e);o<parseInt(n);o++)i+=r.replace(/\[ i \]/g,"[ "+o+" ]");return i}var n=/for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g;return t.replace(n,e)}function te(t,e,n,r){var i=t.context,o=n.extensions,s=n.defines,a=n.__webglShader.vertexShader,u=n.__webglShader.fragmentShader,c="SHADOWMAP_TYPE_BASIC";r.shadowMapType===io?c="SHADOWMAP_TYPE_PCF":r.shadowMapType===oo&&(c="SHADOWMAP_TYPE_PCF_SOFT");var l="ENVMAP_TYPE_CUBE",p="ENVMAP_MODE_REFLECTION",h="ENVMAP_BLENDING_MULTIPLY";if(r.envMap){switch(n.envMap.mapping){case ts:case es:l="ENVMAP_TYPE_CUBE";break;case os:case ss:l="ENVMAP_TYPE_CUBE_UV";break;case ns:case rs:l="ENVMAP_TYPE_EQUIREC";break;case is:l="ENVMAP_TYPE_SPHERE"}switch(n.envMap.mapping){case es:case rs:p="ENVMAP_MODE_REFRACTION"}switch(n.combine){case Wo:h="ENVMAP_BLENDING_MULTIPLY";break;case qo:h="ENVMAP_BLENDING_MIX";break;case Xo:h="ENVMAP_BLENDING_ADD"}}var f,d,m=t.gammaFactor>0?t.gammaFactor:1,v=Xt(o,r,t.extensions),g=Yt(s),y=i.createProgram();n.isRawShaderMaterial?(f=[g,"\n"].filter(Qt).join("\n"),d=[v,g,"\n"].filter(Qt).join("\n")):(f=["precision "+r.precision+" float;","precision "+r.precision+" int;","#define SHADER_NAME "+n.__webglShader.name,g,r.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+m,"#define MAX_BONES "+r.maxBones,r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+p:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.displacementMap&&r.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.vertexColors?"#define USE_COLOR":"",r.flatShading?"#define FLAT_SHADED":"",r.skinning?"#define USE_SKINNING":"",r.useVertexTexture?"#define BONE_TEXTURE":"",r.morphTargets?"#define USE_MORPHTARGETS":"",r.morphNormals&&r.flatShading===!1?"#define USE_MORPHNORMALS":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+r.numClippingPlanes,r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+c:"",r.sizeAttenuation?"#define USE_SIZEATTENUATION":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&t.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Qt).join("\n"),d=[v,"precision "+r.precision+" float;","precision "+r.precision+" int;","#define SHADER_NAME "+n.__webglShader.name,g,r.alphaTest?"#define ALPHATEST "+r.alphaTest:"","#define GAMMA_FACTOR "+m,r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+l:"",r.envMap?"#define "+p:"",r.envMap?"#define "+h:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.vertexColors?"#define USE_COLOR":"",r.gradientMap?"#define USE_GRADIENTMAP":"",r.flatShading?"#define FLAT_SHADED":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+r.numClippingPlanes,"#define UNION_CLIPPING_PLANES "+(r.numClippingPlanes-r.numClipIntersection),r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+c:"",r.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",r.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&t.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"",r.envMap&&t.extensions.get("EXT_shader_texture_lod")?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",r.toneMapping!==Yo?"#define TONE_MAPPING":"",r.toneMapping!==Yo?wc.tonemapping_pars_fragment:"",r.toneMapping!==Yo?qt("toneMapping",r.toneMapping):"",r.outputEncoding||r.mapEncoding||r.envMapEncoding||r.emissiveMapEncoding?wc.encodings_pars_fragment:"",r.mapEncoding?Gt("mapTexelToLinear",r.mapEncoding):"",r.envMapEncoding?Gt("envMapTexelToLinear",r.envMapEncoding):"",r.emissiveMapEncoding?Gt("emissiveMapTexelToLinear",r.emissiveMapEncoding):"",r.outputEncoding?Wt("linearToOutputTexel",r.outputEncoding):"",r.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(Qt).join("\n")),a=Jt(a,r),a=Kt(a,r),u=Jt(u,r),u=Kt(u,r),n.isShaderMaterial||(a=$t(a),u=$t(u));var _=f+a,b=d+u,w=Ht(i,i.VERTEX_SHADER,_),x=Ht(i,i.FRAGMENT_SHADER,b);i.attachShader(y,w),i.attachShader(y,x),void 0!==n.index0AttributeName?i.bindAttribLocation(y,0,n.index0AttributeName):r.morphTargets===!0&&i.bindAttribLocation(y,0,"position"),i.linkProgram(y);var E=i.getProgramInfoLog(y),S=i.getShaderInfoLog(w),M=i.getShaderInfoLog(x),C=!0,T=!0;i.getProgramParameter(y,i.LINK_STATUS)===!1?(C=!1,console.error("THREE.WebGLProgram: shader error: ",i.getError(),"gl.VALIDATE_STATUS",i.getProgramParameter(y,i.VALIDATE_STATUS),"gl.getProgramInfoLog",E,S,M)):""!==E?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",E):""!==S&&""!==M||(T=!1),T&&(this.diagnostics={runnable:C,material:n,programLog:E,vertexShader:{log:S,prefix:f},fragmentShader:{log:M,prefix:d}}),i.deleteShader(w),i.deleteShader(x);var A;this.getUniforms=function(){return void 0===A&&(A=new q(i,y,t)),A};var P;return this.getAttributes=function(){return void 0===P&&(P=Zt(i,y)),P},this.destroy=function(){i.deleteProgram(y),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."),this.getUniforms()}},attributes:{get:function(){return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."),this.getAttributes()}}}),this.id=Ac++,this.code=e,this.usedTimes=1,this.program=y,this.vertexShader=w,this.fragmentShader=x,this}function ee(t,e){function n(t){if(e.floatVertexTextures&&t&&t.skeleton&&t.skeleton.useVertexTexture)return 1024;var n=e.maxVertexUniforms,r=Math.floor((n-20)/4),i=r;return void 0!==t&&t&&t.isSkinnedMesh&&(i=Math.min(t.skeleton.bones.length,i))<t.skeleton.bones.length&&console.warn("WebGLRenderer: too many bones - "+t.skeleton.bones.length+", this GPU supports just "+i+" (try OpenGL instead of ANGLE)"),i}function r(t,e){var n;return t?t.isTexture?n=t.encoding:t.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),n=t.texture.encoding):n=ra,n===ra&&e&&(n=oa),n}var i=[],o={MeshDepthMaterial:"depth",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points"},s=["precision","supportsVertexTextures","map","mapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking"];this.getParameters=function(i,s,a,u,c,l){var p=o[i.type],h=n(l),f=t.getPrecision();null!==i.precision&&(f=e.getMaxPrecision(i.precision))!==i.precision&&console.warn("THREE.WebGLProgram.getParameters:",i.precision,"not supported, using",f,"instead.");var d=t.getCurrentRenderTarget();return{shaderID:p,precision:f,supportsVertexTextures:e.vertexTextures,outputEncoding:r(d?d.texture:null,t.gammaOutput),map:!!i.map,mapEncoding:r(i.map,t.gammaInput),envMap:!!i.envMap,envMapMode:i.envMap&&i.envMap.mapping,envMapEncoding:r(i.envMap,t.gammaInput),envMapCubeUV:!!i.envMap&&(i.envMap.mapping===os||i.envMap.mapping===ss),lightMap:!!i.lightMap,aoMap:!!i.aoMap,emissiveMap:!!i.emissiveMap,emissiveMapEncoding:r(i.emissiveMap,t.gammaInput),bumpMap:!!i.bumpMap,normalMap:!!i.normalMap,displacementMap:!!i.displacementMap,roughnessMap:!!i.roughnessMap,metalnessMap:!!i.metalnessMap,specularMap:!!i.specularMap,alphaMap:!!i.alphaMap,gradientMap:!!i.gradientMap,combine:i.combine,vertexColors:i.vertexColors,fog:!!a,useFog:i.fog,fogExp:a&&a.isFogExp2,flatShading:i.shading===co,sizeAttenuation:i.sizeAttenuation,logarithmicDepthBuffer:e.logarithmicDepthBuffer,skinning:i.skinning,maxBones:h,useVertexTexture:e.floatVertexTextures&&l&&l.skeleton&&l.skeleton.useVertexTexture,morphTargets:i.morphTargets,morphNormals:i.morphNormals,maxMorphTargets:t.maxMorphTargets,maxMorphNormals:t.maxMorphNormals,numDirLights:s.directional.length,numPointLights:s.point.length,numSpotLights:s.spot.length,numRectAreaLights:s.rectArea.length,numHemiLights:s.hemi.length,numClippingPlanes:u,numClipIntersection:c,shadowMapEnabled:t.shadowMap.enabled&&l.receiveShadow&&s.shadows.length>0,shadowMapType:t.shadowMap.type,toneMapping:t.toneMapping,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:i.premultipliedAlpha,alphaTest:i.alphaTest,doubleSided:i.side===uo,flipSided:i.side===ao,depthPacking:void 0!==i.depthPacking&&i.depthPacking}},this.getProgramCode=function(t,e){var n=[];if(e.shaderID?n.push(e.shaderID):(n.push(t.fragmentShader),n.push(t.vertexShader)),void 0!==t.defines)for(var r in t.defines)n.push(r),n.push(t.defines[r]);for(var i=0;i<s.length;i++)n.push(e[s[i]]);return n.join()},this.acquireProgram=function(e,n,r){for(var o,s=0,a=i.length;s<a;s++){var u=i[s];if(u.code===r){o=u,++o.usedTimes;break}}return void 0===o&&(o=new te(t,r,e,n),i.push(o)),o},this.releaseProgram=function(t){if(0==--t.usedTimes){i[i.indexOf(t)]=i[i.length-1],i.pop(),t.destroy()}},this.programs=i}function ne(t,e,n){function r(t){var i=t.target,a=u[i.id];null!==a.index&&o(a.index),s(a.attributes),i.removeEventListener("dispose",r),delete u[i.id];var c=e.get(i);c.wireframe&&o(c.wireframe),e.delete(i);var l=e.get(a);l.wireframe&&o(l.wireframe),e.delete(a),n.memory.geometries--}function i(t){return t.isInterleavedBufferAttribute?e.get(t.data).__webglBuffer:e.get(t).__webglBuffer}function o(e){var n=i(e);void 0!==n&&(t.deleteBuffer(n),a(e))}function s(t){for(var e in t)o(t[e])}function a(t){t.isInterleavedBufferAttribute?e.delete(t.data):e.delete(t)}var u={};return{get:function(t){var e=t.geometry;if(void 0!==u[e.id])return u[e.id];e.addEventListener("dispose",r);var i;return e.isBufferGeometry?i=e:e.isGeometry&&(void 0===e._bufferGeometry&&(e._bufferGeometry=(new Pt).setFromObject(t)),i=e._bufferGeometry),u[e.id]=i,n.memory.geometries++,i}}}function re(t,e,n){function r(e){var n=l.get(e);e.geometry.isGeometry&&n.updateFromObject(e);var r=n.index,o=n.attributes;null!==r&&i(r,t.ELEMENT_ARRAY_BUFFER);for(var s in o)i(o[s],t.ARRAY_BUFFER);var a=n.morphAttributes;for(var s in a)for(var u=a[s],c=0,p=u.length;c<p;c++)i(u[c],t.ARRAY_BUFFER);return n}function i(t,n){var r=t.isInterleavedBufferAttribute?t.data:t,i=e.get(r);void 0===i.__webglBuffer?o(i,r,n):i.version!==r.version&&s(i,r,n)}function o(e,n,r){e.__webglBuffer=t.createBuffer(),t.bindBuffer(r,e.__webglBuffer);var i=n.dynamic?t.DYNAMIC_DRAW:t.STATIC_DRAW;t.bufferData(r,n.array,i);var o=t.FLOAT,s=n.array;s instanceof Float32Array?o=t.FLOAT:s instanceof Float64Array?console.warn("Unsupported data buffer format: Float64Array"):s instanceof Uint16Array?o=t.UNSIGNED_SHORT:s instanceof Int16Array?o=t.SHORT:s instanceof Uint32Array?o=t.UNSIGNED_INT:s instanceof Int32Array?o=t.INT:s instanceof Int8Array?o=t.BYTE:s instanceof Uint8Array&&(o=t.UNSIGNED_BYTE),e.bytesPerElement=s.BYTES_PER_ELEMENT,e.type=o,e.version=n.version,n.onUploadCallback()}function s(e,n,r){t.bindBuffer(r,e.__webglBuffer),n.dynamic===!1?t.bufferData(r,n.array,t.STATIC_DRAW):n.updateRange.count===-1?t.bufferSubData(r,0,n.array):0===n.updateRange.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(t.bufferSubData(r,n.updateRange.offset*n.array.BYTES_PER_ELEMENT,n.array.subarray(n.updateRange.offset,n.updateRange.offset+n.updateRange.count)),n.updateRange.count=0),e.version=n.version}function a(t){return t.isInterleavedBufferAttribute?e.get(t.data).__webglBuffer:e.get(t).__webglBuffer}function u(t){return t.isInterleavedBufferAttribute?e.get(t.data):e.get(t)}function c(n){var r=e.get(n);if(void 0!==r.wireframe)return r.wireframe;var o=[],s=n.index,a=n.attributes;if(null!==s)for(var u=s.array,c=0,l=u.length;c<l;c+=3){var p=u[c+0],h=u[c+1],f=u[c+2];o.push(p,h,h,f,f,p)}else for(var u=a.position.array,c=0,l=u.length/3-1;c<l;c+=3){var p=c+0,h=c+1,f=c+2;o.push(p,h,h,f,f,p)}var d=new(Ct(o)>65535?xt:bt)(o,1);return i(d,t.ELEMENT_ARRAY_BUFFER),r.wireframe=d,d}var l=new ne(t,e,n);return{getAttributeBuffer:a,getAttributeProperties:u,getWireframeAttribute:c,update:r}}function ie(t,e,n,r,i,o,s){function a(t,e){if(t.width>e||t.height>e){var n=e/Math.max(t.width,t.height),r=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");r.width=Math.floor(t.width*n),r.height=Math.floor(t.height*n);return r.getContext("2d").drawImage(t,0,0,t.width,t.height,0,0,r.width,r.height),console.warn("THREE.WebGLRenderer: image is too big ("+t.width+"x"+t.height+"). Resized to "+r.width+"x"+r.height,t),r}return t}function u(t){return fa.isPowerOfTwo(t.width)&&fa.isPowerOfTwo(t.height)}function c(t){if(t instanceof HTMLImageElement||t instanceof HTMLCanvasElement){var e=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");e.width=fa.nearestPowerOfTwo(t.width),e.height=fa.nearestPowerOfTwo(t.height);return e.getContext("2d").drawImage(t,0,0,e.width,e.height),console.warn("THREE.WebGLRenderer: image is not power of two ("+t.width+"x"+t.height+"). Resized to "+e.width+"x"+e.height,t),e}return t}function l(t){return t.wrapS!==us||t.wrapT!==us||t.minFilter!==ls&&t.minFilter!==fs}function p(e){return e===ls||e===ps||e===hs?t.NEAREST:t.LINEAR}function h(t){var e=t.target;e.removeEventListener("dispose",h),d(e),T.textures--}function f(t){var e=t.target;e.removeEventListener("dispose",f),m(e),T.textures--}function d(e){var n=r.get(e);if(e.image&&n.__image__webglTextureCube)t.deleteTexture(n.__image__webglTextureCube);else{if(void 0===n.__webglInit)return;t.deleteTexture(n.__webglTexture)}r.delete(e)}function m(e){var n=r.get(e),i=r.get(e.texture);if(e){if(void 0!==i.__webglTexture&&t.deleteTexture(i.__webglTexture),e.depthTexture&&e.depthTexture.dispose(),e.isWebGLRenderTargetCube)for(var o=0;o<6;o++)t.deleteFramebuffer(n.__webglFramebuffer[o]),n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer[o]);else t.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer);r.delete(e.texture),r.delete(e)}}function v(e,i){var o=r.get(e);if(e.version>0&&o.__version!==e.version){var s=e.image;if(void 0===s)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined",e);else{if(s.complete!==!1)return void b(o,e,i);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete",e)}}n.activeTexture(t.TEXTURE0+i),n.bindTexture(t.TEXTURE_2D,o.__webglTexture)}function g(e,s){var c=r.get(e);if(6===e.image.length)if(e.version>0&&c.__version!==e.version){c.__image__webglTextureCube||(e.addEventListener("dispose",h),c.__image__webglTextureCube=t.createTexture(),T.textures++),n.activeTexture(t.TEXTURE0+s),n.bindTexture(t.TEXTURE_CUBE_MAP,c.__image__webglTextureCube),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e.flipY);for(var l=e&&e.isCompressedTexture,p=e.image[0]&&e.image[0].isDataTexture,f=[],d=0;d<6;d++)f[d]=l||p?p?e.image[d].image:e.image[d]:a(e.image[d],i.maxCubemapSize);var m=f[0],v=u(m),g=o(e.format),y=o(e.type);_(t.TEXTURE_CUBE_MAP,e,v);for(var d=0;d<6;d++)if(l)for(var b,w=f[d].mipmaps,x=0,E=w.length;x<E;x++)b=w[x],e.format!==Rs&&e.format!==Ps?n.getCompressedTextureFormats().indexOf(g)>-1?n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+d,x,g,b.width,b.height,0,b.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+d,x,g,b.width,b.height,0,g,y,b.data);else p?n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+d,0,g,f[d].width,f[d].height,0,g,y,f[d].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+d,0,g,g,y,f[d]);e.generateMipmaps&&v&&t.generateMipmap(t.TEXTURE_CUBE_MAP),c.__version=e.version,e.onUpdate&&e.onUpdate(e)}else n.activeTexture(t.TEXTURE0+s),n.bindTexture(t.TEXTURE_CUBE_MAP,c.__image__webglTextureCube)}function y(e,i){n.activeTexture(t.TEXTURE0+i),n.bindTexture(t.TEXTURE_CUBE_MAP,r.get(e).__webglTexture)}function _(n,s,a){var u;if(a?(t.texParameteri(n,t.TEXTURE_WRAP_S,o(s.wrapS)),t.texParameteri(n,t.TEXTURE_WRAP_T,o(s.wrapT)),t.texParameteri(n,t.TEXTURE_MAG_FILTER,o(s.magFilter)),t.texParameteri(n,t.TEXTURE_MIN_FILTER,o(s.minFilter))):(t.texParameteri(n,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(n,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),s.wrapS===us&&s.wrapT===us||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.",s),t.texParameteri(n,t.TEXTURE_MAG_FILTER,p(s.magFilter)),t.texParameteri(n,t.TEXTURE_MIN_FILTER,p(s.minFilter)),s.minFilter!==ls&&s.minFilter!==fs&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.",s)),u=e.get("EXT_texture_filter_anisotropic")){if(s.type===xs&&null===e.get("OES_texture_float_linear"))return;if(s.type===Es&&null===e.get("OES_texture_half_float_linear"))return;(s.anisotropy>1||r.get(s).__currentAnisotropy)&&(t.texParameterf(n,u.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(s.anisotropy,i.getMaxAnisotropy())),r.get(s).__currentAnisotropy=s.anisotropy)}}function b(e,r,s){void 0===e.__webglInit&&(e.__webglInit=!0,r.addEventListener("dispose",h),e.__webglTexture=t.createTexture(),T.textures++),n.activeTexture(t.TEXTURE0+s),n.bindTexture(t.TEXTURE_2D,e.__webglTexture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,r.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,r.unpackAlignment);var p=a(r.image,i.maxTextureSize);l(r)&&u(p)===!1&&(p=c(p));var f=u(p),d=o(r.format),m=o(r.type);_(t.TEXTURE_2D,r,f);var v,g=r.mipmaps;if(r.isDepthTexture){var y=t.DEPTH_COMPONENT;if(r.type===xs){if(!A)throw new Error("Float Depth Texture only supported in WebGL2.0");y=t.DEPTH_COMPONENT32F}else A&&(y=t.DEPTH_COMPONENT16);r.format===Ns&&y===t.DEPTH_COMPONENT&&r.type!==_s&&r.type!==ws&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),r.type=_s,m=o(r.type)),r.format===Ds&&(y=t.DEPTH_STENCIL,r.type!==Ts&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),r.type=Ts,m=o(r.type))),n.texImage2D(t.TEXTURE_2D,0,y,p.width,p.height,0,d,m,null)}else if(r.isDataTexture)if(g.length>0&&f){for(var b=0,w=g.length;b<w;b++)v=g[b],n.texImage2D(t.TEXTURE_2D,b,d,v.width,v.height,0,d,m,v.data);r.generateMipmaps=!1}else n.texImage2D(t.TEXTURE_2D,0,d,p.width,p.height,0,d,m,p.data);else if(r.isCompressedTexture)for(var b=0,w=g.length;b<w;b++)v=g[b],r.format!==Rs&&r.format!==Ps?n.getCompressedTextureFormats().indexOf(d)>-1?n.compressedTexImage2D(t.TEXTURE_2D,b,d,v.width,v.height,0,v.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(t.TEXTURE_2D,b,d,v.width,v.height,0,d,m,v.data);else if(g.length>0&&f){for(var b=0,w=g.length;b<w;b++)v=g[b],n.texImage2D(t.TEXTURE_2D,b,d,d,m,v);r.generateMipmaps=!1}else n.texImage2D(t.TEXTURE_2D,0,d,d,m,p);r.generateMipmaps&&f&&t.generateMipmap(t.TEXTURE_2D),e.__version=r.version,r.onUpdate&&r.onUpdate(r)}function w(e,i,s,a){var u=o(i.texture.format),c=o(i.texture.type);n.texImage2D(a,0,u,i.width,i.height,0,u,c,null),t.bindFramebuffer(t.FRAMEBUFFER,e),t.framebufferTexture2D(t.FRAMEBUFFER,s,a,r.get(i.texture).__webglTexture,0),t.bindFramebuffer(t.FRAMEBUFFER,null)}function x(e,n){t.bindRenderbuffer(t.RENDERBUFFER,e),n.depthBuffer&&!n.stencilBuffer?(t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,n.width,n.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e)):n.depthBuffer&&n.stencilBuffer?(t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,n.width,n.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,e)):t.renderbufferStorage(t.RENDERBUFFER,t.RGBA4,n.width,n.height),t.bindRenderbuffer(t.RENDERBUFFER,null)}function E(e,n){if(n&&n.isWebGLRenderTargetCube)throw new Error("Depth Texture with cube render targets is not supported!");if(t.bindFramebuffer(t.FRAMEBUFFER,e),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),v(n.depthTexture,0);var i=r.get(n.depthTexture).__webglTexture;if(n.depthTexture.format===Ns)t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,i,0);else{if(n.depthTexture.format!==Ds)throw new Error("Unknown depthTexture format");t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,i,0)}}function S(e){var n=r.get(e),i=e.isWebGLRenderTargetCube===!0;if(e.depthTexture){if(i)throw new Error("target.depthTexture not supported in Cube render targets");E(n.__webglFramebuffer,e)}else if(i){n.__webglDepthbuffer=[];for(var o=0;o<6;o++)t.bindFramebuffer(t.FRAMEBUFFER,n.__webglFramebuffer[o]),n.__webglDepthbuffer[o]=t.createRenderbuffer(),x(n.__webglDepthbuffer[o],e)}else t.bindFramebuffer(t.FRAMEBUFFER,n.__webglFramebuffer),n.__webglDepthbuffer=t.createRenderbuffer(),x(n.__webglDepthbuffer,e);t.bindFramebuffer(t.FRAMEBUFFER,null)}function M(e){var i=r.get(e),o=r.get(e.texture);e.addEventListener("dispose",f),o.__webglTexture=t.createTexture(),T.textures++;var s=e.isWebGLRenderTargetCube===!0,a=u(e);if(s){i.__webglFramebuffer=[];for(var c=0;c<6;c++)i.__webglFramebuffer[c]=t.createFramebuffer()}else i.__webglFramebuffer=t.createFramebuffer();if(s){n.bindTexture(t.TEXTURE_CUBE_MAP,o.__webglTexture),_(t.TEXTURE_CUBE_MAP,e.texture,a);for(var c=0;c<6;c++)w(i.__webglFramebuffer[c],e,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+c);e.texture.generateMipmaps&&a&&t.generateMipmap(t.TEXTURE_CUBE_MAP),n.bindTexture(t.TEXTURE_CUBE_MAP,null)}else n.bindTexture(t.TEXTURE_2D,o.__webglTexture),_(t.TEXTURE_2D,e.texture,a),w(i.__webglFramebuffer,e,t.COLOR_ATTACHMENT0,t.TEXTURE_2D),e.texture.generateMipmaps&&a&&t.generateMipmap(t.TEXTURE_2D),n.bindTexture(t.TEXTURE_2D,null);e.depthBuffer&&S(e)}function C(e){var i=e.texture;if(i.generateMipmaps&&u(e)&&i.minFilter!==ls&&i.minFilter!==fs){var o=e&&e.isWebGLRenderTargetCube?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,s=r.get(i).__webglTexture;n.bindTexture(o,s),t.generateMipmap(o),n.bindTexture(o,null)}}var T=s.memory,A="undefined"!=typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext;this.setTexture2D=v,this.setTextureCube=g,this.setTextureCubeDynamic=y,this.setupRenderTarget=M,this.updateRenderTargetMipmap=C}function oe(){var t={};return{get:function(e){var n=e.uuid,r=t[n];return void 0===r&&(r={},t[n]=r),r},delete:function(e){delete t[e.uuid]},clear:function(){t={}}}}function se(t,e,n){function r(){var e=!1,n=new s,r=null,i=new s;return{setMask:function(n){r===n||e||(t.colorMask(n,n,n,n),r=n)},setLocked:function(t){e=t},setClear:function(e,r,o,s,a){a===!0&&(e*=s,r*=s,o*=s),n.set(e,r,o,s),i.equals(n)===!1&&(t.clearColor(e,r,o,s),i.copy(n))},reset:function(){e=!1,r=null,i.set(0,0,0,1)}}}function i(){var e=!1,n=null,r=null,i=null;return{setTest:function(e){e?f(t.DEPTH_TEST):d(t.DEPTH_TEST)},setMask:function(r){n===r||e||(t.depthMask(r),n=r)},setFunc:function(e){if(r!==e){if(e)switch(e){case jo:t.depthFunc(t.NEVER);break;case Fo:t.depthFunc(t.ALWAYS);break;case Uo:t.depthFunc(t.LESS);break;case Bo:t.depthFunc(t.LEQUAL);break;case Vo:t.depthFunc(t.EQUAL);break;case Ho:t.depthFunc(t.GEQUAL);break;case zo:t.depthFunc(t.GREATER);break;case Go:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}else t.depthFunc(t.LEQUAL);r=e}},setLocked:function(t){e=t},setClear:function(e){i!==e&&(t.clearDepth(e),i=e)},reset:function(){e=!1,n=null,r=null,i=null}}}function o(){var e=!1,n=null,r=null,i=null,o=null,s=null,a=null,u=null,c=null;return{setTest:function(e){e?f(t.STENCIL_TEST):d(t.STENCIL_TEST)},setMask:function(r){n===r||e||(t.stencilMask(r),n=r)},setFunc:function(e,n,s){r===e&&i===n&&o===s||(t.stencilFunc(e,n,s),r=e,i=n,o=s)},setOp:function(e,n,r){s===e&&a===n&&u===r||(t.stencilOp(e,n,r),s=e,a=n,u=r)},setLocked:function(t){e=t},setClear:function(e){c!==e&&(t.clearStencil(e),c=e)},reset:function(){e=!1,n=null,r=null,i=null,o=null,s=null,a=null,u=null,c=null}}}function a(e,n,r){var i=new Uint8Array(4),o=t.createTexture();t.bindTexture(e,o),t.texParameteri(e,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(e,t.TEXTURE_MAG_FILTER,t.NEAREST);for(var s=0;s<r;s++)t.texImage2D(n+s,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,i);return o}function u(){F.setClear(0,0,0,1),U.setClear(1),B.setClear(0),f(t.DEPTH_TEST),b(Bo),M(!1),C(Ji),f(t.CULL_FACE),f(t.BLEND),v(vo)}function c(){for(var t=0,e=H.length;t<e;t++)H[t]=0}function l(n){if(H[n]=1,0===z[n]&&(t.enableVertexAttribArray(n),z[n]=1),0!==G[n]){e.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(n,0),G[n]=0}}function p(e,n,r){H[e]=1,0===z[e]&&(t.enableVertexAttribArray(e),z[e]=1),G[e]!==n&&(r.vertexAttribDivisorANGLE(e,n),G[e]=n)}function h(){for(var e=0,n=z.length;e!==n;++e)z[e]!==H[e]&&(t.disableVertexAttribArray(e),z[e]=0)}function f(e){W[e]!==!0&&(t.enable(e),W[e]=!0)}function d(e){W[e]!==!1&&(t.disable(e),W[e]=!1)}function m(){if(null===q&&(q=[],e.get("WEBGL_compressed_texture_pvrtc")||e.get("WEBGL_compressed_texture_s3tc")||e.get("WEBGL_compressed_texture_etc1")))for(var n=t.getParameter(t.COMPRESSED_TEXTURE_FORMATS),r=0;r<n.length;r++)q.push(n[r]);return q}function v(e,r,i,o,s,a,u,c){e!==mo?f(t.BLEND):d(t.BLEND),e===X&&c===tt||(e===go?c?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ONE,t.ONE,t.ONE,t.ONE)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.SRC_ALPHA,t.ONE)):e===yo?c?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ZERO,t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ONE_MINUS_SRC_ALPHA)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ZERO,t.ONE_MINUS_SRC_COLOR)):e===_o?c?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ZERO,t.SRC_COLOR)):c?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA)):(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA)),X=e,tt=c),e===bo?(s=s||r,a=a||i,u=u||o,r===Y&&s===K||(t.blendEquationSeparate(n(r),n(s)),Y=r,K=s),i===Z&&o===Q&&a===J&&u===$||(t.blendFuncSeparate(n(i),n(o),n(a),n(u)),Z=i,Q=o,J=a,$=u)):(Y=null,Z=null,Q=null,K=null,J=null,$=null)}function g(t){F.setMask(t)}function y(t){U.setTest(t)}function _(t){U.setMask(t)}function b(t){U.setFunc(t)}function w(t){B.setTest(t)}function x(t){B.setMask(t)}function E(t,e,n){B.setFunc(t,e,n)}function S(t,e,n){B.setOp(t,e,n)}function M(e){et!==e&&(e?t.frontFace(t.CW):t.frontFace(t.CCW),et=e)}function C(e){e!==Ki?(f(t.CULL_FACE),e!==nt&&(e===Ji?t.cullFace(t.BACK):e===$i?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):d(t.CULL_FACE),nt=e}function T(e){e!==rt&&(ct&&t.lineWidth(e),rt=e)}function A(e,n,r){e?(f(t.POLYGON_OFFSET_FILL),it===n&&ot===r||(t.polygonOffset(n,r),it=n,ot=r)):d(t.POLYGON_OFFSET_FILL)}function P(){return st}function R(e){st=e,e?f(t.SCISSOR_TEST):d(t.SCISSOR_TEST)}function O(e){void 0===e&&(e=t.TEXTURE0+at-1),lt!==e&&(t.activeTexture(e),lt=e)}function L(e,n){null===lt&&O();var r=pt[lt];void 0===r&&(r={type:void 0,texture:void 0},pt[lt]=r),r.type===e&&r.texture===n||(t.bindTexture(e,n||dt[e]),r.type=e,r.texture=n)}function I(){try{t.compressedTexImage2D.apply(t,arguments)}catch(t){console.error(t)}}function N(){try{t.texImage2D.apply(t,arguments)}catch(t){console.error(t)}}function D(e){ht.equals(e)===!1&&(t.scissor(e.x,e.y,e.z,e.w),ht.copy(e))}function k(e){ft.equals(e)===!1&&(t.viewport(e.x,e.y,e.z,e.w),ft.copy(e))}function j(){for(var e=0;e<z.length;e++)1===z[e]&&(t.disableVertexAttribArray(e),z[e]=0);W={},q=null,lt=null,pt={},X=null,et=null,nt=null,F.reset(),U.reset(),B.reset()}var F=new r,U=new i,B=new o,V=t.getParameter(t.MAX_VERTEX_ATTRIBS),H=new Uint8Array(V),z=new Uint8Array(V),G=new Uint8Array(V),W={},q=null,X=null,Y=null,Z=null,Q=null,K=null,J=null,$=null,tt=!1,et=null,nt=null,rt=null,it=null,ot=null,st=null,at=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),ut=parseFloat(/^WebGL\ ([0-9])/.exec(t.getParameter(t.VERSION))[1]),ct=parseFloat(ut)>=1,lt=null,pt={},ht=new s,ft=new s,dt={};return dt[t.TEXTURE_2D]=a(t.TEXTURE_2D,t.TEXTURE_2D,1),dt[t.TEXTURE_CUBE_MAP]=a(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),{buffers:{color:F,depth:U,stencil:B},init:u,initAttributes:c,enableAttribute:l,enableAttributeAndDivisor:p,disableUnusedAttributes:h,enable:f,disable:d,getCompressedTextureFormats:m,setBlending:v,setColorWrite:g,setDepthTest:y,setDepthWrite:_,setDepthFunc:b,setStencilTest:w,setStencilWrite:x,setStencilFunc:E,setStencilOp:S,setFlipSided:M,setCullFace:C,setLineWidth:T,setPolygonOffset:A,getScissorTest:P,setScissorTest:R,activeTexture:O,bindTexture:L,compressedTexImage2D:I,texImage2D:N,scissor:D,viewport:k,reset:j}}function ae(t,e,n){function r(){if(void 0!==o)return o;var n=e.get("EXT_texture_filter_anisotropic");return o=null!==n?t.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}function i(e){if("highp"===e){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";e="mediump"}return"mediump"===e&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}var o,s=void 0!==n.precision?n.precision:"highp",a=i(s);a!==s&&(console.warn("THREE.WebGLRenderer:",s,"not supported, using",a,"instead."),s=a);var u=n.logarithmicDepthBuffer===!0&&!!e.get("EXT_frag_depth"),c=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),l=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),p=t.getParameter(t.MAX_TEXTURE_SIZE),h=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),f=t.getParameter(t.MAX_VERTEX_ATTRIBS),d=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),m=t.getParameter(t.MAX_VARYING_VECTORS),v=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),g=l>0,y=!!e.get("OES_texture_float");return{getMaxAnisotropy:r,getMaxPrecision:i,precision:s,logarithmicDepthBuffer:u,maxTextures:c,maxVertexTextures:l,maxTextureSize:p,maxCubemapSize:h,maxAttributes:f,maxVertexUniforms:d,maxVaryings:m,maxFragmentUniforms:v,vertexTextures:g,floatFragmentTextures:y,floatVertexTextures:g&&y}}function ue(t){var e={};return{get:function(n){if(void 0!==e[n])return e[n];var r;switch(n){case"WEBGL_depth_texture":r=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;case"WEBGL_compressed_texture_etc1":r=t.getExtension("WEBGL_compressed_texture_etc1");break;default:r=t.getExtension(n)}return null===r&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),e[n]=r,r}}}function ce(){function t(){c.value!==r&&(c.value=r,c.needsUpdate=i>0),n.numPlanes=i,n.numIntersection=0}function e(t,e,r,i){var o=null!==t?t.length:0,s=null;if(0!==o){if(s=c.value,i!==!0||null===s){var l=r+4*o,p=e.matrixWorldInverse;u.getNormalMatrix(p),(null===s||s.length<l)&&(s=new Float32Array(l));for(var h=0,f=r;h!==o;++h,f+=4)a.copy(t[h]).applyMatrix4(p,u),a.normal.toArray(s,f),s[f+3]=a.constant}c.value=s,c.needsUpdate=!0}return n.numPlanes=o,s}var n=this,r=null,i=0,o=!1,s=!1,a=new it,u=new rt,c={value:null,needsUpdate:!1};this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(t,n,s){var a=0!==t.length||n||0!==i||o;return o=n,r=e(t,s,0),i=t.length,a},this.beginShadows=function(){s=!0,e(null)},this.endShadows=function(){s=!1,t()},this.setState=function(n,a,u,l,p,h){if(!o||null===n||0===n.length||s&&!u)s?e(null):t();else{var f=s?0:i,d=4*f,m=p.clippingState||null;c.value=m,m=e(n,l,d,h);for(var v=0;v!==d;++v)m[v]=r[v];p.clippingState=m,this.numIntersection=a?this.numPlanes:0,this.numPlanes+=f}}}function le(e){function n(){return null===ft?Tt:1}function r(){ne.init(),ne.scissor(_t.copy(At).multiplyScalar(Tt)),ne.viewport(wt.copy(It).multiplyScalar(Tt)),ne.buffers.color.setClear(Et.r,Et.g,Et.b,St,Z)}function i(){ht=null,yt=null,gt="",vt=-1,ne.reset()}function o(t){t.preventDefault(),i(),r(),le.clear()}function a(t){var e=t.target;e.removeEventListener("dispose",a),u(e)}function u(t){c(t),le.delete(t)}function c(t){var e=le.get(t).program;t.program=void 0,void 0!==e&&fe.releaseProgram(e)}function h(t,e,n,r){var i;if(n&&n.isInstancedBufferGeometry&&null===(i=$t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");void 0===r&&(r=0),ne.initAttributes();var o=n.attributes,s=e.getAttributes(),a=t.defaultAttributeValues;for(var u in s){var c=s[u];if(c>=0){var l=o[u];if(void 0!==l){var p=l.normalized,h=l.itemSize,f=he.getAttributeProperties(l),d=f.__webglBuffer,m=f.type,v=f.bytesPerElement;if(l.isInterleavedBufferAttribute){var g=l.data,y=g.stride,_=l.offset;g&&g.isInstancedInterleavedBuffer?(ne.enableAttributeAndDivisor(c,g.meshPerAttribute,i),void 0===n.maxInstancedCount&&(n.maxInstancedCount=g.meshPerAttribute*g.count)):ne.enableAttribute(c),Kt.bindBuffer(Kt.ARRAY_BUFFER,d),Kt.vertexAttribPointer(c,h,m,p,y*v,(r*y+_)*v)}else l.isInstancedBufferAttribute?(ne.enableAttributeAndDivisor(c,l.meshPerAttribute,i),void 0===n.maxInstancedCount&&(n.maxInstancedCount=l.meshPerAttribute*l.count)):ne.enableAttribute(c),Kt.bindBuffer(Kt.ARRAY_BUFFER,d),Kt.vertexAttribPointer(c,h,m,p,0,r*h*v)}else if(void 0!==a){var b=a[u];if(void 0!==b)switch(b.length){case 2:Kt.vertexAttrib2fv(c,b);break;case 3:Kt.vertexAttrib3fv(c,b);break;case 4:Kt.vertexAttrib4fv(c,b);break;default:Kt.vertexAttrib1fv(c,b)}}}}ne.disableUnusedAttributes()}function f(t,e){return Math.abs(e[0])-Math.abs(t[0])}function d(t,e){return t.object.renderOrder!==e.object.renderOrder?t.object.renderOrder-e.object.renderOrder:t.material.program&&e.material.program&&t.material.program!==e.material.program?t.material.program.id-e.material.program.id:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function m(t,e){return t.object.renderOrder!==e.object.renderOrder?t.object.renderOrder-e.object.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function v(t,e,n,r,i){var o,s;n.transparent?(o=it,s=++at):(o=et,s=++rt);var a=o[s];void 0!==a?(a.id=t.id,a.object=t,a.geometry=e,a.material=n,a.z=qt.z,a.group=i):(a={id:t.id,object:t,geometry:e,material:n,z:qt.z,group:i},o.push(a))}function g(t){var e=t.geometry;return null===e.boundingSphere&&e.computeBoundingSphere(),Gt.copy(e.boundingSphere).applyMatrix4(t.matrixWorld),_(Gt)}function y(t){return Gt.center.set(0,0,0),Gt.radius=.7071067811865476,Gt.applyMatrix4(t.matrixWorld),_(Gt)}function _(t){if(!Dt.intersectsSphere(t))return!1;var e=Vt.numPlanes;if(0===e)return!0;var n=pt.clippingPlanes,r=t.center,i=-t.radius,o=0;do{if(n[o].distanceToPoint(r)<i)return!1}while(++o!==e);return!0}function b(t,e){if(t.visible!==!1){if(0!=(t.layers.mask&e.layers.mask))if(t.isLight)tt.push(t);else if(t.isSprite)t.frustumCulled!==!1&&y(t)!==!0||ct.push(t);else if(t.isLensFlare)lt.push(t);else if(t.isImmediateRenderObject)pt.sortObjects===!0&&(qt.setFromMatrixPosition(t.matrixWorld),qt.applyMatrix4(Wt)),v(t,null,t.material,qt.z,null);else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton.update(),t.frustumCulled===!1||g(t)===!0)){var n=t.material;if(n.visible===!0){pt.sortObjects===!0&&(qt.setFromMatrixPosition(t.matrixWorld),qt.applyMatrix4(Wt));var r=he.update(t);if(n.isMultiMaterial)for(var i=r.groups,o=n.materials,s=0,a=i.length;s<a;s++){var u=i[s],c=o[u.materialIndex];c.visible===!0&&v(t,r,c,qt.z,u)}else v(t,r,n,qt.z,null)}}for(var l=t.children,s=0,a=l.length;s<a;s++)b(l[s],e)}}function w(t,e,n,r){for(var i=0,o=t.length;i<o;i++){var s=t[i],a=s.object,u=s.geometry,c=void 0===r?s.material:r,l=s.group;if(a.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,a.matrixWorld),a.normalMatrix.getNormalMatrix(a.modelViewMatrix),a.onBeforeRender(pt,e,n,u,c,l),a.isImmediateRenderObject){E(c);var p=S(n,e.fog,c,a);gt="",a.render(function(t){pt.renderBufferImmediate(t,p,c)})}else pt.renderBufferDirect(n,e.fog,u,c,a,l);a.onAfterRender(pt,e,n,u,c,l)}}function x(t,e,n){var r=le.get(t),i=fe.getParameters(t,Zt,e,Vt.numPlanes,Vt.numIntersection,n),o=fe.getProgramCode(t,i),s=r.program,u=!0;if(void 0===s)t.addEventListener("dispose",a);else if(s.code!==o)c(t);else{if(void 0!==i.shaderID)return;u=!1}if(u){if(i.shaderID){var l=Sc[i.shaderID];r.__webglShader={name:t.type,uniforms:ba.clone(l.uniforms),vertexShader:l.vertexShader,fragmentShader:l.fragmentShader}}else r.__webglShader={name:t.type,uniforms:t.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader};t.__webglShader=r.__webglShader,s=fe.acquireProgram(t,i,o),r.program=s,t.program=s}var p=s.getAttributes();if(t.morphTargets){t.numSupportedMorphTargets=0;for(var h=0;h<pt.maxMorphTargets;h++)p["morphTarget"+h]>=0&&t.numSupportedMorphTargets++}if(t.morphNormals){t.numSupportedMorphNormals=0;for(var h=0;h<pt.maxMorphNormals;h++)p["morphNormal"+h]>=0&&t.numSupportedMorphNormals++}var f=r.__webglShader.uniforms;(t.isShaderMaterial||t.isRawShaderMaterial)&&t.clipping!==!0||(r.numClippingPlanes=Vt.numPlanes,r.numIntersection=Vt.numIntersection,f.clippingPlanes=Vt.uniform),r.fog=e,r.lightsHash=Zt.hash,t.lights&&(f.ambientLightColor.value=Zt.ambient,f.directionalLights.value=Zt.directional,f.spotLights.value=Zt.spot,f.rectAreaLights.value=Zt.rectArea,f.pointLights.value=Zt.point,f.hemisphereLights.value=Zt.hemi,f.directionalShadowMap.value=Zt.directionalShadowMap,f.directionalShadowMatrix.value=Zt.directionalShadowMatrix,f.spotShadowMap.value=Zt.spotShadowMap,f.spotShadowMatrix.value=Zt.spotShadowMatrix,f.pointShadowMap.value=Zt.pointShadowMap,f.pointShadowMatrix.value=Zt.pointShadowMatrix);var d=r.program.getUniforms(),m=q.seqWithValue(d.seq,f);r.uniformsList=m}function E(t){t.side===uo?ne.disable(Kt.CULL_FACE):ne.enable(Kt.CULL_FACE),ne.setFlipSided(t.side===ao),t.transparent===!0?ne.setBlending(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha):ne.setBlending(mo),ne.setDepthFunc(t.depthFunc),ne.setDepthTest(t.depthTest),ne.setDepthWrite(t.depthWrite),ne.setColorWrite(t.colorWrite),ne.setPolygonOffset(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits)}function S(e,n,r,i){xt=0;var o=le.get(r);if(Ht&&(zt||e!==yt)){var s=e===yt&&r.id===vt;Vt.setState(r.clippingPlanes,r.clipIntersection,r.clipShadows,e,o,s)}r.needsUpdate===!1&&(void 0===o.program?r.needsUpdate=!0:r.fog&&o.fog!==n?r.needsUpdate=!0:r.lights&&o.lightsHash!==Zt.hash?r.needsUpdate=!0:void 0===o.numClippingPlanes||o.numClippingPlanes===Vt.numPlanes&&o.numIntersection===Vt.numIntersection||(r.needsUpdate=!0)),r.needsUpdate&&(x(r,n,i),r.needsUpdate=!1);var a=!1,u=!1,c=!1,l=o.program,p=l.getUniforms(),h=o.__webglShader.uniforms;if(l.id!==ht&&(Kt.useProgram(l.program),ht=l.id,a=!0,u=!0,c=!0),r.id!==vt&&(vt=r.id,u=!0),a||e!==yt){if(p.set(Kt,e,"projectionMatrix"),te.logarithmicDepthBuffer&&p.setValue(Kt,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),e!==yt&&(yt=e,u=!0,c=!0),r.isShaderMaterial||r.isMeshPhongMaterial||r.isMeshStandardMaterial||r.envMap){var f=p.map.cameraPosition;void 0!==f&&f.setValue(Kt,qt.setFromMatrixPosition(e.matrixWorld))}(r.isMeshPhongMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial||r.skinning)&&p.setValue(Kt,"viewMatrix",e.matrixWorldInverse),p.set(Kt,pt,"toneMappingExposure"),p.set(Kt,pt,"toneMappingWhitePoint")}if(r.skinning){p.setOptional(Kt,i,"bindMatrix"),p.setOptional(Kt,i,"bindMatrixInverse");var d=i.skeleton;d&&(te.floatVertexTextures&&d.useVertexTexture?(p.set(Kt,d,"boneTexture"),p.set(Kt,d,"boneTextureWidth"),p.set(Kt,d,"boneTextureHeight")):p.setOptional(Kt,d,"boneMatrices"))}return u&&(r.lights&&k(h,c),n&&r.fog&&P(h,n),(r.isMeshBasicMaterial||r.isMeshLambertMaterial||r.isMeshPhongMaterial||r.isMeshStandardMaterial||r.isMeshNormalMaterial||r.isMeshDepthMaterial)&&M(h,r),r.isLineBasicMaterial?C(h,r):r.isLineDashedMaterial?(C(h,r),T(h,r)):r.isPointsMaterial?A(h,r):r.isMeshLambertMaterial?R(h,r):r.isMeshToonMaterial?L(h,r):r.isMeshPhongMaterial?O(h,r):r.isMeshPhysicalMaterial?N(h,r):r.isMeshStandardMaterial?I(h,r):r.isMeshDepthMaterial?r.displacementMap&&(h.displacementMap.value=r.displacementMap,h.displacementScale.value=r.displacementScale,h.displacementBias.value=r.displacementBias):r.isMeshNormalMaterial&&D(h,r),void 0!==h.ltcMat&&(h.ltcMat.value=t.UniformsLib.LTC_MAT_TEXTURE),void 0!==h.ltcMag&&(h.ltcMag.value=t.UniformsLib.LTC_MAG_TEXTURE),q.upload(Kt,o.uniformsList,h,pt)),p.set(Kt,i,"modelViewMatrix"),p.set(Kt,i,"normalMatrix"),p.setValue(Kt,"modelMatrix",i.matrixWorld),l}function M(t,e){t.opacity.value=e.opacity,t.diffuse.value=e.color,e.emissive&&t.emissive.value.copy(e.emissive).multiplyScalar(e.emissiveIntensity),t.map.value=e.map,t.specularMap.value=e.specularMap,t.alphaMap.value=e.alphaMap,e.lightMap&&(t.lightMap.value=e.lightMap,t.lightMapIntensity.value=e.lightMapIntensity),e.aoMap&&(t.aoMap.value=e.aoMap,t.aoMapIntensity.value=e.aoMapIntensity);var n;if(e.map?n=e.map:e.specularMap?n=e.specularMap:e.displacementMap?n=e.displacementMap:e.normalMap?n=e.normalMap:e.bumpMap?n=e.bumpMap:e.roughnessMap?n=e.roughnessMap:e.metalnessMap?n=e.metalnessMap:e.alphaMap?n=e.alphaMap:e.emissiveMap&&(n=e.emissiveMap),void 0!==n){n.isWebGLRenderTarget&&(n=n.texture);var r=n.offset,i=n.repeat;t.offsetRepeat.value.set(r.x,r.y,i.x,i.y)}t.envMap.value=e.envMap,t.flipEnvMap.value=e.envMap&&e.envMap.isCubeTexture?-1:1,t.reflectivity.value=e.reflectivity,t.refractionRatio.value=e.refractionRatio}function C(t,e){t.diffuse.value=e.color,t.opacity.value=e.opacity}function T(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}function A(t,e){if(t.diffuse.value=e.color,t.opacity.value=e.opacity,t.size.value=e.size*Tt,t.scale.value=.5*Ct,t.map.value=e.map,null!==e.map){var n=e.map.offset,r=e.map.repeat;t.offsetRepeat.value.set(n.x,n.y,r.x,r.y)}}function P(t,e){t.fogColor.value=e.color,e.isFog?(t.fogNear.value=e.near,t.fogFar.value=e.far):e.isFogExp2&&(t.fogDensity.value=e.density)}function R(t,e){e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap)}function O(t,e){t.specular.value=e.specular,t.shininess.value=Math.max(e.shininess,1e-4),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale)),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}function L(t,e){O(t,e),e.gradientMap&&(t.gradientMap.value=e.gradientMap)}function I(t,e){t.roughness.value=e.roughness,t.metalness.value=e.metalness,e.roughnessMap&&(t.roughnessMap.value=e.roughnessMap),e.metalnessMap&&(t.metalnessMap.value=e.metalnessMap),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale)),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),e.envMap&&(t.envMapIntensity.value=e.envMapIntensity)}function N(t,e){t.clearCoat.value=e.clearCoat,t.clearCoatRoughness.value=e.clearCoatRoughness,I(t,e)}function D(t,e){e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale)),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}function k(t,e){t.ambientLightColor.needsUpdate=e,t.directionalLights.needsUpdate=e,t.pointLights.needsUpdate=e,t.spotLights.needsUpdate=e,t.rectAreaLights.needsUpdate=e,t.hemisphereLights.needsUpdate=e}function j(t){for(var e=0,n=0,r=t.length;n<r;n++){var i=t[n];i.castShadow&&(Zt.shadows[e++]=i)}Zt.shadows.length=e}function F(t,e){var n,r,i,o,s,a,u,c=0,l=0,h=0,f=e.matrixWorldInverse,d=0,m=0,v=0,g=0,y=0;for(n=0,r=t.length;n<r;n++)if(i=t[n],o=i.color,s=i.intensity,a=i.distance,u=i.shadow&&i.shadow.map?i.shadow.map.texture:null,i.isAmbientLight)c+=o.r*s,l+=o.g*s,h+=o.b*s;else if(i.isDirectionalLight){var _=de.get(i);_.color.copy(i.color).multiplyScalar(i.intensity),_.direction.setFromMatrixPosition(i.matrixWorld),qt.setFromMatrixPosition(i.target.matrixWorld),_.direction.sub(qt),_.direction.transformDirection(f),_.shadow=i.castShadow,i.castShadow&&(_.shadowBias=i.shadow.bias,_.shadowRadius=i.shadow.radius,_.shadowMapSize=i.shadow.mapSize),Zt.directionalShadowMap[d]=u,Zt.directionalShadowMatrix[d]=i.shadow.matrix,Zt.directional[d++]=_}else if(i.isSpotLight){var _=de.get(i);_.position.setFromMatrixPosition(i.matrixWorld),_.position.applyMatrix4(f),_.color.copy(o).multiplyScalar(s),_.distance=a,_.direction.setFromMatrixPosition(i.matrixWorld),qt.setFromMatrixPosition(i.target.matrixWorld),_.direction.sub(qt),_.direction.transformDirection(f),_.coneCos=Math.cos(i.angle),_.penumbraCos=Math.cos(i.angle*(1-i.penumbra)),_.decay=0===i.distance?0:i.decay,_.shadow=i.castShadow,i.castShadow&&(_.shadowBias=i.shadow.bias,_.shadowRadius=i.shadow.radius,_.shadowMapSize=i.shadow.mapSize),Zt.spotShadowMap[v]=u,Zt.spotShadowMatrix[v]=i.shadow.matrix,Zt.spot[v++]=_}else if(i.isRectAreaLight){var _=de.get(i);_.color.copy(o).multiplyScalar(s/(i.width*i.height)),_.position.setFromMatrixPosition(i.matrixWorld),_.position.applyMatrix4(f),Yt.identity(),Xt.copy(i.matrixWorld),Xt.premultiply(f),Yt.extractRotation(Xt),_.halfWidth.set(.5*i.width,0,0),_.halfHeight.set(0,.5*i.height,0),_.halfWidth.applyMatrix4(Yt),_.halfHeight.applyMatrix4(Yt),Zt.rectArea[g++]=_}else if(i.isPointLight){var _=de.get(i);_.position.setFromMatrixPosition(i.matrixWorld),_.position.applyMatrix4(f),_.color.copy(i.color).multiplyScalar(i.intensity),_.distance=i.distance,_.decay=0===i.distance?0:i.decay,_.shadow=i.castShadow,i.castShadow&&(_.shadowBias=i.shadow.bias,_.shadowRadius=i.shadow.radius,_.shadowMapSize=i.shadow.mapSize),Zt.pointShadowMap[m]=u,void 0===Zt.pointShadowMatrix[m]&&(Zt.pointShadowMatrix[m]=new p),qt.setFromMatrixPosition(i.matrixWorld).negate(),Zt.pointShadowMatrix[m].identity().setPosition(qt),Zt.point[m++]=_}else if(i.isHemisphereLight){var _=de.get(i);_.direction.setFromMatrixPosition(i.matrixWorld),_.direction.transformDirection(f),_.direction.normalize(),_.skyColor.copy(i.color).multiplyScalar(s),_.groundColor.copy(i.groundColor).multiplyScalar(s),Zt.hemi[y++]=_}Zt.ambient[0]=c,Zt.ambient[1]=l,Zt.ambient[2]=h,Zt.directional.length=d,Zt.spot.length=v,Zt.rectArea.length=g,Zt.point.length=m,Zt.hemi.length=y,Zt.hash=d+","+m+","+v+","+g+","+y+","+Zt.shadows.length}function U(){var t=xt;return t>=te.maxTextures&&console.warn("WebGLRenderer: trying to use "+t+" texture units while this GPU supports only "+te.maxTextures),xt+=1,t}function B(t){var e;if(t===as)return Kt.REPEAT;if(t===us)return Kt.CLAMP_TO_EDGE;if(t===cs)return Kt.MIRRORED_REPEAT;if(t===ls)return Kt.NEAREST;if(t===ps)return Kt.NEAREST_MIPMAP_NEAREST;if(t===hs)return Kt.NEAREST_MIPMAP_LINEAR;if(t===fs)return Kt.LINEAR;if(t===ds)return Kt.LINEAR_MIPMAP_NEAREST;if(t===ms)return Kt.LINEAR_MIPMAP_LINEAR;if(t===vs)return Kt.UNSIGNED_BYTE;if(t===Ss)return Kt.UNSIGNED_SHORT_4_4_4_4;if(t===Ms)return Kt.UNSIGNED_SHORT_5_5_5_1;if(t===Cs)return Kt.UNSIGNED_SHORT_5_6_5;if(t===gs)return Kt.BYTE;if(t===ys)return Kt.SHORT;if(t===_s)return Kt.UNSIGNED_SHORT;if(t===bs)return Kt.INT;if(t===ws)return Kt.UNSIGNED_INT;if(t===xs)return Kt.FLOAT;if(t===Es&&null!==(e=$t.get("OES_texture_half_float")))return e.HALF_FLOAT_OES;if(t===As)return Kt.ALPHA;if(t===Ps)return Kt.RGB;if(t===Rs)return Kt.RGBA;if(t===Os)return Kt.LUMINANCE;if(t===Ls)return Kt.LUMINANCE_ALPHA;if(t===Ns)return Kt.DEPTH_COMPONENT;if(t===Ds)return Kt.DEPTH_STENCIL;if(t===wo)return Kt.FUNC_ADD;if(t===xo)return Kt.FUNC_SUBTRACT;if(t===Eo)return Kt.FUNC_REVERSE_SUBTRACT;if(t===Co)return Kt.ZERO;if(t===To)return Kt.ONE;if(t===Ao)return Kt.SRC_COLOR;if(t===Po)return Kt.ONE_MINUS_SRC_COLOR;if(t===Ro)return Kt.SRC_ALPHA;if(t===Oo)return Kt.ONE_MINUS_SRC_ALPHA;if(t===Lo)return Kt.DST_ALPHA;if(t===Io)return Kt.ONE_MINUS_DST_ALPHA;if(t===No)return Kt.DST_COLOR;if(t===Do)return Kt.ONE_MINUS_DST_COLOR;if(t===ko)return Kt.SRC_ALPHA_SATURATE;if((t===ks||t===js||t===Fs||t===Us)&&null!==(e=$t.get("WEBGL_compressed_texture_s3tc"))){if(t===ks)return e.COMPRESSED_RGB_S3TC_DXT1_EXT;if(t===js)return e.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(t===Fs)return e.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(t===Us)return e.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((t===Bs||t===Vs||t===Hs||t===zs)&&null!==(e=$t.get("WEBGL_compressed_texture_pvrtc"))){if(t===Bs)return e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(t===Vs)return e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(t===Hs)return e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(t===zs)return e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(t===Gs&&null!==(e=$t.get("WEBGL_compressed_texture_etc1")))return e.COMPRESSED_RGB_ETC1_WEBGL;if((t===So||t===Mo)&&null!==(e=$t.get("EXT_blend_minmax"))){if(t===So)return e.MIN_EXT;if(t===Mo)return e.MAX_EXT}return t===Ts&&null!==(e=$t.get("WEBGL_depth_texture"))?e.UNSIGNED_INT_24_8_WEBGL:0}console.log("THREE.WebGLRenderer",Zi),e=e||{};var V=void 0!==e.canvas?e.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),H=void 0!==e.context?e.context:null,z=void 0!==e.alpha&&e.alpha,G=void 0===e.depth||e.depth,W=void 0===e.stencil||e.stencil,Y=void 0!==e.antialias&&e.antialias,Z=void 0===e.premultipliedAlpha||e.premultipliedAlpha,J=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,tt=[],et=[],rt=-1,it=[],at=-1,ut=new Float32Array(8),ct=[],lt=[];this.domElement=V,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=Zo,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var pt=this,ht=null,ft=null,mt=null,vt=-1,gt="",yt=null,_t=new s,bt=null,wt=new s,xt=0,Et=new X(0),St=0,Mt=V.width,Ct=V.height,Tt=1,At=new s(0,0,Mt,Ct),Ot=!1,It=new s(0,0,Mt,Ct),Dt=new ot,Vt=new ce,Ht=!1,zt=!1,Gt=new nt,Wt=new p,qt=new l,Xt=new p,Yt=new p,Zt={hash:"",ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],shadows:[]},Qt={calls:0,vertices:0,faces:0,points:0};this.info={render:Qt,memory:{geometries:0,textures:0},programs:null};var Kt;try{var Jt={alpha:z,depth:G,stencil:W,antialias:Y,premultipliedAlpha:Z,preserveDrawingBuffer:J};if(null===(Kt=H||V.getContext("webgl",Jt)||V.getContext("experimental-webgl",Jt)))throw null!==V.getContext("webgl")?"Error creating WebGL context with your selected attributes.":"Error creating WebGL context.";void 0===Kt.getShaderPrecisionFormat&&(Kt.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}}),V.addEventListener("webglcontextlost",o,!1)}catch(t){console.error("THREE.WebGLRenderer: "+t)}var $t=new ue(Kt);$t.get("WEBGL_depth_texture"),$t.get("OES_texture_float"),$t.get("OES_texture_float_linear"),$t.get("OES_texture_half_float"),$t.get("OES_texture_half_float_linear"),$t.get("OES_standard_derivatives"),$t.get("ANGLE_instanced_arrays"),$t.get("OES_element_index_uint")&&(Pt.MaxIndex=4294967296);var te=new ae(Kt,$t,e),ne=new se(Kt,$t,B),le=new oe,pe=new ie(Kt,$t,ne,le,te,B,this.info),he=new re(Kt,le,this.info),fe=new ee(this,te),de=new Bt;this.info.programs=fe.programs;var me,ve,ge,ye,_e=new Ut(Kt,$t,Qt),be=new Ft(Kt,$t,Qt);r(),this.context=Kt,this.capabilities=te,this.extensions=$t,this.properties=le,this.state=ne;var we=new st(this,Zt,he,te);this.shadowMap=we;var xe=new K(this,ct),Ee=new Q(this,lt);this.getContext=function(){return Kt},this.getContextAttributes=function(){return Kt.getContextAttributes()},this.forceContextLoss=function(){$t.get("WEBGL_lose_context").loseContext()},this.getMaxAnisotropy=function(){return te.getMaxAnisotropy()},this.getPrecision=function(){return te.precision},this.getPixelRatio=function(){return Tt},this.setPixelRatio=function(t){void 0!==t&&(Tt=t,this.setSize(It.z,It.w,!1))},this.getSize=function(){return{width:Mt,height:Ct}},this.setSize=function(t,e,n){Mt=t,Ct=e,V.width=t*Tt,V.height=e*Tt,n!==!1&&(V.style.width=t+"px",V.style.height=e+"px"),this.setViewport(0,0,t,e)},this.setViewport=function(t,e,n,r){ne.viewport(It.set(t,e,n,r))},this.setScissor=function(t,e,n,r){ne.scissor(At.set(t,e,n,r))},this.setScissorTest=function(t){ne.setScissorTest(Ot=t)},this.getClearColor=function(){return Et},this.setClearColor=function(t,e){Et.set(t),St=void 0!==e?e:1,ne.buffers.color.setClear(Et.r,Et.g,Et.b,St,Z)},this.getClearAlpha=function(){return St},this.setClearAlpha=function(t){St=t,ne.buffers.color.setClear(Et.r,Et.g,Et.b,St,Z)},this.clear=function(t,e,n){var r=0;(void 0===t||t)&&(r|=Kt.COLOR_BUFFER_BIT),(void 0===e||e)&&(r|=Kt.DEPTH_BUFFER_BIT),(void 0===n||n)&&(r|=Kt.STENCIL_BUFFER_BIT),Kt.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.clearTarget=function(t,e,n,r){this.setRenderTarget(t),this.clear(e,n,r)},this.resetGLState=i,this.dispose=function(){it=[],at=-1,et=[],rt=-1,V.removeEventListener("webglcontextlost",o,!1)},this.renderBufferImmediate=function(t,e,n){ne.initAttributes();var r=le.get(t);t.hasPositions&&!r.position&&(r.position=Kt.createBuffer()),t.hasNormals&&!r.normal&&(r.normal=Kt.createBuffer()),t.hasUvs&&!r.uv&&(r.uv=Kt.createBuffer()),t.hasColors&&!r.color&&(r.color=Kt.createBuffer());var i=e.getAttributes();if(t.hasPositions&&(Kt.bindBuffer(Kt.ARRAY_BUFFER,r.position),Kt.bufferData(Kt.ARRAY_BUFFER,t.positionArray,Kt.DYNAMIC_DRAW),ne.enableAttribute(i.position),Kt.vertexAttribPointer(i.position,3,Kt.FLOAT,!1,0,0)),t.hasNormals){if(Kt.bindBuffer(Kt.ARRAY_BUFFER,r.normal),!n.isMeshPhongMaterial&&!n.isMeshStandardMaterial&&!n.isMeshNormalMaterial&&n.shading===co)for(var o=0,s=3*t.count;o<s;o+=9){var a=t.normalArray,u=(a[o+0]+a[o+3]+a[o+6])/3,c=(a[o+1]+a[o+4]+a[o+7])/3,l=(a[o+2]+a[o+5]+a[o+8])/3;a[o+0]=u,a[o+1]=c,a[o+2]=l,a[o+3]=u,a[o+4]=c,a[o+5]=l,a[o+6]=u,a[o+7]=c,a[o+8]=l}Kt.bufferData(Kt.ARRAY_BUFFER,t.normalArray,Kt.DYNAMIC_DRAW),ne.enableAttribute(i.normal),Kt.vertexAttribPointer(i.normal,3,Kt.FLOAT,!1,0,0)}t.hasUvs&&n.map&&(Kt.bindBuffer(Kt.ARRAY_BUFFER,r.uv),Kt.bufferData(Kt.ARRAY_BUFFER,t.uvArray,Kt.DYNAMIC_DRAW),ne.enableAttribute(i.uv),Kt.vertexAttribPointer(i.uv,2,Kt.FLOAT,!1,0,0)),t.hasColors&&n.vertexColors!==po&&(Kt.bindBuffer(Kt.ARRAY_BUFFER,r.color),Kt.bufferData(Kt.ARRAY_BUFFER,t.colorArray,Kt.DYNAMIC_DRAW),ne.enableAttribute(i.color),Kt.vertexAttribPointer(i.color,3,Kt.FLOAT,!1,0,0)),ne.disableUnusedAttributes(),Kt.drawArrays(Kt.TRIANGLES,0,t.count),t.count=0},this.renderBufferDirect=function(t,e,r,i,o,s){E(i);var a=S(t,e,i,o),u=!1,c=r.id+"_"+a.id+"_"+i.wireframe;c!==gt&&(gt=c,u=!0);var l=o.morphTargetInfluences;if(void 0!==l){for(var p=[],d=0,m=l.length;d<m;d++){var v=l[d];p.push([v,d])}p.sort(f),p.length>8&&(p.length=8);for(var g=r.morphAttributes,d=0,m=p.length;d<m;d++){var v=p[d];if(ut[d]=v[0],0!==v[0]){var y=v[1];i.morphTargets===!0&&g.position&&r.addAttribute("morphTarget"+d,g.position[y]),i.morphNormals===!0&&g.normal&&r.addAttribute("morphNormal"+d,g.normal[y])}else i.morphTargets===!0&&r.removeAttribute("morphTarget"+d),i.morphNormals===!0&&r.removeAttribute("morphNormal"+d)}for(var d=p.length,_=ut.length;d<_;d++)ut[d]=0;a.getUniforms().setValue(Kt,"morphTargetInfluences",ut),u=!0}var y=r.index,b=r.attributes.position,w=1;i.wireframe===!0&&(y=he.getWireframeAttribute(r),w=2);var x;null!==y?(x=be,x.setIndex(y)):x=_e,u&&(h(i,a,r),null!==y&&Kt.bindBuffer(Kt.ELEMENT_ARRAY_BUFFER,he.getAttributeBuffer(y)));var M=0;null!==y?M=y.count:void 0!==b&&(M=b.count);var C=r.drawRange.start*w,T=r.drawRange.count*w,A=null!==s?s.start*w:0,P=null!==s?s.count*w:1/0,R=Math.max(C,A),O=Math.min(M,C+T,A+P)-1,L=Math.max(0,O-R+1);if(0!==L){if(o.isMesh)if(i.wireframe===!0)ne.setLineWidth(i.wireframeLinewidth*n()),x.setMode(Kt.LINES);else switch(o.drawMode){case ta:x.setMode(Kt.TRIANGLES);break;case ea:x.setMode(Kt.TRIANGLE_STRIP);break;case na:x.setMode(Kt.TRIANGLE_FAN)}else if(o.isLine){var I=i.linewidth;void 0===I&&(I=1),ne.setLineWidth(I*n()),o.isLineSegments?x.setMode(Kt.LINES):x.setMode(Kt.LINE_STRIP)}else o.isPoints&&x.setMode(Kt.POINTS);r&&r.isInstancedBufferGeometry?r.maxInstancedCount>0&&x.renderInstances(r,R,L):x.render(R,L)}},this.render=function(t,e,n,r){if(void 0!==e&&e.isCamera!==!0)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");gt="",vt=-1,yt=null,t.autoUpdate===!0&&t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),e.matrixWorldInverse.getInverse(e.matrixWorld),Wt.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),Dt.setFromMatrix(Wt),tt.length=0,rt=-1,at=-1,ct.length=0,lt.length=0,zt=this.localClippingEnabled,Ht=Vt.init(this.clippingPlanes,zt,e),b(t,e),et.length=rt+1,it.length=at+1,pt.sortObjects===!0&&(et.sort(d),it.sort(m)),Ht&&Vt.beginShadows(),j(tt),we.render(t,e),F(tt,e),Ht&&Vt.endShadows(),Qt.calls=0,Qt.vertices=0,Qt.faces=0,Qt.points=0,void 0===n&&(n=null),this.setRenderTarget(n);var i=t.background;if(null===i?ne.buffers.color.setClear(Et.r,Et.g,Et.b,St,Z):i&&i.isColor&&(ne.buffers.color.setClear(i.r,i.g,i.b,1,Z),r=!0),(this.autoClear||r)&&this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil),i&&i.isCubeTexture?(void 0===ge&&(ge=new kt,ye=new Rt(new Lt(5,5,5),new $({uniforms:Sc.cube.uniforms,vertexShader:Sc.cube.vertexShader,fragmentShader:Sc.cube.fragmentShader,side:ao,depthTest:!1,depthWrite:!1,fog:!1}))),ge.projectionMatrix.copy(e.projectionMatrix),ge.matrixWorld.extractRotation(e.matrixWorld),ge.matrixWorldInverse.getInverse(ge.matrixWorld),ye.material.uniforms.tCube.value=i,ye.modelViewMatrix.multiplyMatrices(ge.matrixWorldInverse,ye.matrixWorld),he.update(ye),pt.renderBufferDirect(ge,null,ye.geometry,ye.material,ye,null)):i&&i.isTexture&&(void 0===me&&(me=new jt(-1,1,1,-1,0,1),ve=new Rt(new Nt(2,2),new dt({depthTest:!1,depthWrite:!1,fog:!1}))),ve.material.map=i,he.update(ve),pt.renderBufferDirect(me,null,ve.geometry,ve.material,ve,null)),t.overrideMaterial){var o=t.overrideMaterial;w(et,t,e,o),w(it,t,e,o)}else ne.setBlending(mo),w(et,t,e),w(it,t,e);xe.render(t,e),Ee.render(t,e,wt),n&&pe.updateRenderTargetMipmap(n),ne.setDepthTest(!0),ne.setDepthWrite(!0),ne.setColorWrite(!0)},this.setFaceCulling=function(t,e){ne.setCullFace(t),ne.setFlipSided(e===eo)},this.allocTextureUnit=U,this.setTexture2D=function(){var t=!1;return function(e,n){e&&e.isWebGLRenderTarget&&(t||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),t=!0),e=e.texture),pe.setTexture2D(e,n)}}(),this.setTexture=function(){var t=!1;return function(e,n){t||(console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),t=!0),pe.setTexture2D(e,n)}}(),this.setTextureCube=function(){var t=!1;return function(e,n){e&&e.isWebGLRenderTargetCube&&(t||(console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."),t=!0),e=e.texture),e&&e.isCubeTexture||Array.isArray(e.image)&&6===e.image.length?pe.setTextureCube(e,n):pe.setTextureCubeDynamic(e,n)}}(),this.getCurrentRenderTarget=function(){return ft},this.setRenderTarget=function(t){ft=t,t&&void 0===le.get(t).__webglFramebuffer&&pe.setupRenderTarget(t);var e,n=t&&t.isWebGLRenderTargetCube;if(t){var r=le.get(t);e=n?r.__webglFramebuffer[t.activeCubeFace]:r.__webglFramebuffer,_t.copy(t.scissor),bt=t.scissorTest,wt.copy(t.viewport)}else e=null,_t.copy(At).multiplyScalar(Tt),bt=Ot,wt.copy(It).multiplyScalar(Tt);if(mt!==e&&(Kt.bindFramebuffer(Kt.FRAMEBUFFER,e),mt=e),ne.scissor(_t),ne.setScissorTest(bt),ne.viewport(wt),n){var i=le.get(t.texture);Kt.framebufferTexture2D(Kt.FRAMEBUFFER,Kt.COLOR_ATTACHMENT0,Kt.TEXTURE_CUBE_MAP_POSITIVE_X+t.activeCubeFace,i.__webglTexture,t.activeMipMapLevel)}},this.readRenderTargetPixels=function(t,e,n,r,i,o){if((t&&t.isWebGLRenderTarget)===!1)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");var s=le.get(t).__webglFramebuffer;if(s){var a=!1;s!==mt&&(Kt.bindFramebuffer(Kt.FRAMEBUFFER,s),a=!0);try{var u=t.texture,c=u.format,l=u.type;if(c!==Rs&&B(c)!==Kt.getParameter(Kt.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(l===vs||B(l)===Kt.getParameter(Kt.IMPLEMENTATION_COLOR_READ_TYPE)||l===xs&&($t.get("OES_texture_float")||$t.get("WEBGL_color_buffer_float"))||l===Es&&$t.get("EXT_color_buffer_half_float")))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");Kt.checkFramebufferStatus(Kt.FRAMEBUFFER)===Kt.FRAMEBUFFER_COMPLETE?e>=0&&e<=t.width-r&&n>=0&&n<=t.height-i&&Kt.readPixels(e,n,r,i,B(c),B(l),o):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{a&&Kt.bindFramebuffer(Kt.FRAMEBUFFER,mt)}}}}function pe(t,e){this.name="",this.color=new X(t),this.density=void 0!==e?e:25e-5}function he(t,e,n){this.name="",this.color=new X(t),this.near=void 0!==e?e:1,this.far=void 0!==n?n:1e3}function fe(){lt.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0}function de(t,e,n,r,i){lt.call(this),this.lensFlares=[],this.positionScreen=new l,this.customUpdateCallback=void 0,void 0!==t&&this.add(t,e,n,r,i)}function me(t){J.call(this),this.type="SpriteMaterial",this.color=new X(16777215),this.map=null,this.rotation=0,this.fog=!1,this.lights=!1,this.setValues(t)}function ve(t){lt.call(this),this.type="Sprite",this.material=void 0!==t?t:new me}function ge(){lt.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})}function ye(t,e,n){if(this.useVertexTexture=void 0===n||n,this.identityMatrix=new p,t=t||[],this.bones=t.slice(0),this.useVertexTexture){var r=Math.sqrt(4*this.bones.length);r=fa.nextPowerOfTwo(Math.ceil(r)),r=Math.max(r,4),this.boneTextureWidth=r,this.boneTextureHeight=r,this.boneMatrices=new Float32Array(this.boneTextureWidth*this.boneTextureHeight*4),this.boneTexture=new Y(this.boneMatrices,this.boneTextureWidth,this.boneTextureHeight,Rs,xs)}else this.boneMatrices=new Float32Array(16*this.bones.length);if(void 0===e)this.calculateInverses();else if(this.bones.length===e.length)this.boneInverses=e.slice(0);else{console.warn("THREE.Skeleton bonInverses is the wrong length."),this.boneInverses=[];for(var i=0,o=this.bones.length;i<o;i++)this.boneInverses.push(new p)}}function _e(){lt.call(this),this.type="Bone"}function be(t,e,n){Rt.call(this,t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new p,this.bindMatrixInverse=new p;var r=[];if(this.geometry&&void 0!==this.geometry.bones){for(var i,o,s=0,a=this.geometry.bones.length;s<a;++s)o=this.geometry.bones[s],i=new _e,r.push(i),i.name=o.name,i.position.fromArray(o.pos),i.quaternion.fromArray(o.rotq),void 0!==o.scl&&i.scale.fromArray(o.scl);for(var s=0,a=this.geometry.bones.length;s<a;++s)o=this.geometry.bones[s],o.parent!==-1&&null!==o.parent&&void 0!==r[o.parent]?r[o.parent].add(r[s]):this.add(r[s])}this.normalizeSkinWeights(),this.updateMatrixWorld(!0),this.bind(new ye(r,void 0,n),this.matrixWorld)}function we(t){J.call(this),this.type="LineBasicMaterial",this.color=new X(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.lights=!1,this.setValues(t)}function xe(t,e,n){if(1===n)return console.warn("THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead."),new Ee(t,e);lt.call(this),this.type="Line",this.geometry=void 0!==t?t:new Pt,this.material=void 0!==e?e:new we({color:16777215*Math.random()})}function Ee(t,e){xe.call(this,t,e),this.type="LineSegments"}function Se(t){J.call(this),this.type="PointsMaterial",this.color=new X(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.lights=!1,this.setValues(t)}function Me(t,e){lt.call(this),this.type="Points",this.geometry=void 0!==t?t:new Pt,this.material=void 0!==e?e:new Se({color:16777215*Math.random()})}function Ce(){lt.call(this),this.type="Group"}function Te(t,e,n,r,i,s,a,u,c){function l(){requestAnimationFrame(l),t.readyState>=t.HAVE_CURRENT_DATA&&(p.needsUpdate=!0)}o.call(this,t,e,n,r,i,s,a,u,c),this.generateMipmaps=!1;var p=this;l()}function Ae(t,e,n,r,i,s,a,u,c,l,p,h){o.call(this,null,s,a,u,c,l,r,i,p,h),this.image={width:e,height:n},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}function Pe(t,e,n,r,i,s,a,u,c){o.call(this,t,e,n,r,i,s,a,u,c),this.needsUpdate=!0}function Re(t,e,n,r,i,s,a,u,c,l){if((l=void 0!==l?l:Ns)!==Ns&&l!==Ds)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&l===Ns&&(n=_s),void 0===n&&l===Ds&&(n=Ts),o.call(this,null,r,i,s,a,u,l,n,c),this.image={width:t,height:e},this.magFilter=void 0!==a?a:ls,this.minFilter=void 0!==u?u:ls,this.flipY=!1,this.generateMipmaps=!1}function Oe(t){function e(t,e){return t-e}Pt.call(this),this.type="WireframeGeometry";var n,r,i,o,s,a,u,c,p=[],h=[0,0],f={},d=["a","b","c"];if(t&&t.isGeometry){var m=t.faces;for(n=0,i=m.length;n<i;n++){var v=m[n];for(r=0;r<3;r++)h[0]=v[d[r]],h[1]=v[d[(r+1)%3]],h.sort(e),u=h.toString(),void 0===f[u]&&(f[u]={index1:h[0],index2:h[1]})}for(u in f)a=f[u],c=t.vertices[a.index1],p.push(c.x,c.y,c.z),c=t.vertices[a.index2],p.push(c.x,c.y,c.z)}else if(t&&t.isBufferGeometry){var g,y,_,b,w,x,E,S;if(c=new l,null!==t.index){for(g=t.attributes.position,y=t.index,_=t.groups,0===_.length&&t.addGroup(0,y.count),o=0,s=_.length;o<s;++o)for(b=_[o],w=b.start,x=b.count,n=w,i=w+x;n<i;n+=3)for(r=0;r<3;r++)h[0]=y.getX(n+r),h[1]=y.getX(n+(r+1)%3),h.sort(e),u=h.toString(),void 0===f[u]&&(f[u]={index1:h[0],index2:h[1]});for(u in f)a=f[u],c.fromBufferAttribute(g,a.index1),p.push(c.x,c.y,c.z),c.fromBufferAttribute(g,a.index2),p.push(c.x,c.y,c.z)}else for(g=t.attributes.position,n=0,i=g.count/3;n<i;n++)for(r=0;r<3;r++)E=3*n+r,c.fromBufferAttribute(g,E),p.push(c.x,c.y,c.z),S=3*n+(r+1)%3,c.fromBufferAttribute(g,S),p.push(c.x,c.y,c.z)}this.addAttribute("position",new Et(p,3))}function Le(t,e,n){At.call(this),this.type="ParametricGeometry",this.parameters={func:t,slices:e,stacks:n},this.fromBufferGeometry(new Ie(t,e,n)),this.mergeVertices()}function Ie(t,e,n){Pt.call(this),this.type="ParametricBufferGeometry",this.parameters={func:t,slices:e,stacks:n};var r,i,o=[],s=[],a=[],u=e+1;for(r=0;r<=n;r++){var c=r/n;for(i=0;i<=e;i++){var l=i/e,p=t(l,c);s.push(p.x,p.y,p.z),a.push(l,c)}}for(r=0;r<n;r++)for(i=0;i<e;i++){var h=r*u+i,f=r*u+i+1,d=(r+1)*u+i+1,m=(r+1)*u+i;o.push(h,f,m),o.push(f,d,m)}this.setIndex(o),this.addAttribute("position",new Et(s,3)),this.addAttribute("uv",new Et(a,2)),this.computeVertexNormals()}function Ne(t,e,n,r){At.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:n,detail:r},this.fromBufferGeometry(new De(t,e,n,r)),this.mergeVertices()}function De(t,e,n,r){function o(t){for(var n=new l,r=new l,i=new l,o=0;o<e.length;o+=3)h(e[o+0],n),h(e[o+1],r),h(e[o+2],i),s(n,r,i,t)}function s(t,e,n,r){var i,o,s=Math.pow(2,r),a=[];for(i=0;i<=s;i++){a[i]=[];var u=t.clone().lerp(n,i/s),c=e.clone().lerp(n,i/s),l=s-i;for(o=0;o<=l;o++)a[i][o]=0===o&&i===s?u:u.clone().lerp(c,o/l)}for(i=0;i<s;i++)for(o=0;o<2*(s-i)-1;o++){var h=Math.floor(o/2);o%2==0?(p(a[i][h+1]),p(a[i+1][h]),p(a[i][h])):(p(a[i][h+1]),p(a[i+1][h+1]),p(a[i+1][h]))}}function a(t){for(var e=new l,n=0;n<g.length;n+=3)e.x=g[n+0],e.y=g[n+1],e.z=g[n+2],e.normalize().multiplyScalar(t),g[n+0]=e.x,g[n+1]=e.y,g[n+2]=e.z}function u(){for(var t=new l,e=0;e<g.length;e+=3){t.x=g[e+0],t.y=g[e+1],t.z=g[e+2];var n=m(t)/2/Math.PI+.5,r=v(t)/Math.PI+.5;y.push(n,1-r)}f(),c()}function c(){for(var t=0;t<y.length;t+=6){var e=y[t+0],n=y[t+2],r=y[t+4],i=Math.max(e,n,r),o=Math.min(e,n,r);i>.9&&o<.1&&(e<.2&&(y[t+0]+=1),n<.2&&(y[t+2]+=1),r<.2&&(y[t+4]+=1))}}function p(t){g.push(t.x,t.y,t.z)}function h(e,n){var r=3*e;n.x=t[r+0],n.y=t[r+1],n.z=t[r+2]}function f(){for(var t=new l,e=new l,n=new l,r=new l,o=new i,s=new i,a=new i,u=0,c=0;u<g.length;u+=9,c+=6){t.set(g[u+0],g[u+1],g[u+2]),e.set(g[u+3],g[u+4],g[u+5]),n.set(g[u+6],g[u+7],g[u+8]),o.set(y[c+0],y[c+1]),s.set(y[c+2],y[c+3]),a.set(y[c+4],y[c+5]),r.copy(t).add(e).add(n).divideScalar(3);var p=m(r);d(o,c+0,t,p),d(s,c+2,e,p),d(a,c+4,n,p)}}function d(t,e,n,r){r<0&&1===t.x&&(y[e]=t.x-1),0===n.x&&0===n.z&&(y[e]=r/2/Math.PI+.5)}function m(t){return Math.atan2(t.z,-t.x)}function v(t){return Math.atan2(-t.y,Math.sqrt(t.x*t.x+t.z*t.z))}Pt.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:t,indices:e,radius:n,detail:r},n=n||1,r=r||0;var g=[],y=[];o(r),a(n),u(),this.addAttribute("position",new Et(g,3)),this.addAttribute("normal",new Et(g.slice(),3)),this.addAttribute("uv",new Et(y,2)),this.normalizeNormals()}function ke(t,e){At.call(this),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new je(t,e)),this.mergeVertices()}function je(t,e){var n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];De.call(this,n,r,t,e),this.type="TetrahedronBufferGeometry",this.parameters={radius:t,detail:e}}function Fe(t,e){At.call(this),this.type="OctahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Ue(t,e)),this.mergeVertices()}function Ue(t,e){var n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];De.call(this,n,r,t,e),this.type="OctahedronBufferGeometry",this.parameters={radius:t,detail:e}}function Be(t,e){At.call(this),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Ve(t,e)),this.mergeVertices()}function Ve(t,e){var n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],i=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];De.call(this,r,i,t,e),this.type="IcosahedronBufferGeometry",this.parameters={radius:t,detail:e}}function He(t,e){At.call(this),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new ze(t,e)),this.mergeVertices()}function ze(t,e){var n=(1+Math.sqrt(5))/2,r=1/n,i=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];De.call(this,i,o,t,e),this.type="DodecahedronBufferGeometry",this.parameters={radius:t,detail:e}}function Ge(t,e,n,r,i,o){At.call(this),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:e,radius:n,radialSegments:r,closed:i},void 0!==o&&console.warn("THREE.TubeGeometry: taper has been removed.");var s=new We(t,e,n,r,i);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals,this.fromBufferGeometry(s),this.mergeVertices()}function We(t,e,n,r,o){function s(){for(h=0;h<e;h++)a(h);a(o===!1?e:0),c(),u()}function a(i){var o=t.getPointAt(i/e),s=p.normals[i],a=p.binormals[i];for(f=0;f<=r;f++){var u=f/r*Math.PI*2,c=Math.sin(u),l=-Math.cos(u);m.x=l*s.x+c*a.x,m.y=l*s.y+c*a.y,m.z=l*s.z+c*a.z,m.normalize(),y.push(m.x,m.y,m.z),d.x=o.x+n*m.x,d.y=o.y+n*m.y,d.z=o.z+n*m.z,g.push(d.x,d.y,d.z)}}function u(){for(f=1;f<=e;f++)for(h=1;h<=r;h++){var t=(r+1)*(f-1)+(h-1),n=(r+1)*f+(h-1),i=(r+1)*f+h,o=(r+1)*(f-1)+h;b.push(t,n,o),b.push(n,i,o)}}function c(){for(h=0;h<=e;h++)for(f=0;f<=r;f++)v.x=h/e,v.y=f/r,_.push(v.x,v.y)}Pt.call(this),this.type="TubeBufferGeometry",this.parameters={path:t,tubularSegments:e,radius:n,radialSegments:r,closed:o},e=e||64,n=n||1,r=r||8,o=o||!1;var p=t.computeFrenetFrames(e,o);this.tangents=p.tangents,this.normals=p.normals,this.binormals=p.binormals;var h,f,d=new l,m=new l,v=new i,g=[],y=[],_=[],b=[];s(),this.setIndex(b),this.addAttribute("position",new Et(g,3)),this.addAttribute("normal",new Et(y,3)),this.addAttribute("uv",new Et(_,2))}function qe(t,e,n,r,i,o,s){At.call(this),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:e,tubularSegments:n,radialSegments:r,p:i,q:o},void 0!==s&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new Xe(t,e,n,r,i,o)),this.mergeVertices()}function Xe(t,e,n,r,o,s){function a(t,e,n,r,i){var o=Math.cos(t),s=Math.sin(t),a=n/e*t,u=Math.cos(a);i.x=r*(2+u)*.5*o,i.y=r*(2+u)*s*.5,i.z=r*Math.sin(a)*.5}Pt.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:t,tube:e,tubularSegments:n,radialSegments:r,p:o,q:s},t=t||100,e=e||40,n=Math.floor(n)||64,r=Math.floor(r)||8,o=o||2,s=s||3;var u,c,p=[],h=[],f=[],d=[],m=new l,v=new l,g=(new i,new l),y=new l,_=new l,b=new l,w=new l;for(u=0;u<=n;++u){var x=u/n*o*Math.PI*2;for(a(x,o,s,t,g),a(x+.01,o,s,t,y),b.subVectors(y,g),w.addVectors(y,g),_.crossVectors(b,w),w.crossVectors(_,b),_.normalize(),w.normalize(),c=0;c<=r;++c){var E=c/r*Math.PI*2,S=-e*Math.cos(E),M=e*Math.sin(E);m.x=g.x+(S*w.x+M*_.x),m.y=g.y+(S*w.y+M*_.y),m.z=g.z+(S*w.z+M*_.z),h.push(m.x,m.y,m.z),v.subVectors(m,g).normalize(),f.push(v.x,v.y,v.z),d.push(u/n),d.push(c/r)}}for(c=1;c<=n;c++)for(u=1;u<=r;u++){var C=(r+1)*(c-1)+(u-1),T=(r+1)*c+(u-1),A=(r+1)*c+u,P=(r+1)*(c-1)+u;p.push(C,T,P),p.push(T,A,P)}this.setIndex(p),this.addAttribute("position",new Et(h,3)),this.addAttribute("normal",new Et(f,3)),this.addAttribute("uv",new Et(d,2))}function Ye(t,e,n,r,i){At.call(this),this.type="TorusGeometry",this.parameters={radius:t,tube:e,radialSegments:n,tubularSegments:r,arc:i},this.fromBufferGeometry(new Ze(t,e,n,r,i))}function Ze(t,e,n,r,i){Pt.call(this),this.type="TorusBufferGeometry",this.parameters={radius:t,tube:e,radialSegments:n,tubularSegments:r,arc:i},t=t||100,e=e||40,n=Math.floor(n)||8,r=Math.floor(r)||6,i=i||2*Math.PI;var o,s,a=[],u=[],c=[],p=[],h=new l,f=new l,d=new l;for(o=0;o<=n;o++)for(s=0;s<=r;s++){var m=s/r*i,v=o/n*Math.PI*2;f.x=(t+e*Math.cos(v))*Math.cos(m),f.y=(t+e*Math.cos(v))*Math.sin(m),f.z=e*Math.sin(v),u.push(f.x,f.y,f.z),h.x=t*Math.cos(m),h.y=t*Math.sin(m),d.subVectors(f,h).normalize(),c.push(d.x,d.y,d.z),p.push(s/r),p.push(o/n)}for(o=1;o<=n;o++)for(s=1;s<=r;s++){var g=(r+1)*o+s-1,y=(r+1)*(o-1)+s-1,_=(r+1)*(o-1)+s,b=(r+1)*o+s;a.push(g,y,b),a.push(y,_,b)}this.setIndex(a),this.addAttribute("position",new Et(u,3)),this.addAttribute("normal",new Et(c,3)),this.addAttribute("uv",new Et(p,2))}function Qe(t,e){if(void 0===t)return void(t=[]);At.call(this),this.type="ExtrudeGeometry",t=Array.isArray(t)?t:[t],this.addShapeList(t,e),this.computeFaceNormals()}function Ke(t,e){e=e||{};var n=e.font;if((n&&n.isFont)===!1)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new At;var r=n.generateShapes(t,e.size,e.curveSegments);e.amount=void 0!==e.height?e.height:50,void 0===e.bevelThickness&&(e.bevelThickness=10),void 0===e.bevelSize&&(e.bevelSize=8),void 0===e.bevelEnabled&&(e.bevelEnabled=!1),Qe.call(this,r,e),this.type="TextGeometry"}function Je(t,e,n,r,i,o,s){At.call(this),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:s},this.fromBufferGeometry(new $e(t,e,n,r,i,o,s))}function $e(t,e,n,r,i,o,s){Pt.call(this),this.type="SphereBufferGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:s},t=t||50,e=Math.max(3,Math.floor(e)||8),n=Math.max(2,Math.floor(n)||6),r=void 0!==r?r:0,i=void 0!==i?i:2*Math.PI,o=void 0!==o?o:0,s=void 0!==s?s:Math.PI;var a,u,c=o+s,p=0,h=[],f=new l,d=new l,m=[],v=[],g=[],y=[];for(u=0;u<=n;u++){var _=[],b=u/n;for(a=0;a<=e;a++){var w=a/e;f.x=-t*Math.cos(r+w*i)*Math.sin(o+b*s),f.y=t*Math.cos(o+b*s),f.z=t*Math.sin(r+w*i)*Math.sin(o+b*s),v.push(f.x,f.y,f.z),d.set(f.x,f.y,f.z).normalize(),g.push(d.x,d.y,d.z),y.push(w,1-b),_.push(p++)}h.push(_)}for(u=0;u<n;u++)for(a=0;a<e;a++){var x=h[u][a+1],E=h[u][a],S=h[u+1][a],M=h[u+1][a+1];(0!==u||o>0)&&m.push(x,E,M),(u!==n-1||c<Math.PI)&&m.push(E,S,M)}this.setIndex(m),this.addAttribute("position",new Et(v,3)),this.addAttribute("normal",new Et(g,3)),this.addAttribute("uv",new Et(y,2))}function tn(t,e,n,r,i,o){At.call(this),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:o},this.fromBufferGeometry(new en(t,e,n,r,i,o))}function en(t,e,n,r,o,s){Pt.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:n,phiSegments:r,thetaStart:o,thetaLength:s},t=t||20,e=e||50,o=void 0!==o?o:0,s=void 0!==s?s:2*Math.PI,n=void 0!==n?Math.max(3,n):8,r=void 0!==r?Math.max(1,r):1;var a,u,c,p=[],h=[],f=[],d=[],m=t,v=(e-t)/r,g=new l,y=new i;for(u=0;u<=r;u++){for(c=0;c<=n;c++)a=o+c/n*s,g.x=m*Math.cos(a),g.y=m*Math.sin(a),h.push(g.x,g.y,g.z),f.push(0,0,1),y.x=(g.x/e+1)/2,y.y=(g.y/e+1)/2,d.push(y.x,y.y);m+=v}for(u=0;u<r;u++){var _=u*(n+1);for(c=0;c<n;c++){a=c+_;var b=a,w=a+n+1,x=a+n+2,E=a+1;p.push(b,w,E),p.push(w,x,E)}}this.setIndex(p),this.addAttribute("position",new Et(h,3)),this.addAttribute("normal",new Et(f,3)),this.addAttribute("uv",new Et(d,2))}function nn(t,e,n,r){At.call(this),this.type="LatheGeometry",this.parameters={points:t,segments:e,phiStart:n,phiLength:r},this.fromBufferGeometry(new rn(t,e,n,r)),this.mergeVertices()}function rn(t,e,n,r){Pt.call(this),this.type="LatheBufferGeometry",this.parameters={points:t,segments:e,phiStart:n,phiLength:r},e=Math.floor(e)||12,n=n||0,r=r||2*Math.PI,r=fa.clamp(r,0,2*Math.PI);var o,s,a,u=[],c=[],p=[],h=1/e,f=new l,d=new i;for(s=0;s<=e;s++){var m=n+s*h*r,v=Math.sin(m),g=Math.cos(m);for(a=0;a<=t.length-1;a++)f.x=t[a].x*v,f.y=t[a].y,f.z=t[a].x*g,c.push(f.x,f.y,f.z),d.x=s/e,d.y=a/(t.length-1),p.push(d.x,d.y)}for(s=0;s<e;s++)for(a=0;a<t.length-1;a++){o=a+s*t.length;var y=o,_=o+t.length,b=o+t.length+1,w=o+1;u.push(y,_,w),u.push(_,b,w)}if(this.setIndex(u),this.addAttribute("position",new Et(c,3)),this.addAttribute("uv",new Et(p,2)),this.computeVertexNormals(),r===2*Math.PI){var x=this.attributes.normal.array,E=new l,S=new l,M=new l;for(o=e*t.length*3,s=0,a=0;s<t.length;s++,a+=3)E.x=x[a+0],E.y=x[a+1],E.z=x[a+2],S.x=x[o+a+0],S.y=x[o+a+1],S.z=x[o+a+2],M.addVectors(E,S).normalize(),x[a+0]=x[o+a+0]=M.x,x[a+1]=x[o+a+1]=M.y,x[a+2]=x[o+a+2]=M.z}}function on(t,e){At.call(this),this.type="ShapeGeometry","object"==typeof e&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),e=e.curveSegments),this.parameters={shapes:t,curveSegments:e},this.fromBufferGeometry(new sn(t,e)),this.mergeVertices()}function sn(t,e){function n(t){var n,a,c,l=i.length/3,p=t.extractPoints(e),h=p.shape,f=p.holes;if(Pc.isClockWise(h)===!1)for(h=h.reverse(),n=0,a=f.length;n<a;n++)c=f[n],Pc.isClockWise(c)===!0&&(f[n]=c.reverse());var d=Pc.triangulateShape(h,f);for(n=0,a=f.length;n<a;n++)c=f[n],h=h.concat(c);for(n=0,a=h.length;n<a;n++){var m=h[n];i.push(m.x,m.y,0),o.push(0,0,1),s.push(m.x,m.y)}for(n=0,a=d.length;n<a;n++){var v=d[n],g=v[0]+l,y=v[1]+l,_=v[2]+l;r.push(g,y,_),u+=3}}Pt.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:t,curveSegments:e},e=e||12;var r=[],i=[],o=[],s=[],a=0,u=0;if(Array.isArray(t)===!1)n(t);else for(var c=0;c<t.length;c++)n(t[c]),this.addGroup(a,u,c),a+=u,u=0;this.setIndex(r),this.addAttribute("position",new Et(i,3)),this.addAttribute("normal",new Et(o,3)),this.addAttribute("uv",new Et(s,2))}function an(t,e){function n(t,e){return t-e}Pt.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:e},e=void 0!==e?e:1;var r,i,o=[],s=Math.cos(fa.DEG2RAD*e),a=[0,0],u={},c=["a","b","c"];t.isBufferGeometry?(i=new At,i.fromBufferGeometry(t)):i=t.clone(),i.mergeVertices(),i.computeFaceNormals();for(var l=i.vertices,p=i.faces,h=0,f=p.length;h<f;h++)for(var d=p[h],m=0;m<3;m++)a[0]=d[c[m]],a[1]=d[c[(m+1)%3]],a.sort(n),r=a.toString(),void 0===u[r]?u[r]={index1:a[0],index2:a[1],face1:h,face2:void 0}:u[r].face2=h;for(r in u){var v=u[r];if(void 0===v.face2||p[v.face1].normal.dot(p[v.face2].normal)<=s){var g=l[v.index1];o.push(g.x,g.y,g.z),g=l[v.index2],o.push(g.x,g.y,g.z)}}this.addAttribute("position",new Et(o,3))}function un(t,e,n,r,i,o,s,a){At.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:s,thetaLength:a},this.fromBufferGeometry(new cn(t,e,n,r,i,o,s,a)),this.mergeVertices()}function cn(t,e,n,r,o,s,a,u){function c(){var i,s,c=new l,p=new l,w=0,x=(e-t)/n;for(s=0;s<=o;s++){var E=[],S=s/o,M=S*(e-t)+t;for(i=0;i<=r;i++){var C=i/r,T=C*u+a,A=Math.sin(T),P=Math.cos(T);p.x=M*A,p.y=-S*n+_,p.z=M*P,d.push(p.x,p.y,p.z),c.set(A,x,P).normalize(),m.push(c.x,c.y,c.z),v.push(C,1-S),E.push(g++)}y.push(E)}for(i=0;i<r;i++)for(s=0;s<o;s++){var R=y[s][i],O=y[s+1][i],L=y[s+1][i+1],I=y[s][i+1];f.push(R,O,I),f.push(O,L,I),w+=6}h.addGroup(b,w,0),b+=w}function p(n){var o,s,c,p=new i,y=new l,w=0,x=n===!0?t:e,E=n===!0?1:-1;for(s=g,o=1;o<=r;o++)d.push(0,_*E,0),m.push(0,E,0),v.push(.5,.5),g++;for(c=g,o=0;o<=r;o++){var S=o/r,M=S*u+a,C=Math.cos(M),T=Math.sin(M);y.x=x*T,y.y=_*E,y.z=x*C,d.push(y.x,y.y,y.z),m.push(0,E,0),p.x=.5*C+.5,p.y=.5*T*E+.5,v.push(p.x,p.y),g++}for(o=0;o<r;o++){var A=s+o,P=c+o;n===!0?f.push(P,P+1,A):f.push(P+1,P,A),w+=3}h.addGroup(b,w,n===!0?1:2),b+=w}Pt.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:n,radialSegments:r,heightSegments:o,openEnded:s,thetaStart:a,thetaLength:u};var h=this;t=void 0!==t?t:20,e=void 0!==e?e:20,n=void 0!==n?n:100,r=Math.floor(r)||8,o=Math.floor(o)||1,s=void 0!==s&&s,a=void 0!==a?a:0,u=void 0!==u?u:2*Math.PI;var f=[],d=[],m=[],v=[],g=0,y=[],_=n/2,b=0;c(),s===!1&&(t>0&&p(!0),e>0&&p(!1)),this.setIndex(f),this.addAttribute("position",new Et(d,3)),this.addAttribute("normal",new Et(m,3)),this.addAttribute("uv",new Et(v,2))}function ln(t,e,n,r,i,o,s){un.call(this,0,t,e,n,r,i,o,s),this.type="ConeGeometry",this.parameters={radius:t,height:e,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:s}}function pn(t,e,n,r,i,o,s){cn.call(this,0,t,e,n,r,i,o,s),this.type="ConeBufferGeometry",this.parameters={radius:t,height:e,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:s}}function hn(t,e,n,r){At.call(this),this.type="CircleGeometry",this.parameters={radius:t,segments:e,thetaStart:n,thetaLength:r},this.fromBufferGeometry(new fn(t,e,n,r))}function fn(t,e,n,r){Pt.call(this),this.type="CircleBufferGeometry",this.parameters={radius:t,segments:e,thetaStart:n,thetaLength:r},t=t||50,e=void 0!==e?Math.max(3,e):8,n=void 0!==n?n:0,r=void 0!==r?r:2*Math.PI;var o,s,a=[],u=[],c=[],p=[],h=new l,f=new i;for(u.push(0,0,0),c.push(0,0,1),p.push(.5,.5),s=0,o=3;s<=e;s++,o+=3){var d=n+s/e*r;h.x=t*Math.cos(d),h.y=t*Math.sin(d),u.push(h.x,h.y,h.z),c.push(0,0,1),f.x=(u[o]/t+1)/2,f.y=(u[o+1]/t+1)/2,p.push(f.x,f.y)}for(o=1;o<=e;o++)a.push(o,o+1,0);this.setIndex(a),this.addAttribute("position",new Et(u,3)),this.addAttribute("normal",new Et(c,3)),this.addAttribute("uv",new Et(p,2))}function dn(){$.call(this,{uniforms:ba.merge([Ec.lights,{opacity:{value:1}}]),vertexShader:wc.shadow_vert,fragmentShader:wc.shadow_frag}),this.lights=!0,this.transparent=!0,Object.defineProperties(this,{opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(t){this.uniforms.opacity.value=t}}})}function mn(t){$.call(this,t),this.type="RawShaderMaterial"}function vn(t){this.uuid=fa.generateUUID(),this.type="MultiMaterial",this.materials=Array.isArray(t)?t:[],this.visible=!0}function gn(t){J.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new X(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new X(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new i(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function yn(t){gn.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(t)}function _n(t){J.call(this),this.type="MeshPhongMaterial",this.color=new X(16777215),this.specular=new X(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new X(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new i(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Wo,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function bn(t){_n.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(t)}function wn(t){J.call(this,t),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new i(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function xn(t){J.call(this),this.type="MeshLambertMaterial",this.color=new X(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new X(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Wo,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function En(t){J.call(this),this.type="LineDashedMaterial",this.color=new X(16777215),this.linewidth=1,this.scale=1,this.dashSize=3,this.gapSize=1,this.lights=!1,this.setValues(t)}function Sn(t,e,n){var r=this,i=!1,o=0,s=0;this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=n,this.itemStart=function(t){s++,i===!1&&void 0!==r.onStart&&r.onStart(t,o,s),i=!0},this.itemEnd=function(t){o++,void 0!==r.onProgress&&r.onProgress(t,o,s),o===s&&(i=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(t){void 0!==r.onError&&r.onError(t)}}function Mn(t){this.manager=void 0!==t?t:Ic}function Cn(t){this.manager=void 0!==t?t:Ic,this._parser=null}function Tn(t){this.manager=void 0!==t?t:Ic,this._parser=null}function An(t){this.manager=void 0!==t?t:Ic}function Pn(t){this.manager=void 0!==t?t:Ic}function Rn(t){this.manager=void 0!==t?t:Ic}function On(t,e){lt.call(this),this.type="Light",this.color=new X(t),this.intensity=void 0!==e?e:1,this.receiveShadow=void 0}function Ln(t,e,n){On.call(this,t,n),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(lt.DefaultUp),this.updateMatrix(),this.groundColor=new X(e)}function In(t){this.camera=t,this.bias=0,this.radius=1,this.mapSize=new i(512,512),this.map=null,this.matrix=new p}function Nn(){In.call(this,new kt(50,1,.5,500))}function Dn(t,e,n,r,i,o){On.call(this,t,e),this.type="SpotLight",this.position.copy(lt.DefaultUp),this.updateMatrix(),this.target=new lt,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(t){this.intensity=t/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==r?r:Math.PI/3,this.penumbra=void 0!==i?i:0,this.decay=void 0!==o?o:1,this.shadow=new Nn}function kn(t,e,n,r){On.call(this,t,e),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(t){this.intensity=t/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==r?r:1,this.shadow=new In(new kt(90,1,.5,500))}function jn(){In.call(this,new jt(-5,5,5,-5,.5,500))}function Fn(t,e){On.call(this,t,e),this.type="DirectionalLight",this.position.copy(lt.DefaultUp),this.updateMatrix(),this.target=new lt,this.shadow=new jn}function Un(t,e){On.call(this,t,e),this.type="AmbientLight",this.castShadow=void 0}function Bn(t,e,n,r){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new e.constructor(n),this.sampleValues=e,this.valueSize=n}function Vn(t,e,n,r){Bn.call(this,t,e,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function Hn(t,e,n,r){Bn.call(this,t,e,n,r)}function zn(t,e,n,r){Bn.call(this,t,e,n,r)}function Gn(t,e,n,r){if(void 0===t)throw new Error("track name is undefined");if(void 0===e||0===e.length)throw new Error("no keyframes in track named "+t);this.name=t,this.times=Nc.convertArray(e,this.TimeBufferType),this.values=Nc.convertArray(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation),this.validate(),this.optimize()}function Wn(t,e,n,r){Gn.call(this,t,e,n,r)}function qn(t,e,n,r){Bn.call(this,t,e,n,r)}function Xn(t,e,n,r){Gn.call(this,t,e,n,r)}function Yn(t,e,n,r){Gn.call(this,t,e,n,r)}function Zn(t,e,n,r){Gn.call(this,t,e,n,r)}function Qn(t,e,n){Gn.call(this,t,e,n)}function Kn(t,e,n,r){Gn.call(this,t,e,n,r)}function Jn(t,e,n,r){Gn.apply(this,arguments)}function $n(t,e,n){this.name=t,this.tracks=n,this.duration=void 0!==e?e:-1,this.uuid=fa.generateUUID(),this.duration<0&&this.resetDuration(),this.optimize()}function tr(t){this.manager=void 0!==t?t:Ic,this.textures={}}function er(t){this.manager=void 0!==t?t:Ic}function nr(){this.onLoadStart=function(){},this.onLoadProgress=function(){},this.onLoadComplete=function(){}}function rr(t){"boolean"==typeof t&&(console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."),t=void 0),this.manager=void 0!==t?t:Ic,this.withCredentials=!1}function ir(t){this.manager=void 0!==t?t:Ic,this.texturePath=""}function or(t,e,n,r,i){var o=.5*(r-e),s=.5*(i-n),a=t*t;return(2*n-2*r+o+s)*(t*a)+(-3*n+3*r-2*o-s)*a+o*t+n}function sr(t,e){var n=1-t;return n*n*e}function ar(t,e){return 2*(1-t)*t*e}function ur(t,e){return t*t*e}function cr(t,e,n,r){return sr(t,e)+ar(t,n)+ur(t,r)}function lr(t,e){var n=1-t;return n*n*n*e}function pr(t,e){var n=1-t;return 3*n*n*t*e}function hr(t,e){return 3*(1-t)*t*t*e}function fr(t,e){return t*t*t*e}function dr(t,e,n,r,i){return lr(t,e)+pr(t,n)+hr(t,r)+fr(t,i)}function mr(){}function vr(t,e){this.v1=t,this.v2=e}function gr(){this.curves=[],this.autoClose=!1}function yr(t,e,n,r,i,o,s,a){this.aX=t,this.aY=e,this.xRadius=n,this.yRadius=r,this.aStartAngle=i,this.aEndAngle=o,this.aClockwise=s,this.aRotation=a||0}function _r(t){this.points=void 0===t?[]:t}function br(t,e,n,r){this.v0=t,this.v1=e,this.v2=n,this.v3=r}function wr(t,e,n){this.v0=t,this.v1=e,this.v2=n}function xr(t){gr.call(this),this.currentPoint=new i,t&&this.fromPoints(t)}function Er(){xr.apply(this,arguments),this.holes=[]}function Sr(){this.subPaths=[],this.currentPath=null}function Mr(t){this.data=t}function Cr(t){this.manager=void 0!==t?t:Ic}function Tr(t){this.manager=void 0!==t?t:Ic}function Ar(t,e,n,r){On.call(this,t,e),this.type="RectAreaLight",this.position.set(0,1,0),this.updateMatrix(),this.width=void 0!==n?n:10,this.height=void 0!==r?r:10}function Pr(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new kt,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new kt,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}function Rr(t,e,n){lt.call(this),this.type="CubeCamera";var r=90,i=1,o=new kt(r,i,t,e);o.up.set(0,-1,0),o.lookAt(new l(1,0,0)),this.add(o);var s=new kt(r,i,t,e);s.up.set(0,-1,0),s.lookAt(new l(-1,0,0)),this.add(s);var a=new kt(r,i,t,e);a.up.set(0,0,1),a.lookAt(new l(0,1,0)),this.add(a);var c=new kt(r,i,t,e);c.up.set(0,0,-1),c.lookAt(new l(0,-1,0)),this.add(c);var p=new kt(r,i,t,e);p.up.set(0,-1,0),p.lookAt(new l(0,0,1)),this.add(p);var h=new kt(r,i,t,e);h.up.set(0,-1,0),h.lookAt(new l(0,0,-1)),this.add(h);var f={format:Ps,magFilter:fs,minFilter:fs};this.renderTarget=new u(n,n,f),this.updateCubeMap=function(t,e){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,r=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,n.activeCubeFace=0,t.render(e,o,n),n.activeCubeFace=1,t.render(e,s,n),n.activeCubeFace=2,t.render(e,a,n),n.activeCubeFace=3,t.render(e,c,n),n.activeCubeFace=4,t.render(e,p,n),n.texture.generateMipmaps=r,n.activeCubeFace=5,t.render(e,h,n),t.setRenderTarget(null)}}function Or(){lt.call(this),this.type="AudioListener",this.context=Fc.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null}function Lr(t){lt.call(this),this.type="Audio",this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.loop=!1,this.startTime=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]}function Ir(t){Lr.call(this,t),this.panner=this.context.createPanner(),this.panner.connect(this.gain)}function Nr(t,e){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=void 0!==e?e:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}function Dr(t,e,n){this.binding=t,this.valueSize=n;var r,i=Float64Array;switch(e){case"quaternion":r=this._slerp;break;case"string":case"bool":i=Array,r=this._select;break;default:r=this._lerp}this.buffer=new i(4*n),this._mixBufferRegion=r,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}function kr(t,e,n){this.path=e,this.parsedPath=n||kr.parseTrackName(e),this.node=kr.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t}function jr(t){this.uuid=fa.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var n=0,r=arguments.length;n!==r;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var i=this;this.stats={objects:{get total(){return i._objects.length},get inUse(){return this.total-i.nCachedObjects_}},get bindingsPerObject(){return i._bindings.length}}}function Fr(t,e,n){this._mixer=t,this._clip=e,this._localRoot=n||null;for(var r=e.tracks,i=r.length,o=new Array(i),s={endingStart:Ks,endingEnd:Ks},a=0;a!==i;++a){var u=r[a].createInterpolant(null);o[a]=u,u.settings=s}this._interpolantSettings=s,this._interpolants=o,this._propertyBindings=new Array(i),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=qs,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function Ur(t){this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function Br(t){"string"==typeof t&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),t=arguments[1]),this.value=t}function Vr(){Pt.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function Hr(t,e,n,r){this.uuid=fa.generateUUID(),this.data=t,this.itemSize=e,this.offset=n,this.normalized=r===!0}function zr(t,e){this.uuid=fa.generateUUID(),this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.onUploadCallback=function(){},this.version=0}function Gr(t,e,n){zr.call(this,t,e),this.meshPerAttribute=n||1}function Wr(t,e,n){mt.call(this,t,e),this.meshPerAttribute=n||1}function qr(t,e,n,r){this.ray=new at(t,e),this.near=n||0,this.far=r||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function Xr(t,e){return t.distance-e.distance}function Yr(t,e,n,r){if(t.visible!==!1&&(t.raycast(e,n),r===!0))for(var i=t.children,o=0,s=i.length;o<s;o++)Yr(i[o],e,n,!0)}function Zr(t){this.autoStart=void 0===t||t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}function Qr(t,e,n){return this.radius=void 0!==t?t:1,this.phi=void 0!==e?e:0,this.theta=void 0!==n?n:0,this}function Kr(t,e,n){return this.radius=void 0!==t?t:1,this.theta=void 0!==e?e:0,this.y=void 0!==n?n:0,this}function Jr(t,e){Rt.call(this,t,e),this.animationsMap={},this.animationsList=[];var n=this.geometry.morphTargets.length,r="__default",i=n-1,o=n/1;this.createAnimation(r,0,i,o),this.setAnimationWeight(r,1)}function $r(t){lt.call(this),this.material=t,this.render=function(t){}}function ti(t,e,n,r){this.object=t,this.size=void 0!==e?e:1;var i=void 0!==n?n:16711680,o=void 0!==r?r:1,s=0,a=this.object.geometry;a&&a.isGeometry?s=3*a.faces.length:a&&a.isBufferGeometry&&(s=a.attributes.normal.count);var u=new Pt,c=new Et(2*s*3,3);u.addAttribute("position",c),Ee.call(this,u,new we({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}function ei(t){lt.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1;for(var e=new Pt,n=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],r=0,i=1,o=32;r<o;r++,i++){var s=r/o*Math.PI*2,a=i/o*Math.PI*2;n.push(Math.cos(s),Math.sin(s),1,Math.cos(a),Math.sin(a),1)}e.addAttribute("position",new Et(n,3));var u=new we({fog:!1});this.cone=new Ee(e,u),this.add(this.cone),this.update()}function ni(t){this.bones=this.getBoneList(t);for(var e=new Pt,n=[],r=[],i=new X(0,0,1),o=new X(0,1,0),s=0;s<this.bones.length;s++){var a=this.bones[s];a.parent&&a.parent.isBone&&(n.push(0,0,0),n.push(0,0,0),r.push(i.r,i.g,i.b),r.push(o.r,o.g,o.b))}e.addAttribute("position",new Et(n,3)),e.addAttribute("color",new Et(r,3));var u=new we({vertexColors:fo,depthTest:!1,depthWrite:!1,transparent:!0});Ee.call(this,e,u),this.root=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function ri(t,e){this.light=t,this.light.updateMatrixWorld();var n=new $e(e,4,2),r=new dt({wireframe:!0,fog:!1});r.color.copy(this.light.color).multiplyScalar(this.light.intensity),Rt.call(this,n,r),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1}function ii(t){lt.call(this),this.light=t,this.light.updateMatrixWorld();var e=new dt({color:t.color,fog:!1}),n=new dt({color:t.color,fog:!1,wireframe:!0}),r=new Pt;r.addAttribute("position",new mt(new Float32Array(18),3)),this.add(new Rt(r,e)),this.add(new Rt(r,n)),this.update()}function oi(t,e){lt.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1;var n=new Ue(e);n.rotateY(.5*Math.PI);var r=new dt({vertexColors:fo,wireframe:!0}),i=n.getAttribute("position"),o=new Float32Array(3*i.count);n.addAttribute("color",new mt(o,3)),this.add(new Rt(n,r)),this.update()}function si(t,e,n,r){t=t||10,e=e||10,n=new X(void 0!==n?n:4473924),r=new X(void 0!==r?r:8947848);for(var i=e/2,o=t/e,s=t/2,a=[],u=[],c=0,l=0,p=-s;c<=e;c++,p+=o){a.push(-s,0,p,s,0,p),a.push(p,0,-s,p,0,s);var h=c===i?n:r;h.toArray(u,l),l+=3,h.toArray(u,l),l+=3,h.toArray(u,l),l+=3,h.toArray(u,l),l+=3}var f=new Pt;f.addAttribute("position",new Et(a,3)),f.addAttribute("color",new Et(u,3));var d=new we({vertexColors:fo});Ee.call(this,f,d)}function ai(t,e,n,r,i,o){t=t||10,e=e||16,n=n||8,r=r||64,i=new X(void 0!==i?i:4473924),o=new X(void 0!==o?o:8947848);var s,a,u,c,l,p,h,f=[],d=[];for(c=0;c<=e;c++)u=c/e*(2*Math.PI),s=Math.sin(u)*t,a=Math.cos(u)*t,f.push(0,0,0),f.push(s,0,a),h=1&c?i:o,d.push(h.r,h.g,h.b),d.push(h.r,h.g,h.b);for(c=0;c<=n;c++)for(h=1&c?i:o,p=t-t/n*c,l=0;l<r;l++)u=l/r*(2*Math.PI),s=Math.sin(u)*p,a=Math.cos(u)*p,f.push(s,0,a),d.push(h.r,h.g,h.b),u=(l+1)/r*(2*Math.PI),s=Math.sin(u)*p,a=Math.cos(u)*p,f.push(s,0,a),d.push(h.r,h.g,h.b);var m=new Pt;m.addAttribute("position",new Et(f,3)),m.addAttribute("color",new Et(d,3));var v=new we({vertexColors:fo});Ee.call(this,m,v)}function ui(t,e,n,r){this.object=t,this.size=void 0!==e?e:1;var i=void 0!==n?n:16776960,o=void 0!==r?r:1,s=0,a=this.object.geometry;a&&a.isGeometry?s=a.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var u=new Pt,c=new Et(2*s*3,3);u.addAttribute("position",c),Ee.call(this,u,new we({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}function ci(t,e){lt.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,void 0===e&&(e=1);var n=new Pt;n.addAttribute("position",new Et([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));var r=new we({fog:!1});this.add(new xe(n,r)),n=new Pt,n.addAttribute("position",new Et([0,0,0,0,0,1],3)),this.add(new xe(n,r)),this.update()}function li(t){function e(t,e,r){n(t,r),n(e,r)}function n(t,e){o.push(0,0,0),s.push(e.r,e.g,e.b),void 0===a[t]&&(a[t]=[]),a[t].push(o.length/3-1)}var r=new Pt,i=new we({color:16777215,vertexColors:ho}),o=[],s=[],a={},u=new X(16755200),c=new X(16711680),l=new X(43775),p=new X(16777215),h=new X(3355443);e("n1","n2",u),e("n2","n4",u),e("n4","n3",u),e("n3","n1",u),e("f1","f2",u),e("f2","f4",u),e("f4","f3",u),e("f3","f1",u),e("n1","f1",u),e("n2","f2",u),e("n3","f3",u),e("n4","f4",u),e("p","n1",c),e("p","n2",c),e("p","n3",c),e("p","n4",c),e("u1","u2",l),e("u2","u3",l),e("u3","u1",l),e("c","t",p),e("p","c",h),e("cn1","cn2",h),e("cn3","cn4",h),e("cf1","cf2",h),e("cf3","cf4",h),r.addAttribute("position",new Et(o,3)),r.addAttribute("color",new Et(s,3)),Ee.call(this,r,i),this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update()}function pi(t,e){void 0===e&&(e=16776960);var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),i=new Pt;i.setIndex(new mt(n,1)),i.addAttribute("position",new mt(r,3)),Ee.call(this,i,new we({color:e})),void 0!==t&&this.update(t)}function hi(t,e,n,r,i,o){lt.call(this),void 0===r&&(r=16776960),void 0===n&&(n=1),void 0===i&&(i=.2*n),void 0===o&&(o=.2*i),void 0===Uc&&(Uc=new Pt,Uc.addAttribute("position",new Et([0,0,0,0,1,0],3)),Bc=new cn(0,.5,1,5,1),Bc.translate(0,-.5,0)),this.position.copy(e),this.line=new xe(Uc,new we({color:r})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Rt(Bc,new dt({color:r})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(n,i,o)}function fi(t){t=t||1;var e=[0,0,0,t,0,0,0,0,0,0,t,0,0,0,0,0,0,t],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new Pt;r.addAttribute("position",new Et(e,3)),r.addAttribute("color",new Et(n,3));var i=new we({vertexColors:fo});Ee.call(this,r,i)}function di(){function t(t,o,s,a){e=t,n=s,r=-3*t+3*o-2*s-a,i=2*t-2*o+s+a}var e=0,n=0,r=0,i=0;return{initCatmullRom:function(e,n,r,i,o){t(n,r,o*(r-e),o*(i-n))},initNonuniformCatmullRom:function(e,n,r,i,o,s,a){var u=(n-e)/o-(r-e)/(o+s)+(r-n)/s,c=(r-n)/s-(i-n)/(s+a)+(i-r)/a;u*=s,c*=s,t(n,r,u,c)},calc:function(t){var o=t*t;return e+n*t+r*o+i*(o*t)}}}function mi(t){this.points=t||[],this.closed=!1}function vi(t,e,n,r){this.v0=t,this.v1=e,this.v2=n,this.v3=r}function gi(t,e,n){this.v0=t,this.v1=e,this.v2=n}function yi(t,e){this.v1=t,this.v2=e}function _i(t,e,n,r,i,o){yr.call(this,t,e,n,n,r,i,o)}function bi(t,e,n,r,i,o,s){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new ft(t,e,n,i,o,s)}function wi(t){return console.warn("THREE.MeshFaceMaterial has been renamed to THREE.MultiMaterial."),new vn(t)}function xi(t,e){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new Me(t,e)}function Ei(t){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new ve(t)}function Si(t,e){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new Me(t,e)}function Mi(t){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new Se(t)}function Ci(t){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new Se(t)}function Ti(t){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new Se(t)}function Ai(t,e,n){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new l(t,e,n)}function Pi(t,e){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead."),new mt(t,e).setDynamic(!0)}function Ri(t,e){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new vt(t,e)}function Oi(t,e){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new gt(t,e)}function Li(t,e){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new yt(t,e)}function Ii(t,e){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new _t(t,e)}function Ni(t,e){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new bt(t,e)}function Di(t,e){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new wt(t,e)}function ki(t,e){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new xt(t,e)}function ji(t,e){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new Et(t,e)}function Fi(t,e){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new St(t,e)}function Ui(t){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),mi.call(this,t),this.type="catmullrom",this.closed=!0}function Bi(t){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),mi.call(this,t),this.type="catmullrom"}function Vi(t){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),mi.call(this,t),this.type="catmullrom"}function Hi(t,e){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new pi(t,e)}function zi(t,e){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new Ee(new an(t.geometry),new we({color:void 0!==e?e:16777215}))}function Gi(t,e){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new Ee(new Oe(t.geometry),new we({color:void 0!==e?e:16777215}))}function Wi(t){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new Mn(t)}function qi(t){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new Tn(t)}function Xi(){console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js."),this.projectVector=function(t,e){console.warn("THREE.Projector: .projectVector() is now vector.project()."),t.project(e)},this.unprojectVector=function(t,e){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject()."),t.unproject(e)},this.pickingRay=function(){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}}function Yi(){console.error("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js"),this.domElement=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),this.clear=function(){},this.render=function(){},this.setClearColor=function(){},this.setSize=function(){}}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"WebGLRenderTargetCube",function(){return u}),n.d(e,"WebGLRenderTarget",function(){return a}),n.d(e,"WebGLRenderer",function(){return le}),n.d(e,"ShaderLib",function(){return Sc}),n.d(e,"UniformsLib",function(){return Ec}),n.d(e,"UniformsUtils",function(){return ba}),n.d(e,"ShaderChunk",function(){return wc}),n.d(e,"FogExp2",function(){return pe}),n.d(e,"Fog",function(){return he}),n.d(e,"Scene",function(){return fe}),n.d(e,"LensFlare",function(){return de}),n.d(e,"Sprite",function(){return ve}),n.d(e,"LOD",function(){return ge}),n.d(e,"SkinnedMesh",function(){return be}),n.d(e,"Skeleton",function(){return ye}),n.d(e,"Bone",function(){return _e}),n.d(e,"Mesh",function(){return Rt}),n.d(e,"LineSegments",function(){return Ee}),n.d(e,"Line",function(){return xe}),n.d(e,"Points",function(){return Me}),n.d(e,"Group",function(){return Ce}),n.d(e,"VideoTexture",function(){return Te}),n.d(e,"DataTexture",function(){return Y}),n.d(e,"CompressedTexture",function(){return Ae}),n.d(e,"CubeTexture",function(){return h}),n.d(e,"CanvasTexture",function(){return Pe}),n.d(e,"DepthTexture",function(){return Re}),n.d(e,"Texture",function(){return o}),n.d(e,"CompressedTextureLoader",function(){return Cn}),n.d(e,"DataTextureLoader",function(){return Tn}),n.d(e,"CubeTextureLoader",function(){return Pn}),n.d(e,"TextureLoader",function(){return Rn}),n.d(e,"ObjectLoader",function(){return ir}),n.d(e,"MaterialLoader",function(){return tr}),n.d(e,"BufferGeometryLoader",function(){return er}),n.d(e,"DefaultLoadingManager",function(){return Ic}),n.d(e,"LoadingManager",function(){return Sn}),n.d(e,"JSONLoader",function(){return rr}),n.d(e,"ImageLoader",function(){return An}),n.d(e,"FontLoader",function(){return Cr}),n.d(e,"FileLoader",function(){return Mn}),n.d(e,"Loader",function(){return nr}),n.d(e,"Cache",function(){return Lc}),n.d(e,"AudioLoader",function(){return Tr}),n.d(e,"SpotLightShadow",function(){return Nn}),n.d(e,"SpotLight",function(){return Dn}),n.d(e,"PointLight",function(){return kn}),n.d(e,"RectAreaLight",function(){return Ar}),n.d(e,"HemisphereLight",function(){return Ln}),n.d(e,"DirectionalLightShadow",function(){return jn}),n.d(e,"DirectionalLight",function(){return Fn}),n.d(e,"AmbientLight",function(){return Un}),n.d(e,"LightShadow",function(){return In}),n.d(e,"Light",function(){return On}),n.d(e,"StereoCamera",function(){return Pr}),n.d(e,"PerspectiveCamera",function(){return kt}),n.d(e,"OrthographicCamera",function(){return jt}),n.d(e,"CubeCamera",function(){return Rr}),n.d(e,"Camera",function(){return Dt}),n.d(e,"AudioListener",function(){return Or}),n.d(e,"PositionalAudio",function(){return Ir}),n.d(e,"AudioContext",function(){return Fc}),n.d(e,"AudioAnalyser",function(){return Nr}),n.d(e,"Audio",function(){return Lr}),n.d(e,"VectorKeyframeTrack",function(){return Wn}),n.d(e,"StringKeyframeTrack",function(){return Zn}),n.d(e,"QuaternionKeyframeTrack",function(){return Xn}),n.d(e,"NumberKeyframeTrack",function(){return Yn}),n.d(e,"ColorKeyframeTrack",function(){return Kn}),n.d(e,"BooleanKeyframeTrack",function(){return Qn}),n.d(e,"PropertyMixer",function(){return Dr}),n.d(e,"PropertyBinding",function(){return kr}),n.d(e,"KeyframeTrack",function(){return Jn}),n.d(e,"AnimationUtils",function(){return Nc}),n.d(e,"AnimationObjectGroup",function(){return jr}),n.d(e,"AnimationMixer",function(){return Ur}),n.d(e,"AnimationClip",function(){return $n}),n.d(e,"Uniform",function(){return Br}),n.d(e,"InstancedBufferGeometry",function(){return Vr}),n.d(e,"BufferGeometry",function(){return Pt}),n.d(e,"GeometryIdCount",function(){return Tt}),n.d(e,"Geometry",function(){return At}),n.d(e,"InterleavedBufferAttribute",function(){return Hr}),n.d(e,"InstancedInterleavedBuffer",function(){return Gr}),n.d(e,"InterleavedBuffer",function(){return zr}),n.d(e,"InstancedBufferAttribute",function(){return Wr}),n.d(e,"Face3",function(){return ft}),n.d(e,"Object3D",function(){return lt}),n.d(e,"Raycaster",function(){return qr}),n.d(e,"Layers",function(){return ct}),n.d(e,"EventDispatcher",function(){return r}),n.d(e,"Clock",function(){return Zr}),n.d(e,"QuaternionLinearInterpolant",function(){return qn}),n.d(e,"LinearInterpolant",function(){return Hn}),n.d(e,"DiscreteInterpolant",function(){return zn}),n.d(e,"CubicInterpolant",function(){return Vn}),n.d(e,"Interpolant",function(){return Bn}),n.d(e,"Triangle",function(){return ht}),n.d(e,"Math",function(){return fa}),n.d(e,"Spherical",function(){return Qr}),n.d(e,"Cylindrical",function(){return Kr}),n.d(e,"Plane",function(){return it}),n.d(e,"Frustum",function(){return ot}),n.d(e,"Sphere",function(){return nt}),n.d(e,"Ray",function(){return at}),n.d(e,"Matrix4",function(){return p}),n.d(e,"Matrix3",function(){return rt}),n.d(e,"Box3",function(){return et}),n.d(e,"Box2",function(){return Z}),n.d(e,"Line3",function(){return pt}),n.d(e,"Euler",function(){return ut}),n.d(e,"Vector4",function(){return s}),n.d(e,"Vector3",function(){return l}),n.d(e,"Vector2",function(){return i}),n.d(e,"Quaternion",function(){return c}),n.d(e,"Color",function(){return X}),n.d(e,"MorphBlendMesh",function(){return Jr}),n.d(e,"ImmediateRenderObject",function(){return $r}),n.d(e,"VertexNormalsHelper",function(){return ti}),n.d(e,"SpotLightHelper",function(){return ei}),n.d(e,"SkeletonHelper",function(){return ni}),n.d(e,"PointLightHelper",function(){return ri}),n.d(e,"RectAreaLightHelper",function(){return ii}),n.d(e,"HemisphereLightHelper",function(){return oi}),n.d(e,"GridHelper",function(){return si}),n.d(e,"PolarGridHelper",function(){return ai}),n.d(e,"FaceNormalsHelper",function(){return ui}),n.d(e,"DirectionalLightHelper",function(){return ci}),n.d(e,"CameraHelper",function(){return li}),n.d(e,"BoxHelper",function(){return pi}),n.d(e,"ArrowHelper",function(){return hi}),n.d(e,"AxisHelper",function(){return fi}),n.d(e,"CatmullRomCurve3",function(){return mi}),n.d(e,"CubicBezierCurve3",function(){return vi}),n.d(e,"QuadraticBezierCurve3",function(){return gi}),n.d(e,"LineCurve3",function(){return yi}),n.d(e,"ArcCurve",function(){return _i}),n.d(e,"EllipseCurve",function(){return yr}),n.d(e,"SplineCurve",function(){return _r}),n.d(e,"CubicBezierCurve",function(){return br}),n.d(e,"QuadraticBezierCurve",function(){return wr}),n.d(e,"LineCurve",function(){return vr}),n.d(e,"Shape",function(){return Er}),n.d(e,"Path",function(){return xr}),n.d(e,"ShapePath",function(){return Sr}),n.d(e,"Font",function(){return Mr}),n.d(e,"CurvePath",function(){return gr}),n.d(e,"Curve",function(){return mr}),n.d(e,"ShapeUtils",function(){return Pc}),n.d(e,"SceneUtils",function(){return Wc}),n.d(e,"WireframeGeometry",function(){return Oe}),n.d(e,"ParametricGeometry",function(){return Le}),n.d(e,"ParametricBufferGeometry",function(){return Ie}),n.d(e,"TetrahedronGeometry",function(){return ke}),n.d(e,"TetrahedronBufferGeometry",function(){return je}),n.d(e,"OctahedronGeometry",function(){return Fe}),n.d(e,"OctahedronBufferGeometry",function(){return Ue}),n.d(e,"IcosahedronGeometry",function(){return Be}),n.d(e,"IcosahedronBufferGeometry",function(){return Ve}),n.d(e,"DodecahedronGeometry",function(){return He}),n.d(e,"DodecahedronBufferGeometry",function(){return ze}),n.d(e,"PolyhedronGeometry",function(){return Ne}),n.d(e,"PolyhedronBufferGeometry",function(){return De}),n.d(e,"TubeGeometry",function(){return Ge}),n.d(e,"TubeBufferGeometry",function(){return We}),n.d(e,"TorusKnotGeometry",function(){return qe}),n.d(e,"TorusKnotBufferGeometry",function(){return Xe}),n.d(e,"TorusGeometry",function(){return Ye}),n.d(e,"TorusBufferGeometry",function(){return Ze}),n.d(e,"TextGeometry",function(){return Ke}),n.d(e,"SphereGeometry",function(){return Je}),n.d(e,"SphereBufferGeometry",function(){return $e}),n.d(e,"RingGeometry",function(){return tn}),n.d(e,"RingBufferGeometry",function(){return en}),n.d(e,"PlaneGeometry",function(){return It}),n.d(e,"PlaneBufferGeometry",function(){return Nt}),n.d(e,"LatheGeometry",function(){return nn}),n.d(e,"LatheBufferGeometry",function(){return rn}),n.d(e,"ShapeGeometry",function(){return on}),n.d(e,"ShapeBufferGeometry",function(){return sn}),n.d(e,"ExtrudeGeometry",function(){return Qe}),n.d(e,"EdgesGeometry",function(){return an}),n.d(e,"ConeGeometry",function(){return ln}),n.d(e,"ConeBufferGeometry",function(){return pn}),n.d(e,"CylinderGeometry",function(){return un}),n.d(e,"CylinderBufferGeometry",function(){return cn}),n.d(e,"CircleGeometry",function(){return hn}),n.d(e,"CircleBufferGeometry",function(){return fn}),n.d(e,"BoxGeometry",function(){return Ot}),n.d(e,"BoxBufferGeometry",function(){return Lt}),n.d(e,"ShadowMaterial",function(){return dn}),n.d(e,"SpriteMaterial",function(){return me}),n.d(e,"RawShaderMaterial",function(){return mn}),n.d(e,"ShaderMaterial",function(){return $}),n.d(e,"PointsMaterial",function(){return Se}),n.d(e,"MultiMaterial",function(){return vn}),n.d(e,"MeshPhysicalMaterial",function(){return yn}),n.d(e,"MeshStandardMaterial",function(){return gn}),n.d(e,"MeshPhongMaterial",function(){return _n});n.d(e,"MeshToonMaterial",function(){return bn}),n.d(e,"MeshNormalMaterial",function(){return wn}),n.d(e,"MeshLambertMaterial",function(){return xn}),n.d(e,"MeshDepthMaterial",function(){return tt}),n.d(e,"MeshBasicMaterial",function(){return dt}),n.d(e,"LineDashedMaterial",function(){return En}),n.d(e,"LineBasicMaterial",function(){return we}),n.d(e,"Material",function(){return J}),n.d(e,"Float64BufferAttribute",function(){return St}),n.d(e,"Float32BufferAttribute",function(){return Et}),n.d(e,"Uint32BufferAttribute",function(){return xt}),n.d(e,"Int32BufferAttribute",function(){return wt}),n.d(e,"Uint16BufferAttribute",function(){return bt}),n.d(e,"Int16BufferAttribute",function(){return _t}),n.d(e,"Uint8ClampedBufferAttribute",function(){return yt}),n.d(e,"Uint8BufferAttribute",function(){return gt}),n.d(e,"Int8BufferAttribute",function(){return vt}),n.d(e,"BufferAttribute",function(){return mt}),n.d(e,"REVISION",function(){return Zi}),n.d(e,"MOUSE",function(){return Qi}),n.d(e,"CullFaceNone",function(){return Ki}),n.d(e,"CullFaceBack",function(){return Ji}),n.d(e,"CullFaceFront",function(){return $i}),n.d(e,"CullFaceFrontBack",function(){return to}),n.d(e,"FrontFaceDirectionCW",function(){return eo}),n.d(e,"FrontFaceDirectionCCW",function(){return no}),n.d(e,"BasicShadowMap",function(){return ro}),n.d(e,"PCFShadowMap",function(){return io}),n.d(e,"PCFSoftShadowMap",function(){return oo}),n.d(e,"FrontSide",function(){return so}),n.d(e,"BackSide",function(){return ao}),n.d(e,"DoubleSide",function(){return uo}),n.d(e,"FlatShading",function(){return co}),n.d(e,"SmoothShading",function(){return lo}),n.d(e,"NoColors",function(){return po}),n.d(e,"FaceColors",function(){return ho}),n.d(e,"VertexColors",function(){return fo}),n.d(e,"NoBlending",function(){return mo}),n.d(e,"NormalBlending",function(){return vo}),n.d(e,"AdditiveBlending",function(){return go}),n.d(e,"SubtractiveBlending",function(){return yo}),n.d(e,"MultiplyBlending",function(){return _o}),n.d(e,"CustomBlending",function(){return bo}),n.d(e,"AddEquation",function(){return wo}),n.d(e,"SubtractEquation",function(){return xo}),n.d(e,"ReverseSubtractEquation",function(){return Eo}),n.d(e,"MinEquation",function(){return So}),n.d(e,"MaxEquation",function(){return Mo}),n.d(e,"ZeroFactor",function(){return Co}),n.d(e,"OneFactor",function(){return To}),n.d(e,"SrcColorFactor",function(){return Ao}),n.d(e,"OneMinusSrcColorFactor",function(){return Po}),n.d(e,"SrcAlphaFactor",function(){return Ro}),n.d(e,"OneMinusSrcAlphaFactor",function(){return Oo}),n.d(e,"DstAlphaFactor",function(){return Lo}),n.d(e,"OneMinusDstAlphaFactor",function(){return Io}),n.d(e,"DstColorFactor",function(){return No}),n.d(e,"OneMinusDstColorFactor",function(){return Do}),n.d(e,"SrcAlphaSaturateFactor",function(){return ko}),n.d(e,"NeverDepth",function(){return jo}),n.d(e,"AlwaysDepth",function(){return Fo}),n.d(e,"LessDepth",function(){return Uo}),n.d(e,"LessEqualDepth",function(){return Bo}),n.d(e,"EqualDepth",function(){return Vo}),n.d(e,"GreaterEqualDepth",function(){return Ho}),n.d(e,"GreaterDepth",function(){return zo}),n.d(e,"NotEqualDepth",function(){return Go}),n.d(e,"MultiplyOperation",function(){return Wo}),n.d(e,"MixOperation",function(){return qo}),n.d(e,"AddOperation",function(){return Xo}),n.d(e,"NoToneMapping",function(){return Yo}),n.d(e,"LinearToneMapping",function(){return Zo}),n.d(e,"ReinhardToneMapping",function(){return Qo}),n.d(e,"Uncharted2ToneMapping",function(){return Ko}),n.d(e,"CineonToneMapping",function(){return Jo}),n.d(e,"UVMapping",function(){return $o}),n.d(e,"CubeReflectionMapping",function(){return ts}),n.d(e,"CubeRefractionMapping",function(){return es}),n.d(e,"EquirectangularReflectionMapping",function(){return ns}),n.d(e,"EquirectangularRefractionMapping",function(){return rs}),n.d(e,"SphericalReflectionMapping",function(){return is}),n.d(e,"CubeUVReflectionMapping",function(){return os}),n.d(e,"CubeUVRefractionMapping",function(){return ss}),n.d(e,"RepeatWrapping",function(){return as}),n.d(e,"ClampToEdgeWrapping",function(){return us}),n.d(e,"MirroredRepeatWrapping",function(){return cs}),n.d(e,"NearestFilter",function(){return ls}),n.d(e,"NearestMipMapNearestFilter",function(){return ps}),n.d(e,"NearestMipMapLinearFilter",function(){return hs}),n.d(e,"LinearFilter",function(){return fs}),n.d(e,"LinearMipMapNearestFilter",function(){return ds}),n.d(e,"LinearMipMapLinearFilter",function(){return ms}),n.d(e,"UnsignedByteType",function(){return vs}),n.d(e,"ByteType",function(){return gs}),n.d(e,"ShortType",function(){return ys}),n.d(e,"UnsignedShortType",function(){return _s}),n.d(e,"IntType",function(){return bs}),n.d(e,"UnsignedIntType",function(){return ws}),n.d(e,"FloatType",function(){return xs}),n.d(e,"HalfFloatType",function(){return Es}),n.d(e,"UnsignedShort4444Type",function(){return Ss}),n.d(e,"UnsignedShort5551Type",function(){return Ms}),n.d(e,"UnsignedShort565Type",function(){return Cs}),n.d(e,"UnsignedInt248Type",function(){return Ts}),n.d(e,"AlphaFormat",function(){return As}),n.d(e,"RGBFormat",function(){return Ps}),n.d(e,"RGBAFormat",function(){return Rs}),n.d(e,"LuminanceFormat",function(){return Os}),n.d(e,"LuminanceAlphaFormat",function(){return Ls}),n.d(e,"RGBEFormat",function(){return Is}),n.d(e,"DepthFormat",function(){return Ns}),n.d(e,"DepthStencilFormat",function(){return Ds}),n.d(e,"RGB_S3TC_DXT1_Format",function(){return ks}),n.d(e,"RGBA_S3TC_DXT1_Format",function(){return js}),n.d(e,"RGBA_S3TC_DXT3_Format",function(){return Fs}),n.d(e,"RGBA_S3TC_DXT5_Format",function(){return Us}),n.d(e,"RGB_PVRTC_4BPPV1_Format",function(){return Bs}),n.d(e,"RGB_PVRTC_2BPPV1_Format",function(){return Vs}),n.d(e,"RGBA_PVRTC_4BPPV1_Format",function(){return Hs}),n.d(e,"RGBA_PVRTC_2BPPV1_Format",function(){return zs}),n.d(e,"RGB_ETC1_Format",function(){return Gs}),n.d(e,"LoopOnce",function(){return Ws}),n.d(e,"LoopRepeat",function(){return qs}),n.d(e,"LoopPingPong",function(){return Xs}),n.d(e,"InterpolateDiscrete",function(){return Ys}),n.d(e,"InterpolateLinear",function(){return Zs}),n.d(e,"InterpolateSmooth",function(){return Qs}),n.d(e,"ZeroCurvatureEnding",function(){return Ks}),n.d(e,"ZeroSlopeEnding",function(){return Js}),n.d(e,"WrapAroundEnding",function(){return $s}),n.d(e,"TrianglesDrawMode",function(){return ta}),n.d(e,"TriangleStripDrawMode",function(){return ea}),n.d(e,"TriangleFanDrawMode",function(){return na}),n.d(e,"LinearEncoding",function(){return ra}),n.d(e,"sRGBEncoding",function(){return ia}),n.d(e,"GammaEncoding",function(){return oa}),n.d(e,"RGBEEncoding",function(){return sa}),n.d(e,"LogLuvEncoding",function(){return aa}),n.d(e,"RGBM7Encoding",function(){return ua}),n.d(e,"RGBM16Encoding",function(){return ca}),n.d(e,"RGBDEncoding",function(){return la}),n.d(e,"BasicDepthPacking",function(){return pa}),n.d(e,"RGBADepthPacking",function(){return ha}),n.d(e,"CubeGeometry",function(){return Ot}),n.d(e,"Face4",function(){return bi}),n.d(e,"LineStrip",function(){return qc}),n.d(e,"LinePieces",function(){return Xc}),n.d(e,"MeshFaceMaterial",function(){return wi}),n.d(e,"PointCloud",function(){return xi}),n.d(e,"Particle",function(){return Ei}),n.d(e,"ParticleSystem",function(){return Si}),n.d(e,"PointCloudMaterial",function(){return Mi}),n.d(e,"ParticleBasicMaterial",function(){return Ci}),n.d(e,"ParticleSystemMaterial",function(){return Ti}),n.d(e,"Vertex",function(){return Ai}),n.d(e,"DynamicBufferAttribute",function(){return Pi}),n.d(e,"Int8Attribute",function(){return Ri}),n.d(e,"Uint8Attribute",function(){return Oi}),n.d(e,"Uint8ClampedAttribute",function(){return Li}),n.d(e,"Int16Attribute",function(){return Ii}),n.d(e,"Uint16Attribute",function(){return Ni}),n.d(e,"Int32Attribute",function(){return Di}),n.d(e,"Uint32Attribute",function(){return ki}),n.d(e,"Float32Attribute",function(){return ji}),n.d(e,"Float64Attribute",function(){return Fi}),n.d(e,"ClosedSplineCurve3",function(){return Ui}),n.d(e,"SplineCurve3",function(){return Bi}),n.d(e,"Spline",function(){return Vi}),n.d(e,"BoundingBoxHelper",function(){return Hi}),n.d(e,"EdgesHelper",function(){return zi}),n.d(e,"WireframeHelper",function(){return Gi}),n.d(e,"XHRLoader",function(){return Wi}),n.d(e,"BinaryTextureLoader",function(){return qi}),n.d(e,"GeometryUtils",function(){return Yc}),n.d(e,"ImageUtils",function(){return Zc}),n.d(e,"Projector",function(){return Xi}),n.d(e,"CanvasRenderer",function(){return Yi}),void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Math.sign&&(Math.sign=function(t){return t<0?-1:t>0?1:+t}),void 0===Function.prototype.name&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&function(){Object.assign=function(t){if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(void 0!==r&&null!==r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}}(),r.prototype={addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[t]&&(n[t]=[]),n[t].indexOf(e)===-1&&n[t].push(e)},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[t]&&n[t].indexOf(e)!==-1},removeEventListener:function(t,e){if(void 0!==this._listeners){var n=this._listeners,r=n[t];if(void 0!==r){var i=r.indexOf(e);i!==-1&&r.splice(i,1)}}},dispatchEvent:function(t){if(void 0!==this._listeners){var e=this._listeners,n=e[t.type];if(void 0!==n){t.target=this;var r=[],i=0,o=n.length;for(i=0;i<o;i++)r[i]=n[i];for(i=0;i<o;i++)r[i].call(this,t)}}}};var Zi="84",Qi={LEFT:0,MIDDLE:1,RIGHT:2},Ki=0,Ji=1,$i=2,to=3,eo=0,no=1,ro=0,io=1,oo=2,so=0,ao=1,uo=2,co=1,lo=2,po=0,ho=1,fo=2,mo=0,vo=1,go=2,yo=3,_o=4,bo=5,wo=100,xo=101,Eo=102,So=103,Mo=104,Co=200,To=201,Ao=202,Po=203,Ro=204,Oo=205,Lo=206,Io=207,No=208,Do=209,ko=210,jo=0,Fo=1,Uo=2,Bo=3,Vo=4,Ho=5,zo=6,Go=7,Wo=0,qo=1,Xo=2,Yo=0,Zo=1,Qo=2,Ko=3,Jo=4,$o=300,ts=301,es=302,ns=303,rs=304,is=305,os=306,ss=307,as=1e3,us=1001,cs=1002,ls=1003,ps=1004,hs=1005,fs=1006,ds=1007,ms=1008,vs=1009,gs=1010,ys=1011,_s=1012,bs=1013,ws=1014,xs=1015,Es=1016,Ss=1017,Ms=1018,Cs=1019,Ts=1020,As=1021,Ps=1022,Rs=1023,Os=1024,Ls=1025,Is=Rs,Ns=1026,Ds=1027,ks=2001,js=2002,Fs=2003,Us=2004,Bs=2100,Vs=2101,Hs=2102,zs=2103,Gs=2151,Ws=2200,qs=2201,Xs=2202,Ys=2300,Zs=2301,Qs=2302,Ks=2400,Js=2401,$s=2402,ta=0,ea=1,na=2,ra=3e3,ia=3001,oa=3007,sa=3002,aa=3003,ua=3004,ca=3005,la=3006,pa=3200,ha=3201,fa={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var t,e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),n=new Array(36),r=0;return function(){for(var i=0;i<36;i++)8===i||13===i||18===i||23===i?n[i]="-":14===i?n[i]="4":(r<=2&&(r=33554432+16777216*Math.random()|0),t=15&r,r>>=4,n[i]=e[19===i?3&t|8:t]);return n.join("")}}(),clamp:function(t,e,n){return Math.max(e,Math.min(n,t))},euclideanModulo:function(t,e){return(t%e+e)%e},mapLinear:function(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)},lerp:function(t,e,n){return(1-n)*t+n*e},smoothstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*(3-2*t)},smootherstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},degToRad:function(t){return t*fa.DEG2RAD},radToDeg:function(t){return t*fa.RAD2DEG},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},nearestPowerOfTwo:function(t){return Math.pow(2,Math.round(Math.log(t)/Math.LN2))},nextPowerOfTwo:function(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,++t}};i.prototype={constructor:i,isVector2:!0,get width(){return this.x},set width(t){this.x=t},get height(){return this.y},set height(t){this.y=t},set:function(t,e){return this.x=t,this.y=e,this},setScalar:function(t){return this.x=t,this.y=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(t){return this.x=t.x,this.y=t.y,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)},addScalar:function(t){return this.x+=t,this.y+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)},subScalar:function(t){return this.x-=t,this.y-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},multiplyScalar:function(t){return isFinite(t)?(this.x*=t,this.y*=t):(this.x=0,this.y=0),this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this},clampScalar:function(){var t,e;return function(n,r){return void 0===t&&(t=new i,e=new i),t.set(n,n),e.set(r,r),this.clamp(t,e)}}(),clampLength:function(t,e){var n=this.length();return this.multiplyScalar(Math.max(t,Math.min(e,n))/n)},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(t){return this.x*t.x+this.y*t.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length())},angle:function(){var t=Math.atan2(this.y,this.x);return t<0&&(t+=2*Math.PI),t},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n},distanceToManhattan:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)},setLength:function(t){return this.multiplyScalar(t/this.length())},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this},rotateAround:function(t,e){var n=Math.cos(e),r=Math.sin(e),i=this.x-t.x,o=this.y-t.y;return this.x=i*n-o*r+t.x,this.y=i*r+o*n+t.y,this}};var da=0;o.DEFAULT_IMAGE=void 0,o.DEFAULT_MAPPING=$o,o.prototype={constructor:o,isTexture:!0,set needsUpdate(t){t===!0&&this.version++},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this},toJSON:function(t){function e(t){var e;return void 0!==t.toDataURL?e=t:(e=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),e.width=t.width,e.height=t.height,e.getContext("2d").drawImage(t,0,0,t.width,t.height)),e.width>2048||e.height>2048?e.toDataURL("image/jpeg",.6):e.toDataURL("image/png")}if(void 0!==t.textures[this.uuid])return t.textures[this.uuid];var n={metadata:{version:4.4,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],wrap:[this.wrapS,this.wrapT],minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY};if(void 0!==this.image){var r=this.image;void 0===r.uuid&&(r.uuid=fa.generateUUID()),void 0===t.images[r.uuid]&&(t.images[r.uuid]={uuid:r.uuid,url:e(r)}),n.image=r.uuid}return t.textures[this.uuid]=n,n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(t){if(this.mapping===$o){if(t.multiply(this.repeat),t.add(this.offset),t.x<0||t.x>1)switch(this.wrapS){case as:t.x=t.x-Math.floor(t.x);break;case us:t.x=t.x<0?0:1;break;case cs:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case as:t.y=t.y-Math.floor(t.y);break;case us:t.y=t.y<0?0:1;break;case cs:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}this.flipY&&(t.y=1-t.y)}}},Object.assign(o.prototype,r.prototype),s.prototype={constructor:s,isVector4:!0,set:function(t,e,n,r){return this.x=t,this.y=e,this.z=n,this.w=r,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this.w=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setW:function(t){return this.w=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this},multiplyScalar:function(t){return isFinite(t)?(this.x*=t,this.y*=t,this.z*=t,this.w*=t):(this.x=0,this.y=0,this.z=0,this.w=0),this},applyMatrix4:function(t){var e=this.x,n=this.y,r=this.z,i=this.w,o=t.elements;return this.x=o[0]*e+o[4]*n+o[8]*r+o[12]*i,this.y=o[1]*e+o[5]*n+o[9]*r+o[13]*i,this.z=o[2]*e+o[6]*n+o[10]*r+o[14]*i,this.w=o[3]*e+o[7]*n+o[11]*r+o[15]*i,this},divideScalar:function(t){return this.multiplyScalar(1/t)},setAxisAngleFromQuaternion:function(t){this.w=2*Math.acos(t.w);var e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this},setAxisAngleFromRotationMatrix:function(t){var e,n,r,i,o=.01,s=.1,a=t.elements,u=a[0],c=a[4],l=a[8],p=a[1],h=a[5],f=a[9],d=a[2],m=a[6],v=a[10];if(Math.abs(c-p)<o&&Math.abs(l-d)<o&&Math.abs(f-m)<o){if(Math.abs(c+p)<s&&Math.abs(l+d)<s&&Math.abs(f+m)<s&&Math.abs(u+h+v-3)<s)return this.set(1,0,0,0),this;e=Math.PI;var g=(u+1)/2,y=(h+1)/2,_=(v+1)/2,b=(c+p)/4,w=(l+d)/4,x=(f+m)/4;return g>y&&g>_?g<o?(n=0,r=.707106781,i=.707106781):(n=Math.sqrt(g),r=b/n,i=w/n):y>_?y<o?(n=.707106781,r=0,i=.707106781):(r=Math.sqrt(y),n=b/r,i=x/r):_<o?(n=.707106781,r=.707106781,i=0):(i=Math.sqrt(_),n=w/i,r=x/i),this.set(n,r,i,e),this}var E=Math.sqrt((m-f)*(m-f)+(l-d)*(l-d)+(p-c)*(p-c));return Math.abs(E)<.001&&(E=1),this.x=(m-f)/E,this.y=(l-d)/E,this.z=(p-c)/E,this.w=Math.acos((u+h+v-1)/2),this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this},clampScalar:function(){var t,e;return function(n,r){return void 0===t&&(t=new s,e=new s),t.set(n,n,n,n),e.set(r,r,r,r),this.clamp(t,e)}}(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length())},setLength:function(t){return this.multiplyScalar(t/this.length())},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}},a.prototype={constructor:a,isWebGLRenderTarget:!0,setSize:function(t,e){this.width===t&&this.height===e||(this.width=t,this.height=e,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.width=t.width,this.height=t.height,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}},Object.assign(a.prototype,r.prototype),u.prototype=Object.create(a.prototype),u.prototype.constructor=u,u.prototype.isWebGLRenderTargetCube=!0,c.prototype={constructor:c,get x(){return this._x},set x(t){this._x=t,this.onChangeCallback()},get y(){return this._y},set y(t){this._y=t,this.onChangeCallback()},get z(){return this._z},set z(t){this._z=t,this.onChangeCallback()},get w(){return this._w},set w(t){this._w=t,this.onChangeCallback()},set:function(t,e,n,r){return this._x=t,this._y=e,this._z=n,this._w=r,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this.onChangeCallback(),this},setFromEuler:function(t,e){if((t&&t.isEuler)===!1)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=Math.cos(t._x/2),r=Math.cos(t._y/2),i=Math.cos(t._z/2),o=Math.sin(t._x/2),s=Math.sin(t._y/2),a=Math.sin(t._z/2),u=t.order;return"XYZ"===u?(this._x=o*r*i+n*s*a,this._y=n*s*i-o*r*a,this._z=n*r*a+o*s*i,this._w=n*r*i-o*s*a):"YXZ"===u?(this._x=o*r*i+n*s*a,this._y=n*s*i-o*r*a,this._z=n*r*a-o*s*i,this._w=n*r*i+o*s*a):"ZXY"===u?(this._x=o*r*i-n*s*a,this._y=n*s*i+o*r*a,this._z=n*r*a+o*s*i,this._w=n*r*i-o*s*a):"ZYX"===u?(this._x=o*r*i-n*s*a,this._y=n*s*i+o*r*a,this._z=n*r*a-o*s*i,this._w=n*r*i+o*s*a):"YZX"===u?(this._x=o*r*i+n*s*a,this._y=n*s*i+o*r*a,this._z=n*r*a-o*s*i,this._w=n*r*i-o*s*a):"XZY"===u&&(this._x=o*r*i-n*s*a,this._y=n*s*i-o*r*a,this._z=n*r*a+o*s*i,this._w=n*r*i+o*s*a),e!==!1&&this.onChangeCallback(),this},setFromAxisAngle:function(t,e){var n=e/2,r=Math.sin(n);return this._x=t.x*r,this._y=t.y*r,this._z=t.z*r,this._w=Math.cos(n),this.onChangeCallback(),this},setFromRotationMatrix:function(t){var e,n=t.elements,r=n[0],i=n[4],o=n[8],s=n[1],a=n[5],u=n[9],c=n[2],l=n[6],p=n[10],h=r+a+p;return h>0?(e=.5/Math.sqrt(h+1),this._w=.25/e,this._x=(l-u)*e,this._y=(o-c)*e,this._z=(s-i)*e):r>a&&r>p?(e=2*Math.sqrt(1+r-a-p),this._w=(l-u)/e,this._x=.25*e,this._y=(i+s)/e,this._z=(o+c)/e):a>p?(e=2*Math.sqrt(1+a-r-p),this._w=(o-c)/e,this._x=(i+s)/e,this._y=.25*e,this._z=(u+l)/e):(e=2*Math.sqrt(1+p-r-a),this._w=(s-i)/e,this._x=(o+c)/e,this._y=(u+l)/e,this._z=.25*e),this.onChangeCallback(),this},setFromUnitVectors:function(){var t,e;return function(n,r){return void 0===t&&(t=new l),e=n.dot(r)+1,e<1e-6?(e=0,Math.abs(n.x)>Math.abs(n.z)?t.set(-n.y,n.x,0):t.set(0,-n.z,n.y)):t.crossVectors(n,r),this._x=t.x,this._y=t.y,this._z=t.z,this._w=e,this.normalize()}}(),inverse:function(){return this.conjugate().normalize()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this.onChangeCallback(),this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)},premultiply:function(t){return this.multiplyQuaternions(t,this)},multiplyQuaternions:function(t,e){var n=t._x,r=t._y,i=t._z,o=t._w,s=e._x,a=e._y,u=e._z,c=e._w;return this._x=n*c+o*s+r*u-i*a,this._y=r*c+o*a+i*s-n*u,this._z=i*c+o*u+n*a-r*s,this._w=o*c-n*s-r*a-i*u,this.onChangeCallback(),this},slerp:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var n=this._x,r=this._y,i=this._z,o=this._w,s=o*t._w+n*t._x+r*t._y+i*t._z;if(s<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,s=-s):this.copy(t),s>=1)return this._w=o,this._x=n,this._y=r,this._z=i,this;var a=Math.sqrt(1-s*s);if(Math.abs(a)<.001)return this._w=.5*(o+this._w),this._x=.5*(n+this._x),this._y=.5*(r+this._y),this._z=.5*(i+this._z),this;var u=Math.atan2(a,s),c=Math.sin((1-e)*u)/a,l=Math.sin(e*u)/a;return this._w=o*c+this._w*l,this._x=n*c+this._x*l,this._y=r*c+this._y*l,this._z=i*c+this._z*l,this.onChangeCallback(),this},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},fromArray:function(t,e){return void 0===e&&(e=0),this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}},Object.assign(c,{slerp:function(t,e,n,r){return n.copy(t).slerp(e,r)},slerpFlat:function(t,e,n,r,i,o,s){var a=n[r+0],u=n[r+1],c=n[r+2],l=n[r+3],p=i[o+0],h=i[o+1],f=i[o+2],d=i[o+3];if(l!==d||a!==p||u!==h||c!==f){var m=1-s,v=a*p+u*h+c*f+l*d,g=v>=0?1:-1,y=1-v*v;if(y>Number.EPSILON){var _=Math.sqrt(y),b=Math.atan2(_,v*g);m=Math.sin(m*b)/_,s=Math.sin(s*b)/_}var w=s*g;if(a=a*m+p*w,u=u*m+h*w,c=c*m+f*w,l=l*m+d*w,m===1-s){var x=1/Math.sqrt(a*a+u*u+c*c+l*l);a*=x,u*=x,c*=x,l*=x}}t[e]=a,t[e+1]=u,t[e+2]=c,t[e+3]=l}}),l.prototype={constructor:l,isVector3:!0,set:function(t,e,n){return this.x=t,this.y=e,this.z=n,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)},multiplyScalar:function(t){return isFinite(t)?(this.x*=t,this.y*=t,this.z*=t):(this.x=0,this.y=0,this.z=0),this},multiplyVectors:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this},applyEuler:function(){var t;return function(e){return(e&&e.isEuler)===!1&&console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),void 0===t&&(t=new c),this.applyQuaternion(t.setFromEuler(e))}}(),applyAxisAngle:function(){var t;return function(e,n){return void 0===t&&(t=new c),this.applyQuaternion(t.setFromAxisAngle(e,n))}}(),applyMatrix3:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements;return this.x=i[0]*e+i[3]*n+i[6]*r,this.y=i[1]*e+i[4]*n+i[7]*r,this.z=i[2]*e+i[5]*n+i[8]*r,this},applyMatrix4:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements;this.x=i[0]*e+i[4]*n+i[8]*r+i[12],this.y=i[1]*e+i[5]*n+i[9]*r+i[13],this.z=i[2]*e+i[6]*n+i[10]*r+i[14];var o=i[3]*e+i[7]*n+i[11]*r+i[15];return this.divideScalar(o)},applyQuaternion:function(t){var e=this.x,n=this.y,r=this.z,i=t.x,o=t.y,s=t.z,a=t.w,u=a*e+o*r-s*n,c=a*n+s*e-i*r,l=a*r+i*n-o*e,p=-i*e-o*n-s*r;return this.x=u*a+p*-i+c*-s-l*-o,this.y=c*a+p*-o+l*-i-u*-s,this.z=l*a+p*-s+u*-o-c*-i,this},project:function(){var t;return function(e){return void 0===t&&(t=new p),t.multiplyMatrices(e.projectionMatrix,t.getInverse(e.matrixWorld)),this.applyMatrix4(t)}}(),unproject:function(){var t;return function(e){return void 0===t&&(t=new p),t.multiplyMatrices(e.matrixWorld,t.getInverse(e.projectionMatrix)),this.applyMatrix4(t)}}(),transformDirection:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements;return this.x=i[0]*e+i[4]*n+i[8]*r,this.y=i[1]*e+i[5]*n+i[9]*r,this.z=i[2]*e+i[6]*n+i[10]*r,this.normalize()},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this},clampScalar:function(){var t,e;return function(n,r){return void 0===t&&(t=new l,e=new l),t.set(n,n,n),e.set(r,r,r),this.clamp(t,e)}}(),clampLength:function(t,e){var n=this.length();return this.multiplyScalar(Math.max(t,Math.min(e,n))/n)},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(t){return this.multiplyScalar(t/this.length())},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},cross:function(t,e){if(void 0!==e)return console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e);var n=this.x,r=this.y,i=this.z;return this.x=r*t.z-i*t.y,this.y=i*t.x-n*t.z,this.z=n*t.y-r*t.x,this},crossVectors:function(t,e){var n=t.x,r=t.y,i=t.z,o=e.x,s=e.y,a=e.z;return this.x=r*a-i*s,this.y=i*o-n*a,this.z=n*s-r*o,this},projectOnVector:function(t){var e=t.dot(this)/t.lengthSq();return this.copy(t).multiplyScalar(e)},projectOnPlane:function(){var t;return function(e){return void 0===t&&(t=new l),t.copy(this).projectOnVector(e),this.sub(t)}}(),reflect:function(){var t;return function(e){return void 0===t&&(t=new l),this.sub(t.copy(e).multiplyScalar(2*this.dot(e)))}}(),angleTo:function(t){var e=this.dot(t)/Math.sqrt(this.lengthSq()*t.lengthSq());return Math.acos(fa.clamp(e,-1,1))},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,n=this.y-t.y,r=this.z-t.z;return e*e+n*n+r*r},distanceToManhattan:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)},setFromSpherical:function(t){var e=Math.sin(t.phi)*t.radius;return this.x=e*Math.sin(t.theta),this.y=Math.cos(t.phi)*t.radius,this.z=e*Math.cos(t.theta),this},setFromCylindrical:function(t){return this.x=t.radius*Math.sin(t.theta),this.y=t.y,this.z=t.radius*Math.cos(t.theta),this},setFromMatrixPosition:function(t){return this.setFromMatrixColumn(t,3)},setFromMatrixScale:function(t){var e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),r=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=r,this},setFromMatrixColumn:function(t,e){if("number"==typeof t){console.warn("THREE.Vector3: setFromMatrixColumn now expects ( matrix, index ).");var n=t;t=e,e=n}return this.fromArray(t.elements,4*e)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}},p.prototype={constructor:p,isMatrix4:!0,set:function(t,e,n,r,i,o,s,a,u,c,l,p,h,f,d,m){var v=this.elements;return v[0]=t,v[4]=e,v[8]=n,v[12]=r,v[1]=i,v[5]=o,v[9]=s,v[13]=a,v[2]=u,v[6]=c,v[10]=l,v[14]=p,v[3]=h,v[7]=f,v[11]=d,v[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new p).fromArray(this.elements)},copy:function(t){return this.elements.set(t.elements),this},copyPosition:function(t){var e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this},extractBasis:function(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this},extractRotation:function(){var t;return function(e){void 0===t&&(t=new l);var n=this.elements,r=e.elements,i=1/t.setFromMatrixColumn(e,0).length(),o=1/t.setFromMatrixColumn(e,1).length(),s=1/t.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[4]=r[4]*o,n[5]=r[5]*o,n[6]=r[6]*o,n[8]=r[8]*s,n[9]=r[9]*s,n[10]=r[10]*s,this}}(),makeRotationFromEuler:function(t){(t&&t.isEuler)===!1&&console.error("THREE.Matrix: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var e=this.elements,n=t.x,r=t.y,i=t.z,o=Math.cos(n),s=Math.sin(n),a=Math.cos(r),u=Math.sin(r),c=Math.cos(i),l=Math.sin(i);if("XYZ"===t.order){var p=o*c,h=o*l,f=s*c,d=s*l;e[0]=a*c,e[4]=-a*l,e[8]=u,e[1]=h+f*u,e[5]=p-d*u,e[9]=-s*a,e[2]=d-p*u,e[6]=f+h*u,e[10]=o*a}else if("YXZ"===t.order){var m=a*c,v=a*l,g=u*c,y=u*l;e[0]=m+y*s,e[4]=g*s-v,e[8]=o*u,e[1]=o*l,e[5]=o*c,e[9]=-s,e[2]=v*s-g,e[6]=y+m*s,e[10]=o*a}else if("ZXY"===t.order){var m=a*c,v=a*l,g=u*c,y=u*l;e[0]=m-y*s,e[4]=-o*l,e[8]=g+v*s,e[1]=v+g*s,e[5]=o*c,e[9]=y-m*s,e[2]=-o*u,e[6]=s,e[10]=o*a}else if("ZYX"===t.order){var p=o*c,h=o*l,f=s*c,d=s*l;e[0]=a*c,e[4]=f*u-h,e[8]=p*u+d,e[1]=a*l,e[5]=d*u+p,e[9]=h*u-f,e[2]=-u,e[6]=s*a,e[10]=o*a}else if("YZX"===t.order){var _=o*a,b=o*u,w=s*a,x=s*u;e[0]=a*c,e[4]=x-_*l,e[8]=w*l+b,e[1]=l,e[5]=o*c,e[9]=-s*c,e[2]=-u*c,e[6]=b*l+w,e[10]=_-x*l}else if("XZY"===t.order){var _=o*a,b=o*u,w=s*a,x=s*u;e[0]=a*c,e[4]=-l,e[8]=u*c,e[1]=_*l+x,e[5]=o*c,e[9]=b*l-w,e[2]=w*l-b,e[6]=s*c,e[10]=x*l+_}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},makeRotationFromQuaternion:function(t){var e=this.elements,n=t.x,r=t.y,i=t.z,o=t.w,s=n+n,a=r+r,u=i+i,c=n*s,l=n*a,p=n*u,h=r*a,f=r*u,d=i*u,m=o*s,v=o*a,g=o*u;return e[0]=1-(h+d),e[4]=l-g,e[8]=p+v,e[1]=l+g,e[5]=1-(c+d),e[9]=f-m,e[2]=p-v,e[6]=f+m,e[10]=1-(c+h),e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},lookAt:function(){var t,e,n;return function(r,i,o){void 0===t&&(t=new l,e=new l,n=new l);var s=this.elements;return n.subVectors(r,i).normalize(),0===n.lengthSq()&&(n.z=1),t.crossVectors(o,n).normalize(),0===t.lengthSq()&&(n.z+=1e-4,t.crossVectors(o,n).normalize()),e.crossVectors(n,t),s[0]=t.x,s[4]=e.x,s[8]=n.x,s[1]=t.y,s[5]=e.y,s[9]=n.y,s[2]=t.z,s[6]=e.z,s[10]=n.z,this}}(),multiply:function(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var n=t.elements,r=e.elements,i=this.elements,o=n[0],s=n[4],a=n[8],u=n[12],c=n[1],l=n[5],p=n[9],h=n[13],f=n[2],d=n[6],m=n[10],v=n[14],g=n[3],y=n[7],_=n[11],b=n[15],w=r[0],x=r[4],E=r[8],S=r[12],M=r[1],C=r[5],T=r[9],A=r[13],P=r[2],R=r[6],O=r[10],L=r[14],I=r[3],N=r[7],D=r[11],k=r[15];return i[0]=o*w+s*M+a*P+u*I,i[4]=o*x+s*C+a*R+u*N,i[8]=o*E+s*T+a*O+u*D,i[12]=o*S+s*A+a*L+u*k,i[1]=c*w+l*M+p*P+h*I,i[5]=c*x+l*C+p*R+h*N,i[9]=c*E+l*T+p*O+h*D,i[13]=c*S+l*A+p*L+h*k,i[2]=f*w+d*M+m*P+v*I,i[6]=f*x+d*C+m*R+v*N,i[10]=f*E+d*T+m*O+v*D,i[14]=f*S+d*A+m*L+v*k,i[3]=g*w+y*M+_*P+b*I,i[7]=g*x+y*C+_*R+b*N,i[11]=g*E+y*T+_*O+b*D,i[15]=g*S+y*A+_*L+b*k,this},multiplyToArray:function(t,e,n){var r=this.elements;return this.multiplyMatrices(t,e),n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this},applyToBufferAttribute:function(){var t;return function(e){void 0===t&&(t=new l);for(var n=0,r=e.count;n<r;n++)t.x=e.getX(n),t.y=e.getY(n),t.z=e.getZ(n),t.applyMatrix4(this),e.setXYZ(n,t.x,t.y,t.z);return e}}(),determinant:function(){var t=this.elements,e=t[0],n=t[4],r=t[8],i=t[12],o=t[1],s=t[5],a=t[9],u=t[13],c=t[2],l=t[6],p=t[10],h=t[14];return t[3]*(+i*a*l-r*u*l-i*s*p+n*u*p+r*s*h-n*a*h)+t[7]*(+e*a*h-e*u*p+i*o*p-r*o*h+r*u*c-i*a*c)+t[11]*(+e*u*l-e*s*h-i*o*l+n*o*h+i*s*c-n*u*c)+t[15]*(-r*s*c-e*a*l+e*s*p+r*o*l-n*o*p+n*a*c)},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},setPosition:function(t){var e=this.elements;return e[12]=t.x,e[13]=t.y,e[14]=t.z,this},getInverse:function(t,e){var n=this.elements,r=t.elements,i=r[0],o=r[1],s=r[2],a=r[3],u=r[4],c=r[5],l=r[6],p=r[7],h=r[8],f=r[9],d=r[10],m=r[11],v=r[12],g=r[13],y=r[14],_=r[15],b=f*y*p-g*d*p+g*l*m-c*y*m-f*l*_+c*d*_,w=v*d*p-h*y*p-v*l*m+u*y*m+h*l*_-u*d*_,x=h*g*p-v*f*p+v*c*m-u*g*m-h*c*_+u*f*_,E=v*f*l-h*g*l-v*c*d+u*g*d+h*c*y-u*f*y,S=i*b+o*w+s*x+a*E;if(0===S){var M="THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0";if(e===!0)throw new Error(M);return console.warn(M),this.identity()}var C=1/S;return n[0]=b*C,n[1]=(g*d*a-f*y*a-g*s*m+o*y*m+f*s*_-o*d*_)*C,n[2]=(c*y*a-g*l*a+g*s*p-o*y*p-c*s*_+o*l*_)*C,n[3]=(f*l*a-c*d*a-f*s*p+o*d*p+c*s*m-o*l*m)*C,n[4]=w*C,n[5]=(h*y*a-v*d*a+v*s*m-i*y*m-h*s*_+i*d*_)*C,n[6]=(v*l*a-u*y*a-v*s*p+i*y*p+u*s*_-i*l*_)*C,n[7]=(u*d*a-h*l*a+h*s*p-i*d*p-u*s*m+i*l*m)*C,n[8]=x*C,n[9]=(v*f*a-h*g*a-v*o*m+i*g*m+h*o*_-i*f*_)*C,n[10]=(u*g*a-v*c*a+v*o*p-i*g*p-u*o*_+i*c*_)*C,n[11]=(h*c*a-u*f*a-h*o*p+i*f*p+u*o*m-i*c*m)*C,n[12]=E*C,n[13]=(h*g*s-v*f*s+v*o*d-i*g*d-h*o*y+i*f*y)*C,n[14]=(v*c*s-u*g*s-v*o*l+i*g*l+u*o*y-i*c*y)*C,n[15]=(u*f*s-h*c*s+h*o*l-i*f*l-u*o*d+i*c*d)*C,this},scale:function(t){var e=this.elements,n=t.x,r=t.y,i=t.z;return e[0]*=n,e[4]*=r,e[8]*=i,e[1]*=n,e[5]*=r,e[9]*=i,e[2]*=n,e[6]*=r,e[10]*=i,e[3]*=n,e[7]*=r,e[11]*=i,this},getMaxScaleOnAxis:function(){var t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],r=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,n,r))},makeTranslation:function(t,e,n){return this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this},makeRotationX:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1),this},makeRotationY:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1),this},makeRotationZ:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(t,e){var n=Math.cos(e),r=Math.sin(e),i=1-n,o=t.x,s=t.y,a=t.z,u=i*o,c=i*s;return this.set(u*o+n,u*s-r*a,u*a+r*s,0,u*s+r*a,c*s+n,c*a-r*o,0,u*a-r*s,c*a+r*o,i*a*a+n,0,0,0,0,1),this},makeScale:function(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(t,e,n){return this.set(1,e,n,0,t,1,n,0,t,e,1,0,0,0,0,1),this},compose:function(t,e,n){return this.makeRotationFromQuaternion(e),this.scale(n),this.setPosition(t),this},decompose:function(){var t,e;return function(n,r,i){void 0===t&&(t=new l,e=new p);var o=this.elements,s=t.set(o[0],o[1],o[2]).length(),a=t.set(o[4],o[5],o[6]).length(),u=t.set(o[8],o[9],o[10]).length();this.determinant()<0&&(s=-s),n.x=o[12],n.y=o[13],n.z=o[14],e.elements.set(this.elements);var c=1/s,h=1/a,f=1/u;return e.elements[0]*=c,e.elements[1]*=c,e.elements[2]*=c,e.elements[4]*=h,e.elements[5]*=h,e.elements[6]*=h,e.elements[8]*=f,e.elements[9]*=f,e.elements[10]*=f,r.setFromRotationMatrix(e),i.x=s,i.y=a,i.z=u,this}}(),makePerspective:function(t,e,n,r,i,o){void 0===o&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var s=this.elements,a=2*i/(e-t),u=2*i/(n-r),c=(e+t)/(e-t),l=(n+r)/(n-r),p=-(o+i)/(o-i),h=-2*o*i/(o-i);return s[0]=a,s[4]=0,s[8]=c,s[12]=0,s[1]=0,s[5]=u,s[9]=l,s[13]=0,s[2]=0,s[6]=0,s[10]=p,s[14]=h,s[3]=0,s[7]=0,s[11]=-1,s[15]=0,this},makeOrthographic:function(t,e,n,r,i,o){var s=this.elements,a=1/(e-t),u=1/(n-r),c=1/(o-i),l=(e+t)*a,p=(n+r)*u,h=(o+i)*c;return s[0]=2*a,s[4]=0,s[8]=0,s[12]=-l,s[1]=0,s[5]=2*u,s[9]=0,s[13]=-p,s[2]=0,s[6]=0,s[10]=-2*c,s[14]=-h,s[3]=0,s[7]=0,s[11]=0,s[15]=1,this},equals:function(t){for(var e=this.elements,n=t.elements,r=0;r<16;r++)if(e[r]!==n[r])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var n=0;n<16;n++)this.elements[n]=t[n+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}},h.prototype=Object.create(o.prototype),h.prototype.constructor=h,h.prototype.isCubeTexture=!0,Object.defineProperty(h.prototype,"images",{get:function(){return this.image},set:function(t){this.image=t}});var ma=new o,va=new h,ga=[],ya=[];z.prototype.setValue=function(t,e){for(var n=this.seq,r=0,i=n.length;r!==i;++r){var o=n[r];o.setValue(t,e[o.id])}};var _a=/([\w\d_]+)(\])?(\[|\.)?/g;q.prototype.setValue=function(t,e,n){var r=this.map[e];void 0!==r&&r.setValue(t,n,this.renderer)},q.prototype.set=function(t,e,n){var r=this.map[n];void 0!==r&&r.setValue(t,e[n],this.renderer)},q.prototype.setOptional=function(t,e,n){var r=e[n];void 0!==r&&this.setValue(t,n,r)},q.upload=function(t,e,n,r){for(var i=0,o=e.length;i!==o;++i){var s=e[i],a=n[s.id];a.needsUpdate!==!1&&s.setValue(t,a.value,r)}},q.seqWithValue=function(t,e){for(var n=[],r=0,i=t.length;r!==i;++r){var o=t[r];o.id in e&&n.push(o)}return n};var ba={merge:function(t){for(var e={},n=0;n<t.length;n++){var r=this.clone(t[n]);for(var i in r)e[i]=r[i]}return e},clone:function(t){var e={};for(var n in t){e[n]={};for(var r in t[n]){var i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture)?e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}},wa="#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n",xa="#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n",Ea="#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n",Sa="#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n",Ma="#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",Ca="\nvec3 transformed = vec3( position );\n",Ta="\nvec3 objectNormal = vec3( normal );\n",Aa="float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t\tif( decayExponent > 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\t\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n#else\n\t\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n\t\t}\n\t\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 ltcTextureCoords( const in GeometricContext geometry, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = (LUT_SIZE - 1.0)/LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5/LUT_SIZE;\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 P = geometry.position;\n\tfloat theta = acos( dot( N, V ) );\n\tvec2 uv = vec2(\n\t\tsqrt( saturate( roughness ) ),\n\t\tsaturate( theta / ( 0.5 * PI ) ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nvoid clipQuadToHorizon( inout vec3 L[5], out int n ) {\n\tint config = 0;\n\tif ( L[0].z > 0.0 ) config += 1;\n\tif ( L[1].z > 0.0 ) config += 2;\n\tif ( L[2].z > 0.0 ) config += 4;\n\tif ( L[3].z > 0.0 ) config += 8;\n\tn = 0;\n\tif ( config == 0 ) {\n\t} else if ( config == 1 ) {\n\t\tn = 3;\n\t\tL[1] = -L[1].z * L[0] + L[0].z * L[1];\n\t\tL[2] = -L[3].z * L[0] + L[0].z * L[3];\n\t} else if ( config == 2 ) {\n\t\tn = 3;\n\t\tL[0] = -L[0].z * L[1] + L[1].z * L[0];\n\t\tL[2] = -L[2].z * L[1] + L[1].z * L[2];\n\t} else if ( config == 3 ) {\n\t\tn = 4;\n\t\tL[2] = -L[2].z * L[1] + L[1].z * L[2];\n\t\tL[3] = -L[3].z * L[0] + L[0].z * L[3];\n\t} else if ( config == 4 ) {\n\t\tn = 3;\n\t\tL[0] = -L[3].z * L[2] + L[2].z * L[3];\n\t\tL[1] = -L[1].z * L[2] + L[2].z * L[1];\n\t} else if ( config == 5 ) {\n\t\tn = 0;\n\t} else if ( config == 6 ) {\n\t\tn = 4;\n\t\tL[0] = -L[0].z * L[1] + L[1].z * L[0];\n\t\tL[3] = -L[3].z * L[2] + L[2].z * L[3];\n\t} else if ( config == 7 ) {\n\t\tn = 5;\n\t\tL[4] = -L[3].z * L[0] + L[0].z * L[3];\n\t\tL[3] = -L[3].z * L[2] + L[2].z * L[3];\n\t} else if ( config == 8 ) {\n\t\tn = 3;\n\t\tL[0] = -L[0].z * L[3] + L[3].z * L[0];\n\t\tL[1] = -L[2].z * L[3] + L[3].z * L[2];\n\t\tL[2] =  L[3];\n\t} else if ( config == 9 ) {\n\t\tn = 4;\n\t\tL[1] = -L[1].z * L[0] + L[0].z * L[1];\n\t\tL[2] = -L[2].z * L[3] + L[3].z * L[2];\n\t} else if ( config == 10 ) {\n\t\tn = 0;\n\t} else if ( config == 11 ) {\n\t\tn = 5;\n\t\tL[4] = L[3];\n\t\tL[3] = -L[2].z * L[3] + L[3].z * L[2];\n\t\tL[2] = -L[2].z * L[1] + L[1].z * L[2];\n\t} else if ( config == 12 ) {\n\t\tn = 4;\n\t\tL[1] = -L[1].z * L[2] + L[2].z * L[1];\n\t\tL[0] = -L[0].z * L[3] + L[3].z * L[0];\n\t} else if ( config == 13 ) {\n\t\tn = 5;\n\t\tL[4] = L[3];\n\t\tL[3] = L[2];\n\t\tL[2] = -L[1].z * L[2] + L[2].z * L[1];\n\t\tL[1] = -L[1].z * L[0] + L[0].z * L[1];\n\t} else if ( config == 14 ) {\n\t\tn = 5;\n\t\tL[4] = -L[0].z * L[3] + L[3].z * L[0];\n\t\tL[0] = -L[0].z * L[1] + L[1].z * L[0];\n\t} else if ( config == 15 ) {\n\t\tn = 4;\n\t}\n\tif ( n == 3 )\n\t\tL[3] = L[0];\n\tif ( n == 4 )\n\t\tL[4] = L[0];\n}\nfloat integrateLtcBrdfOverRectEdge( vec3 v1, vec3 v2 ) {\n\tfloat cosTheta = dot( v1, v2 );\n\tfloat theta = acos( cosTheta );\n\tfloat res = cross( v1, v2 ).z * ( ( theta > 0.001 ) ? theta / sin( theta ) : 1.0 );\n\treturn res;\n}\nvoid initRectPoints( const in vec3 pos, const in vec3 halfWidth, const in vec3 halfHeight, out vec3 rectPoints[4] ) {\n\trectPoints[0] = pos - halfWidth - halfHeight;\n\trectPoints[1] = pos + halfWidth - halfHeight;\n\trectPoints[2] = pos + halfWidth + halfHeight;\n\trectPoints[3] = pos - halfWidth + halfHeight;\n}\nvec3 integrateLtcBrdfOverRect( const in GeometricContext geometry, const in mat3 brdfMat, const in vec3 rectPoints[4] ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 P = geometry.position;\n\tvec3 T1, T2;\n\tT1 = normalize(V - N * dot( V, N ));\n\tT2 = - cross( N, T1 );\n\tmat3 brdfWrtSurface = brdfMat * transpose( mat3( T1, T2, N ) );\n\tvec3 clippedRect[5];\n\tclippedRect[0] = brdfWrtSurface * ( rectPoints[0] - P );\n\tclippedRect[1] = brdfWrtSurface * ( rectPoints[1] - P );\n\tclippedRect[2] = brdfWrtSurface * ( rectPoints[2] - P );\n\tclippedRect[3] = brdfWrtSurface * ( rectPoints[3] - P );\n\tint n;\n\tclipQuadToHorizon(clippedRect, n);\n\tif ( n == 0 )\n\t\treturn vec3( 0, 0, 0 );\n\tclippedRect[0] = normalize( clippedRect[0] );\n\tclippedRect[1] = normalize( clippedRect[1] );\n\tclippedRect[2] = normalize( clippedRect[2] );\n\tclippedRect[3] = normalize( clippedRect[3] );\n\tclippedRect[4] = normalize( clippedRect[4] );\n\tfloat sum = 0.0;\n\tsum += integrateLtcBrdfOverRectEdge( clippedRect[0], clippedRect[1] );\n\tsum += integrateLtcBrdfOverRectEdge( clippedRect[1], clippedRect[2] );\n\tsum += integrateLtcBrdfOverRectEdge( clippedRect[2], clippedRect[3] );\n\tif (n >= 4)\n\t\tsum += integrateLtcBrdfOverRectEdge( clippedRect[3], clippedRect[4] );\n\tif (n == 5)\n\t\tsum += integrateLtcBrdfOverRectEdge( clippedRect[4], clippedRect[0] );\n\tsum = max( 0.0, sum );\n\tvec3 Lo_i = vec3( sum, sum, sum );\n\treturn Lo_i;\n}\nvec3 Rect_Area_Light_Specular_Reflectance(\n\t\tconst in GeometricContext geometry,\n\t\tconst in vec3 lightPos, const in vec3 lightHalfWidth, const in vec3 lightHalfHeight,\n\t\tconst in float roughness,\n\t\tconst in sampler2D ltcMat, const in sampler2D ltcMag ) {\n\tvec3 rectPoints[4];\n\tinitRectPoints( lightPos, lightHalfWidth, lightHalfHeight, rectPoints );\n\tvec2 uv = ltcTextureCoords( geometry, roughness );\n\tvec4 brdfLtcApproxParams, t;\n\tbrdfLtcApproxParams = texture2D( ltcMat, uv );\n\tt = texture2D( ltcMat, uv );\n\tfloat brdfLtcScalar = texture2D( ltcMag, uv ).a;\n\tmat3 brdfLtcApproxMat = mat3(\n\t\tvec3(   1,   0, t.y ),\n\t\tvec3(   0, t.z,   0 ),\n\t\tvec3( t.w,   0, t.x )\n\t);\n\tvec3 specularReflectance = integrateLtcBrdfOverRect( geometry, brdfLtcApproxMat, rectPoints );\n\tspecularReflectance *= brdfLtcScalar;\n\treturn specularReflectance;\n}\nvec3 Rect_Area_Light_Diffuse_Reflectance(\n\t\tconst in GeometricContext geometry,\n\t\tconst in vec3 lightPos, const in vec3 lightHalfWidth, const in vec3 lightHalfHeight ) {\n\tvec3 rectPoints[4];\n\tinitRectPoints( lightPos, lightHalfWidth, lightHalfHeight, rectPoints );\n\tmat3 diffuseBrdfMat = mat3(1);\n\tvec3 diffuseReflectance = integrateLtcBrdfOverRect( geometry, diffuseBrdfMat, rectPoints );\n\treturn diffuseReflectance;\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n",Pa="#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos );\n\t\tvec3 vSigmaY = dFdy( surf_pos );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n",Ra="#if NUM_CLIPPING_PLANES > 0\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; ++ i ) {\n\t\tvec4 plane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t\t\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; ++ i ) {\n\t\t\tvec4 plane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t\n\t#endif\n#endif\n",Oa="#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n",La="#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvarying vec3 vViewPosition;\n#endif\n",Ia="#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n",Na="#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",Da="#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n",ka="#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",ja="#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",Fa="#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transpose( const in mat3 v ) {\n\tmat3 tmp;\n\ttmp[0] = vec3(v[0].x, v[1].x, v[2].x);\n\ttmp[1] = vec3(v[0].y, v[1].y, v[2].y);\n\ttmp[2] = vec3(v[0].z, v[1].z, v[2].z);\n\treturn tmp;\n}\n",Ua="#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n",Ba="#ifdef FLIP_SIDED\n\tobjectNormal = -objectNormal;\n#endif\nvec3 transformedNormal = normalMatrix * objectNormal;\n",Va="#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n",Ha="#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normal * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n",za="#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n",Ga="#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n",Wa="  gl_FragColor = linearToOutputTexel( gl_FragColor );\n",qa="\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM            = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat D      = max( maxRange / maxRGB, 1.0 );\n\tD            = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n\tXp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract(Le);\n\tvResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n\treturn vec4( max(vRGB, 0.0), 1.0 );\n}\n",Xa="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\tsampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n\t\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\tvec3 reflectView = flipNormal * normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n",Ya="#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n",Za="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n",Qa="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n",Ka="\n#ifdef USE_FOG\nfogDepth = -mvPosition.z;\n#endif",Ja="#ifdef USE_FOG\n  varying float fogDepth;\n#endif\n",$a="#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n",tu="#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif\n",eu="#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif\n",nu="#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n",ru="#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",iu="vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n",ou="uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltcMat;\tuniform sampler2D ltcMag;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar - 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = saturate( reflectVec.y * 0.5 + 0.5 );\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n",su="BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n",au="varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_BlinnPhong( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 matDiffColor = material.diffuseColor;\n\t\tvec3 matSpecColor = material.specularColor;\n\t\tvec3 lightColor   = rectAreaLight.color;\n\t\tfloat roughness = BlinnExponentToGGXRoughness( material.specularShininess );\n\t\tvec3 spec = Rect_Area_Light_Specular_Reflectance(\n\t\t\t\tgeometry,\n\t\t\t\trectAreaLight.position, rectAreaLight.halfWidth, rectAreaLight.halfHeight,\n\t\t\t\troughness,\n\t\t\t\tltcMat, ltcMag );\n\t\tvec3 diff = Rect_Area_Light_Diffuse_Reflectance(\n\t\t\t\tgeometry,\n\t\t\t\trectAreaLight.position, rectAreaLight.halfWidth, rectAreaLight.halfHeight );\n\t\treflectedLight.directSpecular += lightColor * matSpecColor * spec / PI2;\n\t\treflectedLight.directDiffuse  += lightColor * matDiffColor * diff / PI2;\n\t}\n#endif\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n",uu="PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif\n",cu="struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 matDiffColor = material.diffuseColor;\n\t\tvec3 matSpecColor = material.specularColor;\n\t\tvec3 lightColor   = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 spec = Rect_Area_Light_Specular_Reflectance(\n\t\t\t\tgeometry,\n\t\t\t\trectAreaLight.position, rectAreaLight.halfWidth, rectAreaLight.halfHeight,\n\t\t\t\troughness,\n\t\t\t\tltcMat, ltcMag );\n\t\tvec3 diff = Rect_Area_Light_Diffuse_Reflectance(\n\t\t\t\tgeometry,\n\t\t\t\trectAreaLight.position, rectAreaLight.halfWidth, rectAreaLight.halfHeight );\n\t\treflectedLight.directSpecular += lightColor * matSpecColor * spec;\n\t\treflectedLight.directDiffuse  += lightColor * matDiffColor * diff;\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n",lu="\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, 8 );\n\t#endif\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tvec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\n\t#ifndef STANDARD\n\t\tvec3 clearCoatRadiance = getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), 8 );\n\t#else\n\t\tvec3 clearCoatRadiance = vec3( 0.0 );\n\t#endif\n\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif\n",pu="#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)\n\tgl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;\n#endif",hu="#ifdef USE_LOGDEPTHBUF\n\tuniform float logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n#endif\n",fu="#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n\tuniform float logDepthBufFC;\n#endif",du="#ifdef USE_LOGDEPTHBUF\n\tgl_Position.z = log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\n\t#endif\n#endif\n",mu="#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif\n",vu="#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n",gu="#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) * offsetRepeat.zw + offsetRepeat.xy );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n",yu="#ifdef USE_MAP\n\tuniform vec4 offsetRepeat;\n\tuniform sampler2D map;\n#endif\n",_u="float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.r;\n#endif\n",bu="#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",wu="#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n",xu="#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",Eu="#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n",Su="#ifdef DOUBLE_SIDED\n\tfloat flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n#else\n\tfloat flipNormal = 1.0;\n#endif\n",Mu="#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal ) * flipNormal;\n#endif\n#ifdef USE_NORMALMAP\n\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n",Cu="#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\n\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n\t\tvec3 N = normalize( surf_norm );\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy = normalScale * mapN.xy;\n\t\tmat3 tsn = mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif\n",Tu="vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 1.0 - 2.0 * rgb.xyz;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n",Au="#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif\n",Pu="#ifdef USE_SKINNING\n\tvec4 mvPosition = modelViewMatrix * skinned;\n#else\n\tvec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\n#endif\ngl_Position = projectionMatrix * mvPosition;\n",Ru="float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.r;\n#endif\n",Ou="#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",Lu="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn 1.0;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\tfloat dp = ( length( lightToPosition ) - shadowBias ) / 1000.0;\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n",Iu="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif\n",Nu="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif\n",Du="float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}\n",ku="#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",ju="#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureWidth;\n\t\tuniform int boneTextureHeight;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureWidth ) );\n\t\t\tfloat y = floor( j / float( boneTextureWidth ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureWidth );\n\t\t\tfloat dy = 1.0 / float( boneTextureHeight );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n",Fu="#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\tskinned  = bindMatrixInverse * skinned;\n#endif\n",Uu="#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n",Bu="float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",Vu="#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",Hu="#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n",zu="#define saturate(a) clamp( a, 0.0, 1.0 )\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n",Gu="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",Wu="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform vec4 offsetRepeat;\n#endif\n",qu="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = uv * offsetRepeat.zw + offsetRepeat.xy;\n#endif",Xu="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",Yu="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",Zu="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",Qu="#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( PHYSICAL ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\n\t#ifdef USE_SKINNING\n\t\tvec4 worldPosition = modelMatrix * skinned;\n\t#else\n\t\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n\t#endif\n#endif\n",Ku="uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\tgl_FragColor.a *= opacity;\n}\n",Ju="varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",$u="#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n",tc="#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",ec="uniform vec3 lightPos;\nvarying vec4 vWorldPosition;\n#include <common>\n#include <packing>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tgl_FragColor = packDepthToRGBA( length( vWorldPosition.xyz - lightPos.xyz ) / 1000.0 );\n}\n",nc="varying vec4 vWorldPosition;\n#include <common>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <skinbase_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition;\n}\n",rc="uniform sampler2D tEquirect;\nuniform float tFlip;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y = saturate( tFlip * direction.y * -0.5 + 0.5 );\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n}\n",ic="varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",oc="uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",sc="uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}\n",ac="uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <normal_flip>\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",uc="#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}\n",cc="uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <normal_flip>\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",lc="#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",pc="#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",hc="#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",fc="#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <lights_pars>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",dc="#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",mc="#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}\n",vc="#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}\n",gc="uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",yc="uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize = size * ( scale / - mvPosition.z );\n\t#else\n\t\tgl_PointSize = size;\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",_c="uniform float opacity;\n#include <common>\n#include <packing>\n#include <bsdfs>\n#include <lights_pars>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( 0.0, 0.0, 0.0, opacity * ( 1.0 - getShadowMask() ) );\n}\n",bc="#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n}\n",wc={alphamap_fragment:wa,alphamap_pars_fragment:xa,alphatest_fragment:Ea,aomap_fragment:Sa,aomap_pars_fragment:Ma,begin_vertex:Ca,beginnormal_vertex:Ta,bsdfs:Aa,bumpmap_pars_fragment:Pa,clipping_planes_fragment:Ra,clipping_planes_pars_fragment:Oa,clipping_planes_pars_vertex:La,clipping_planes_vertex:Ia,color_fragment:Na,color_pars_fragment:Da,color_pars_vertex:ka,color_vertex:ja,common:Fa,cube_uv_reflection_fragment:Ua,defaultnormal_vertex:Ba,displacementmap_pars_vertex:Va,displacementmap_vertex:Ha,emissivemap_fragment:za,emissivemap_pars_fragment:Ga,encodings_fragment:Wa,encodings_pars_fragment:qa,envmap_fragment:Xa,envmap_pars_fragment:Ya,envmap_pars_vertex:Za,envmap_vertex:Qa,fog_vertex:Ka,fog_pars_vertex:Ja,fog_fragment:$a,fog_pars_fragment:tu,gradientmap_pars_fragment:eu,lightmap_fragment:nu,lightmap_pars_fragment:ru,lights_lambert_vertex:iu,lights_pars:ou,lights_phong_fragment:su,lights_phong_pars_fragment:au,lights_physical_fragment:uu,lights_physical_pars_fragment:cu,lights_template:lu,logdepthbuf_fragment:pu,logdepthbuf_pars_fragment:hu,logdepthbuf_pars_vertex:fu,logdepthbuf_vertex:du,map_fragment:mu,map_pars_fragment:vu,map_particle_fragment:gu,map_particle_pars_fragment:yu,metalnessmap_fragment:_u,metalnessmap_pars_fragment:bu,morphnormal_vertex:wu,morphtarget_pars_vertex:xu,morphtarget_vertex:Eu,normal_flip:Su,normal_fragment:Mu,normalmap_pars_fragment:Cu,packing:Tu,premultiplied_alpha_fragment:Au,project_vertex:Pu,roughnessmap_fragment:Ru,roughnessmap_pars_fragment:Ou,shadowmap_pars_fragment:Lu,shadowmap_pars_vertex:Iu,shadowmap_vertex:Nu,shadowmask_pars_fragment:Du,skinbase_vertex:ku,skinning_pars_vertex:ju,skinning_vertex:Fu,skinnormal_vertex:Uu,specularmap_fragment:Bu,specularmap_pars_fragment:Vu,tonemapping_fragment:Hu,tonemapping_pars_fragment:zu,uv_pars_fragment:Gu,uv_pars_vertex:Wu,uv_vertex:qu,uv2_pars_fragment:Xu,uv2_pars_vertex:Yu,uv2_vertex:Zu,worldpos_vertex:Qu,cube_frag:Ku,cube_vert:Ju,depth_frag:$u,depth_vert:tc,distanceRGBA_frag:ec,distanceRGBA_vert:nc,equirect_frag:rc,equirect_vert:ic,linedashed_frag:oc,linedashed_vert:sc,meshbasic_frag:ac,meshbasic_vert:uc,meshlambert_frag:cc,meshlambert_vert:lc,meshphong_frag:pc,meshphong_vert:hc,meshphysical_frag:fc,meshphysical_vert:dc,normal_frag:mc,normal_vert:vc,points_frag:gc,points_vert:yc,shadow_frag:_c,shadow_vert:bc};X.prototype={constructor:X,isColor:!0,r:1,g:1,b:1,set:function(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this},setScalar:function(t){return this.r=t,this.g=t,this.b=t,this},setHex:function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this},setRGB:function(t,e,n){return this.r=t,this.g=e,this.b=n,this},setHSL:function(){function t(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+6*(e-t)*(2/3-n):t}return function(e,n,r){if(e=fa.euclideanModulo(e,1),n=fa.clamp(n,0,1),r=fa.clamp(r,0,1),0===n)this.r=this.g=this.b=r;else{var i=r<=.5?r*(1+n):r+n-r*n,o=2*r-i;this.r=t(o,i,e+1/3),this.g=t(o,i,e),this.b=t(o,i,e-1/3)}return this}}(),setStyle:function(t){function e(e){void 0!==e&&parseFloat(e)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)){var r,i=n[1],o=n[2];switch(i){case"rgb":case"rgba":if(r=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,e(r[5]),this;if(r=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,e(r[5]),this;break;case"hsl":case"hsla":if(r=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o)){var s=parseFloat(r[1])/360,a=parseInt(r[2],10)/100,u=parseInt(r[3],10)/100;return e(r[5]),this.setHSL(s,a,u)}}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(t)){var c=n[1],l=c.length;if(3===l)return this.r=parseInt(c.charAt(0)+c.charAt(0),16)/255,this.g=parseInt(c.charAt(1)+c.charAt(1),16)/255,this.b=parseInt(c.charAt(2)+c.charAt(2),16)/255,this;if(6===l)return this.r=parseInt(c.charAt(0)+c.charAt(1),16)/255,this.g=parseInt(c.charAt(2)+c.charAt(3),16)/255,this.b=parseInt(c.charAt(4)+c.charAt(5),16)/255,this}if(t&&t.length>0){var c=xc[t];void 0!==c?this.setHex(c):console.warn("THREE.Color: Unknown color "+t)}return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this},copyGammaToLinear:function(t,e){return void 0===e&&(e=2),this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this},copyLinearToGamma:function(t,e){void 0===e&&(e=2);var n=e>0?1/e:1;return this.r=Math.pow(t.r,n),this.g=Math.pow(t.g,n),this.b=Math.pow(t.b,n),this},convertGammaToLinear:function(){var t=this.r,e=this.g,n=this.b;return this.r=t*t,this.g=e*e,this.b=n*n,this},convertLinearToGamma:function(){return this.r=Math.sqrt(this.r),this.g=Math.sqrt(this.g),this.b=Math.sqrt(this.b),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(t){var e,n,r=t||{h:0,s:0,l:0},i=this.r,o=this.g,s=this.b,a=Math.max(i,o,s),u=Math.min(i,o,s),c=(u+a)/2;if(u===a)e=0,n=0;else{var l=a-u;switch(n=c<=.5?l/(a+u):l/(2-a-u),a){case i:e=(o-s)/l+(o<s?6:0);break;case o:e=(s-i)/l+2;break;case s:e=(i-o)/l+4}e/=6}return r.h=e,r.s=n,r.l=c,r},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(t,e,n){var r=this.getHSL();return r.h+=t,r.s+=e,r.l+=n,this.setHSL(r.h,r.s,r.l),this},add:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this},addColors:function(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this},addScalar:function(t){return this.r+=t,this.g+=t,this.b+=t,this},sub:function(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this},multiply:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this},multiplyScalar:function(t){return this.r*=t,this.g*=t,this.b*=t,this},lerp:function(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this},equals:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b},fromArray:function(t,e){return void 0===e&&(e=0),this.r=t[e],this.g=t[e+1],this.b=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t},toJSON:function(){return this.getHex()}};var xc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Y.prototype=Object.create(o.prototype),Y.prototype.constructor=Y,Y.prototype.isDataTexture=!0;var Ec={common:{diffuse:{value:new X(15658734)},opacity:{value:1},map:{value:null},offsetRepeat:{value:new s(0,0,1,1)},specularMap:{value:null},alphaMap:{value:null},envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new i(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new X(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new X(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},offsetRepeat:{value:new s(0,0,1,1)}}},Sc={basic:{uniforms:ba.merge([Ec.common,Ec.aomap,Ec.lightmap,Ec.fog]),vertexShader:wc.meshbasic_vert,fragmentShader:wc.meshbasic_frag},lambert:{uniforms:ba.merge([Ec.common,Ec.aomap,Ec.lightmap,Ec.emissivemap,Ec.fog,Ec.lights,{emissive:{value:new X(0)}}]),vertexShader:wc.meshlambert_vert,fragmentShader:wc.meshlambert_frag},phong:{uniforms:ba.merge([Ec.common,Ec.aomap,Ec.lightmap,Ec.emissivemap,Ec.bumpmap,Ec.normalmap,Ec.displacementmap,Ec.gradientmap,Ec.fog,Ec.lights,{emissive:{value:new X(0)},specular:{value:new X(1118481)},shininess:{value:30}}]),vertexShader:wc.meshphong_vert,fragmentShader:wc.meshphong_frag},standard:{uniforms:ba.merge([Ec.common,Ec.aomap,Ec.lightmap,Ec.emissivemap,Ec.bumpmap,Ec.normalmap,Ec.displacementmap,Ec.roughnessmap,Ec.metalnessmap,Ec.fog,Ec.lights,{emissive:{value:new X(0)},roughness:{value:.5},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:wc.meshphysical_vert,fragmentShader:wc.meshphysical_frag},points:{uniforms:ba.merge([Ec.points,Ec.fog]),vertexShader:wc.points_vert,fragmentShader:wc.points_frag},dashed:{uniforms:ba.merge([Ec.common,Ec.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:wc.linedashed_vert,fragmentShader:wc.linedashed_frag},depth:{uniforms:ba.merge([Ec.common,Ec.displacementmap]),vertexShader:wc.depth_vert,fragmentShader:wc.depth_frag},normal:{uniforms:ba.merge([Ec.common,Ec.bumpmap,Ec.normalmap,Ec.displacementmap,{opacity:{value:1}}]),vertexShader:wc.normal_vert,fragmentShader:wc.normal_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:wc.cube_vert,fragmentShader:wc.cube_frag},equirect:{uniforms:{tEquirect:{value:null},tFlip:{value:-1}},vertexShader:wc.equirect_vert,fragmentShader:wc.equirect_frag},distanceRGBA:{uniforms:{lightPos:{value:new l}},vertexShader:wc.distanceRGBA_vert,fragmentShader:wc.distanceRGBA_frag}};Sc.physical={uniforms:ba.merge([Sc.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:wc.meshphysical_vert,fragmentShader:wc.meshphysical_frag},Z.prototype={constructor:Z,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new i;return function(e,n){var r=t.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=+(1/0),this.max.x=this.max.y=-(1/0),this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(t){var e=t||new i;return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){var e=t||new i;return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y},getParameter:function(t,e){return(e||new i).set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)},clampPoint:function(t,e){return(e||new i).copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new i;return function(e){return t.copy(e).clamp(this.min,this.max).sub(e).length()}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}};var Mc=0;J.prototype={constructor:J,isMaterial:!0,get needsUpdate(){return this._needsUpdate},set needsUpdate(t){t===!0&&this.update(),this._needsUpdate=t},setValues:function(t){if(void 0!==t)for(var e in t){var n=t[e];if(void 0!==n){var r=this[e];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[e]="overdraw"===e?Number(n):n:console.warn("THREE."+this.type+": '"+e+"' is not a property of this material.")}else console.warn("THREE.Material: '"+e+"' parameter is undefined.")}},toJSON:function(t){function e(t){var e=[];for(var n in t){var r=t[n];delete r.metadata,e.push(r)}return e}var n=void 0===t;n&&(t={textures:{},images:{}});var r={metadata:{version:4.4,type:"Material",generator:"Material.toJSON"}};if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),void 0!==this.roughness&&(r.roughness=this.roughness),void 0!==this.metalness&&(r.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),void 0!==this.shininess&&(r.shininess=this.shininess),void 0!==this.clearCoat&&(r.clearCoat=this.clearCoat),void 0!==this.clearCoatRoughness&&(r.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(t).uuid),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(t).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(t).uuid,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(t).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(t).uuid,r.reflectivity=this.reflectivity),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.size&&(r.size=this.size),void 0!==this.sizeAttenuation&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==vo&&(r.blending=this.blending),this.shading!==lo&&(r.shading=this.shading),this.side!==so&&(r.side=this.side),this.vertexColors!==po&&(r.vertexColors=this.vertexColors),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(r.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(r.wireframeLinejoin=this.wireframeLinejoin),r.skinning=this.skinning,r.morphTargets=this.morphTargets,n){var i=e(t.textures),o=e(t.images);i.length>0&&(r.textures=i),o.length>0&&(r.images=o)}return r},clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.name=t.name,this.fog=t.fog,this.lights=t.lights,this.blending=t.blending,this.side=t.side,this.shading=t.shading,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.alphaTest=t.alphaTest,this.premultipliedAlpha=t.premultipliedAlpha,this.overdraw=t.overdraw,this.visible=t.visible,this.clipShadows=t.clipShadows,this.clipIntersection=t.clipIntersection;var e=t.clippingPlanes,n=null;if(null!==e){var r=e.length;n=new Array(r);for(var i=0;i!==r;++i)n[i]=e[i].clone()}return this.clippingPlanes=n,this},update:function(){this.dispatchEvent({type:"update"})},dispose:function(){this.dispatchEvent({type:"dispose"})}},Object.assign(J.prototype,r.prototype),$.prototype=Object.create(J.prototype),$.prototype.constructor=$,$.prototype.isShaderMaterial=!0,$.prototype.copy=function(t){return J.prototype.copy.call(this,t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=ba.clone(t.uniforms),this.defines=t.defines,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.extensions=t.extensions,this},$.prototype.toJSON=function(t){var e=J.prototype.toJSON.call(this,t);return e.uniforms=this.uniforms,e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e},tt.prototype=Object.create(J.prototype),tt.prototype.constructor=tt,tt.prototype.isMeshDepthMaterial=!0,tt.prototype.copy=function(t){return J.prototype.copy.call(this,t),this.depthPacking=t.depthPacking,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this},et.prototype={constructor:et,isBox3:!0,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromArray:function(t){for(var e=+(1/0),n=+(1/0),r=+(1/0),i=-(1/0),o=-(1/0),s=-(1/0),a=0,u=t.length;a<u;a+=3){var c=t[a],l=t[a+1],p=t[a+2];c<e&&(e=c),l<n&&(n=l),p<r&&(r=p),c>i&&(i=c),l>o&&(o=l),p>s&&(s=p)}return this.min.set(e,n,r),this.max.set(i,o,s),this},setFromBufferAttribute:function(t){for(var e=+(1/0),n=+(1/0),r=+(1/0),i=-(1/0),o=-(1/0),s=-(1/0),a=0,u=t.count;a<u;a++){var c=t.getX(a),l=t.getY(a),p=t.getZ(a);c<e&&(e=c),l<n&&(n=l),p<r&&(r=p),c>i&&(i=c),l>o&&(o=l),p>s&&(s=p)}return this.min.set(e,n,r),this.max.set(i,o,s),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new l;return function(e,n){var r=t.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}}(),setFromObject:function(t){return this.makeEmpty(),this.expandByObject(t)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=+(1/0),this.max.x=this.max.y=this.max.z=-(1/0),this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(t){var e=t||new l;return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){var e=t||new l;return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},expandByObject:function(){var t=new l;return function(e){var n=this;return e.updateMatrixWorld(!0),e.traverse(function(e){var r,i,o=e.geometry;if(void 0!==o)if(o.isGeometry){var s=o.vertices;for(r=0,i=s.length;r<i;r++)t.copy(s[r]),t.applyMatrix4(e.matrixWorld),n.expandByPoint(t)}else if(o.isBufferGeometry){var a=o.attributes.position;if(void 0!==a)for(r=0,i=a.count;r<i;r++)t.fromBufferAttribute(a,r).applyMatrix4(e.matrixWorld),n.expandByPoint(t)}}),this}}(),containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z},getParameter:function(t,e){return(e||new l).set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)},intersectsSphere:function(){var t;return function(e){return void 0===t&&(t=new l),this.clampPoint(e.center,t),t.distanceToSquared(e.center)<=e.radius*e.radius}}(),intersectsPlane:function(t){var e,n;return t.normal.x>0?(e=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,n=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=t.constant&&n>=t.constant},clampPoint:function(t,e){return(e||new l).copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new l;return function(e){return t.copy(e).clamp(this.min,this.max).sub(e).length()}}(),getBoundingSphere:function(){var t=new l;return function(e){var n=e||new nt;return this.getCenter(n.center),n.radius=.5*this.getSize(t).length(),n}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},applyMatrix4:function(){var t=[new l,new l,new l,new l,new l,new l,new l,new l];return function(e){return this.isEmpty()?this:(t[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),t[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),t[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),t[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),t[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),t[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),t[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),t[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(t),this)}}(),translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}},nt.prototype={constructor:nt,set:function(t,e){return this.center.copy(t),this.radius=e,this},setFromPoints:function(){var t;return function(e,n){void 0===t&&(t=new et);var r=this.center;void 0!==n?r.copy(n):t.setFromPoints(e).getCenter(r);for(var i=0,o=0,s=e.length;o<s;o++)i=Math.max(i,r.distanceToSquared(e[o]));return this.radius=Math.sqrt(i),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.center.copy(t.center),this.radius=t.radius,this},empty:function(){return this.radius<=0},containsPoint:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(t){return t.distanceTo(this.center)-this.radius},intersectsSphere:function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e},intersectsBox:function(t){return t.intersectsSphere(this)},intersectsPlane:function(t){return Math.abs(this.center.dot(t.normal)-t.constant)<=this.radius},clampPoint:function(t,e){var n=this.center.distanceToSquared(t),r=e||new l;return r.copy(t),n>this.radius*this.radius&&(r.sub(this.center).normalize(),r.multiplyScalar(this.radius).add(this.center)),r},getBoundingBox:function(t){var e=t||new et;return e.set(this.center,this.center),e.expandByScalar(this.radius),e},applyMatrix4:function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this},translate:function(t){return this.center.add(t),this},equals:function(t){return t.center.equals(this.center)&&t.radius===this.radius}},rt.prototype={constructor:rt,isMatrix3:!0,set:function(t,e,n,r,i,o,s,a,u){var c=this.elements;return c[0]=t,c[1]=r,c[2]=s,c[3]=e,c[4]=i,c[5]=a,c[6]=n,c[7]=o,c[8]=u,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(t){var e=t.elements;return this.set(e[0],e[3],e[6],e[1],e[4],e[7],e[2],e[5],e[8]),this},setFromMatrix4:function(t){var e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this},applyToBufferAttribute:function(){var t;return function(e){void 0===t&&(t=new l);for(var n=0,r=e.count;n<r;n++)t.x=e.getX(n),t.y=e.getY(n),t.z=e.getZ(n),t.applyMatrix3(this),e.setXYZ(n,t.x,t.y,t.z);return e}}(),multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this},determinant:function(){var t=this.elements,e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],s=t[5],a=t[6],u=t[7],c=t[8];return e*o*c-e*s*u-n*i*c+n*s*a+r*i*u-r*o*a},getInverse:function(t,e){t&&t.isMatrix4&&console.error("THREE.Matrix3.getInverse no longer takes a Matrix4 argument.");var n=t.elements,r=this.elements,i=n[0],o=n[1],s=n[2],a=n[3],u=n[4],c=n[5],l=n[6],p=n[7],h=n[8],f=h*u-c*p,d=c*l-h*a,m=p*a-u*l,v=i*f+o*d+s*m;if(0===v){var g="THREE.Matrix3.getInverse(): can't invert matrix, determinant is 0";if(e===!0)throw new Error(g);return console.warn(g),this.identity()}var y=1/v;return r[0]=f*y,r[1]=(s*p-h*o)*y,r[2]=(c*o-s*u)*y,r[3]=d*y,r[4]=(h*i-s*l)*y,r[5]=(s*a-c*i)*y,r[6]=m*y,r[7]=(o*l-p*i)*y,r[8]=(u*i-o*a)*y,this},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this},getNormalMatrix:function(t){return this.setFromMatrix4(t).getInverse(this).transpose()},transposeIntoArray:function(t){var e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this},fromArray:function(t,e){void 0===e&&(e=0);for(var n=0;n<9;n++)this.elements[n]=t[n+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}},it.prototype={constructor:it,set:function(t,e){return this.normal.copy(t),this.constant=e,this},setComponents:function(t,e,n,r){return this.normal.set(t,e,n),this.constant=r,this},setFromNormalAndCoplanarPoint:function(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this},setFromCoplanarPoints:function(){var t=new l,e=new l;return function(n,r,i){var o=t.subVectors(i,r).cross(e.subVectors(n,r)).normalize();return this.setFromNormalAndCoplanarPoint(o,n),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this},normalize:function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(t){return this.normal.dot(t)+this.constant},distanceToSphere:function(t){return this.distanceToPoint(t.center)-t.radius},projectPoint:function(t,e){return this.orthoPoint(t,e).sub(t).negate()},orthoPoint:function(t,e){var n=this.distanceToPoint(t);return(e||new l).copy(this.normal).multiplyScalar(n)},intersectLine:function(){var t=new l;return function(e,n){var r=n||new l,i=e.delta(t),o=this.normal.dot(i);if(0!==o){var s=-(e.start.dot(this.normal)+this.constant)/o;if(!(s<0||s>1))return r.copy(i).multiplyScalar(s).add(e.start)}else if(0===this.distanceToPoint(e.start))return r.copy(e.start)}}(),intersectsLine:function(t){var e=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return e<0&&n>0||n<0&&e>0},intersectsBox:function(t){return t.intersectsPlane(this)},intersectsSphere:function(t){return t.intersectsPlane(this)},coplanarPoint:function(t){return(t||new l).copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var t=new l,e=new rt;return function(n,r){var i=this.coplanarPoint(t).applyMatrix4(n),o=r||e.getNormalMatrix(n),s=this.normal.applyMatrix3(o).normalize();return this.constant=-i.dot(s),this}}(),translate:function(t){return this.constant=this.constant-t.dot(this.normal),this},equals:function(t){return t.normal.equals(this.normal)&&t.constant===this.constant}},ot.prototype={constructor:ot,set:function(t,e,n,r,i,o){var s=this.planes;return s[0].copy(t),s[1].copy(e),s[2].copy(n),s[3].copy(r),s[4].copy(i),s[5].copy(o),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){for(var e=this.planes,n=0;n<6;n++)e[n].copy(t.planes[n]);return this},setFromMatrix:function(t){var e=this.planes,n=t.elements,r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],u=n[5],c=n[6],l=n[7],p=n[8],h=n[9],f=n[10],d=n[11],m=n[12],v=n[13],g=n[14],y=n[15];return e[0].setComponents(s-r,l-a,d-p,y-m).normalize(),e[1].setComponents(s+r,l+a,d+p,y+m).normalize(),e[2].setComponents(s+i,l+u,d+h,y+v).normalize(),e[3].setComponents(s-i,l-u,d-h,y-v).normalize(),e[4].setComponents(s-o,l-c,d-f,y-g).normalize(),e[5].setComponents(s+o,l+c,d+f,y+g).normalize(),this},intersectsObject:function(){var t=new nt;return function(e){var n=e.geometry;return null===n.boundingSphere&&n.computeBoundingSphere(),t.copy(n.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(t)}}(),intersectsSprite:function(){var t=new nt;return function(e){return t.center.set(0,0,0),t.radius=.7071067811865476,t.applyMatrix4(e.matrixWorld),this.intersectsSphere(t)}}(),intersectsSphere:function(t){for(var e=this.planes,n=t.center,r=-t.radius,i=0;i<6;i++){if(e[i].distanceToPoint(n)<r)return!1}return!0},intersectsBox:function(){var t=new l,e=new l;return function(n){for(var r=this.planes,i=0;i<6;i++){var o=r[i];t.x=o.normal.x>0?n.min.x:n.max.x,e.x=o.normal.x>0?n.max.x:n.min.x,t.y=o.normal.y>0?n.min.y:n.max.y,e.y=o.normal.y>0?n.max.y:n.min.y,t.z=o.normal.z>0?n.min.z:n.max.z,e.z=o.normal.z>0?n.max.z:n.min.z;var s=o.distanceToPoint(t),a=o.distanceToPoint(e);if(s<0&&a<0)return!1}return!0}}(),containsPoint:function(t){for(var e=this.planes,n=0;n<6;n++)if(e[n].distanceToPoint(t)<0)return!1;return!0}},at.prototype={constructor:at,set:function(t,e){return this.origin.copy(t),this.direction.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this},at:function(t,e){return(e||new l).copy(this.direction).multiplyScalar(t).add(this.origin)},lookAt:function(t){return this.direction.copy(t).sub(this.origin).normalize(),this},recast:function(){var t=new l;return function(e){return this.origin.copy(this.at(e,t)),this}}(),closestPointToPoint:function(t,e){var n=e||new l;n.subVectors(t,this.origin);var r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.direction).multiplyScalar(r).add(this.origin)},distanceToPoint:function(t){return Math.sqrt(this.distanceSqToPoint(t))},distanceSqToPoint:function(){var t=new l;return function(e){var n=t.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(t.copy(this.direction).multiplyScalar(n).add(this.origin),t.distanceToSquared(e))}}(),distanceSqToSegment:function(){var t=new l,e=new l,n=new l;return function(r,i,o,s){t.copy(r).add(i).multiplyScalar(.5),e.copy(i).sub(r).normalize(),n.copy(this.origin).sub(t);var a,u,c,l,p=.5*r.distanceTo(i),h=-this.direction.dot(e),f=n.dot(this.direction),d=-n.dot(e),m=n.lengthSq(),v=Math.abs(1-h*h);if(v>0)if(a=h*d-f,u=h*f-d,l=p*v,a>=0)if(u>=-l)if(u<=l){var g=1/v;a*=g,u*=g,c=a*(a+h*u+2*f)+u*(h*a+u+2*d)+m}else u=p,a=Math.max(0,-(h*u+f)),c=-a*a+u*(u+2*d)+m;else u=-p,a=Math.max(0,-(h*u+f)),c=-a*a+u*(u+2*d)+m;else u<=-l?(a=Math.max(0,-(-h*p+f)),u=a>0?-p:Math.min(Math.max(-p,-d),p),c=-a*a+u*(u+2*d)+m):u<=l?(a=0,u=Math.min(Math.max(-p,-d),p),c=u*(u+2*d)+m):(a=Math.max(0,-(h*p+f)),u=a>0?p:Math.min(Math.max(-p,-d),p),c=-a*a+u*(u+2*d)+m);else u=h>0?-p:p,a=Math.max(0,-(h*u+f)),c=-a*a+u*(u+2*d)+m;return o&&o.copy(this.direction).multiplyScalar(a).add(this.origin),s&&s.copy(e).multiplyScalar(u).add(t),c}}(),intersectSphere:function(){var t=new l;return function(e,n){t.subVectors(e.center,this.origin);var r=t.dot(this.direction),i=t.dot(t)-r*r,o=e.radius*e.radius;if(i>o)return null;var s=Math.sqrt(o-i),a=r-s,u=r+s;return a<0&&u<0?null:a<0?this.at(u,n):this.at(a,n)}}(),intersectsSphere:function(t){return this.distanceToPoint(t.center)<=t.radius},distanceToPlane:function(t){var e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(t.normal)+t.constant)/e;return n>=0?n:null},intersectPlane:function(t,e){var n=this.distanceToPlane(t);return null===n?null:this.at(n,e)},intersectsPlane:function(t){var e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0},intersectBox:function(t,e){var n,r,i,o,s,a,u=1/this.direction.x,c=1/this.direction.y,l=1/this.direction.z,p=this.origin;return u>=0?(n=(t.min.x-p.x)*u,r=(t.max.x-p.x)*u):(n=(t.max.x-p.x)*u,r=(t.min.x-p.x)*u),c>=0?(i=(t.min.y-p.y)*c,o=(t.max.y-p.y)*c):(i=(t.max.y-p.y)*c,o=(t.min.y-p.y)*c),n>o||i>r?null:((i>n||n!==n)&&(n=i),(o<r||r!==r)&&(r=o),l>=0?(s=(t.min.z-p.z)*l,a=(t.max.z-p.z)*l):(s=(t.max.z-p.z)*l,a=(t.min.z-p.z)*l),n>a||s>r?null:((s>n||n!==n)&&(n=s),(a<r||r!==r)&&(r=a),r<0?null:this.at(n>=0?n:r,e)))},intersectsBox:function(){var t=new l;return function(e){return null!==this.intersectBox(e,t)}}(),intersectTriangle:function(){var t=new l,e=new l,n=new l,r=new l;return function(i,o,s,a,u){e.subVectors(o,i),n.subVectors(s,i),r.crossVectors(e,n);var c,l=this.direction.dot(r);if(l>0){if(a)return null;c=1}else{if(!(l<0))return null;c=-1,l=-l}t.subVectors(this.origin,i);var p=c*this.direction.dot(n.crossVectors(t,n));if(p<0)return null;var h=c*this.direction.dot(e.cross(t));if(h<0)return null;if(p+h>l)return null;var f=-c*t.dot(r);return f<0?null:this.at(f/l,u)}}(),applyMatrix4:function(t){return this.direction.add(this.origin).applyMatrix4(t),this.origin.applyMatrix4(t),this.direction.sub(this.origin),this.direction.normalize(),this},equals:function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}},ut.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],ut.DefaultOrder="XYZ",ut.prototype={constructor:ut,isEuler:!0,get x(){return this._x},set x(t){this._x=t,this.onChangeCallback()},get y(){return this._y},set y(t){this._y=t,this.onChangeCallback()},get z(){return this._z},set z(t){this._z=t,this.onChangeCallback()},get order(){return this._order},set order(t){this._order=t,this.onChangeCallback()},set:function(t,e,n,r){return this._x=t,this._y=e,this._z=n,this._order=r||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this.onChangeCallback(),this},setFromRotationMatrix:function(t,e,n){var r=fa.clamp,i=t.elements,o=i[0],s=i[4],a=i[8],u=i[1],c=i[5],l=i[9],p=i[2],h=i[6],f=i[10];return e=e||this._order,"XYZ"===e?(this._y=Math.asin(r(a,-1,1)),Math.abs(a)<.99999?(this._x=Math.atan2(-l,f),this._z=Math.atan2(-s,o)):(this._x=Math.atan2(h,c),this._z=0)):"YXZ"===e?(this._x=Math.asin(-r(l,-1,1)),Math.abs(l)<.99999?(this._y=Math.atan2(a,f),this._z=Math.atan2(u,c)):(this._y=Math.atan2(-p,o),this._z=0)):"ZXY"===e?(this._x=Math.asin(r(h,-1,1)),Math.abs(h)<.99999?(this._y=Math.atan2(-p,f),this._z=Math.atan2(-s,c)):(this._y=0,this._z=Math.atan2(u,o))):"ZYX"===e?(this._y=Math.asin(-r(p,-1,1)),Math.abs(p)<.99999?(this._x=Math.atan2(h,f),this._z=Math.atan2(u,o)):(this._x=0,this._z=Math.atan2(-s,c))):"YZX"===e?(this._z=Math.asin(r(u,-1,1)),Math.abs(u)<.99999?(this._x=Math.atan2(-l,c),this._y=Math.atan2(-p,o)):(this._x=0,this._y=Math.atan2(a,f))):"XZY"===e?(this._z=Math.asin(-r(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(h,c),this._y=Math.atan2(a,o)):(this._x=Math.atan2(-l,f),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+e),this._order=e,n!==!1&&this.onChangeCallback(),this},setFromQuaternion:function(){var t;return function(e,n,r){return void 0===t&&(t=new p),t.makeRotationFromQuaternion(e),this.setFromRotationMatrix(t,n,r)}}(),setFromVector3:function(t,e){return this.set(t.x,t.y,t.z,e||this._order)},reorder:function(){var t=new c;return function(e){return t.setFromEuler(this),this.setFromQuaternion(t,e)}}(),equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order},fromArray:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t},toVector3:function(t){return t?t.set(this._x,this._y,this._z):new l(this._x,this._y,this._z)},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}},ct.prototype={constructor:ct,set:function(t){this.mask=1<<t},enable:function(t){this.mask|=1<<t},toggle:function(t){this.mask^=1<<t},disable:function(t){this.mask&=~(1<<t)},test:function(t){return 0!=(this.mask&t.mask)}};var Cc=0;lt.DefaultUp=new l(0,1,0),lt.DefaultMatrixAutoUpdate=!0,lt.prototype={constructor:lt,isObject3D:!0,applyMatrix:function(t){this.matrix.multiplyMatrices(t,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:function(){var t=new c;return function(e,n){return t.setFromAxisAngle(e,n),this.quaternion.multiply(t),this}}(),rotateX:function(){var t=new l(1,0,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateY:function(){var t=new l(0,1,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateZ:function(){var t=new l(0,0,1);return function(e){return this.rotateOnAxis(t,e)}}(),translateOnAxis:function(){var t=new l;return function(e,n){return t.copy(e).applyQuaternion(this.quaternion),this.position.add(t.multiplyScalar(n)),this}}(),translateX:function(){var t=new l(1,0,0);return function(e){return this.translateOnAxis(t,e)}}(),translateY:function(){var t=new l(0,1,0);return function(e){return this.translateOnAxis(t,e)}}(),translateZ:function(){var t=new l(0,0,1);return function(e){return this.translateOnAxis(t,e)}}(),localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var t=new p;return function(e){return e.applyMatrix4(t.getInverse(this.matrixWorld))}}(),lookAt:function(){var t=new p;return function(e){t.lookAt(e,this.position,this.up),this.quaternion.setFromRotationMatrix(t)}}(),add:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,t.dispatchEvent({type:"added"}),this.children.push(t)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)},remove:function(t){if(arguments.length>1)for(var e=0;e<arguments.length;e++)this.remove(arguments[e]);var n=this.children.indexOf(t);n!==-1&&(t.parent=null,t.dispatchEvent({type:"removed"}),this.children.splice(n,1))},getObjectById:function(t){return this.getObjectByProperty("id",t)},getObjectByName:function(t){return this.getObjectByProperty("name",t)},getObjectByProperty:function(t,e){if(this[t]===e)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n],o=i.getObjectByProperty(t,e);if(void 0!==o)return o}},getWorldPosition:function(t){var e=t||new l;return this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var t=new l,e=new l;return function(n){var r=n||new c;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,r,e),r}}(),getWorldRotation:function(){var t=new c;return function(e){var n=e||new ut;return this.getWorldQuaternion(t),n.setFromQuaternion(t,this.rotation.order,!1)}}(),getWorldScale:function(){var t=new l,e=new c;return function(n){var r=n||new l;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,e,r),r}}(),getWorldDirection:function(){var t=new c;return function(e){var n=e||new l;return this.getWorldQuaternion(t),n.set(0,0,1).applyQuaternion(t)}}(),raycast:function(){},traverse:function(t){t(this);for(var e=this.children,n=0,r=e.length;n<r;n++)e[n].traverse(t)},traverseVisible:function(t){if(this.visible!==!1){t(this);for(var e=this.children,n=0,r=e.length;n<r;n++)e[n].traverseVisible(t)}},traverseAncestors:function(t){var e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){this.matrixAutoUpdate===!0&&this.updateMatrix(),this.matrixWorldNeedsUpdate!==!0&&t!==!0||(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);for(var e=this.children,n=0,r=e.length;n<r;n++)e[n].updateMatrixWorld(t)},toJSON:function(t){function e(t){var e=[];for(var n in t){var r=t[n];delete r.metadata,e.push(r)}return e}var n=void 0===t||""===t,r={};n&&(t={geometries:{},materials:{},textures:{},images:{}},r.metadata={version:4.4,type:"Object",generator:"Object3D.toJSON"});var i={};if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),"{}"!==JSON.stringify(this.userData)&&(i.userData=this.userData),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),i.matrix=this.matrix.toArray(),void 0!==this.geometry&&(void 0===t.geometries[this.geometry.uuid]&&(t.geometries[this.geometry.uuid]=this.geometry.toJSON(t)),i.geometry=this.geometry.uuid),void 0!==this.material&&(void 0===t.materials[this.material.uuid]&&(t.materials[this.material.uuid]=this.material.toJSON(t)),i.material=this.material.uuid),this.children.length>0){i.children=[];for(var o=0;o<this.children.length;o++)i.children.push(this.children[o].toJSON(t).object)}if(n){var s=e(t.geometries),a=e(t.materials),u=e(t.textures),c=e(t.images);s.length>0&&(r.geometries=s),a.length>0&&(r.materials=a),u.length>0&&(r.textures=u),c.length>0&&(r.images=c)}return r.object=i,r},clone:function(t){return(new this.constructor).copy(this,t)},copy:function(t,e){if(void 0===e&&(e=!0),this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),e===!0)for(var n=0;n<t.children.length;n++){var r=t.children[n];this.add(r.clone())}return this}},Object.assign(lt.prototype,r.prototype),pt.prototype={constructor:pt,set:function(t,e){return this.start.copy(t),this.end.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.start.copy(t.start),this.end.copy(t.end),this},getCenter:function(t){return(t||new l).addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(t){return(t||new l).subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(t,e){var n=e||new l;return this.delta(n).multiplyScalar(t).add(this.start)},closestPointToPointParameter:function(){var t=new l,e=new l;return function(n,r){t.subVectors(n,this.start),e.subVectors(this.end,this.start);var i=e.dot(e),o=e.dot(t),s=o/i;return r&&(s=fa.clamp(s,0,1)),s}}(),closestPointToPoint:function(t,e,n){var r=this.closestPointToPointParameter(t,e),i=n||new l;return this.delta(i).multiplyScalar(r).add(this.start)},applyMatrix4:function(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this},equals:function(t){return t.start.equals(this.start)&&t.end.equals(this.end)}},ht.normal=function(){var t=new l;return function(e,n,r,i){var o=i||new l;o.subVectors(r,n),t.subVectors(e,n),o.cross(t);var s=o.lengthSq();return s>0?o.multiplyScalar(1/Math.sqrt(s)):o.set(0,0,0)}}(),ht.barycoordFromPoint=function(){var t=new l,e=new l,n=new l;return function(r,i,o,s,a){t.subVectors(s,i),e.subVectors(o,i),n.subVectors(r,i);var u=t.dot(t),c=t.dot(e),p=t.dot(n),h=e.dot(e),f=e.dot(n),d=u*h-c*c,m=a||new l;if(0===d)return m.set(-2,-1,-1);var v=1/d,g=(h*p-c*f)*v,y=(u*f-c*p)*v;return m.set(1-g-y,y,g)}}(),ht.containsPoint=function(){var t=new l;return function(e,n,r,i){var o=ht.barycoordFromPoint(e,n,r,i,t);return o.x>=0&&o.y>=0&&o.x+o.y<=1}}(),ht.prototype={constructor:ht,set:function(t,e,n){return this.a.copy(t),this.b.copy(e),this.c.copy(n),this},setFromPointsAndIndices:function(t,e,n,r){return this.a.copy(t[e]),this.b.copy(t[n]),this.c.copy(t[r]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this},area:function(){var t=new l,e=new l;return function(){return t.subVectors(this.c,this.b),e.subVectors(this.a,this.b),.5*t.cross(e).length()}}(),midpoint:function(t){return(t||new l).addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(t){return ht.normal(this.a,this.b,this.c,t)},plane:function(t){return(t||new it).setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(t,e){return ht.barycoordFromPoint(t,this.a,this.b,this.c,e)},containsPoint:function(t){return ht.containsPoint(t,this.a,this.b,this.c)},closestPointToPoint:function(){var t,e,n,r;return function(i,o){void 0===t&&(t=new it,e=[new pt,new pt,new pt],n=new l,r=new l);var s=o||new l,a=1/0;if(t.setFromCoplanarPoints(this.a,this.b,this.c),t.projectPoint(i,n),this.containsPoint(n)===!0)s.copy(n);else{e[0].set(this.a,this.b),e[1].set(this.b,this.c),e[2].set(this.c,this.a);for(var u=0;u<e.length;u++){e[u].closestPointToPoint(n,!0,r);var c=n.distanceToSquared(r);c<a&&(a=c,s.copy(r))}}return s}}(),equals:function(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}},ft.prototype={constructor:ft,clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.normal.copy(t.normal),this.color.copy(t.color),this.materialIndex=t.materialIndex;for(var e=0,n=t.vertexNormals.length;e<n;e++)this.vertexNormals[e]=t.vertexNormals[e].clone();for(var e=0,n=t.vertexColors.length;e<n;e++)this.vertexColors[e]=t.vertexColors[e].clone();return this}},dt.prototype=Object.create(J.prototype),dt.prototype.constructor=dt,dt.prototype.isMeshBasicMaterial=!0,dt.prototype.copy=function(t){return J.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this},mt.prototype={constructor:mt,isBufferAttribute:!0,set needsUpdate(t){t===!0&&this.version++},setArray:function(t){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0!==t?t.length/this.itemSize:0,this.array=t},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.dynamic=t.dynamic,this},copyAt:function(t,e,n){t*=this.itemSize,n*=e.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[t+r]=e.array[n+r];return this},copyArray:function(t){return this.array.set(t),this},copyColorsArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var o=t[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),o=new X),e[n++]=o.r,e[n++]=o.g,e[n++]=o.b}return this},copyIndicesArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var o=t[r];e[n++]=o.a,e[n++]=o.b,e[n++]=o.c}return this},copyVector2sArray:function(t){for(var e=this.array,n=0,r=0,o=t.length;r<o;r++){var s=t[r];void 0===s&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),s=new i),e[n++]=s.x,e[n++]=s.y}return this},copyVector3sArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var o=t[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),o=new l),e[n++]=o.x,e[n++]=o.y,e[n++]=o.z}return this},copyVector4sArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var o=t[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),o=new s),e[n++]=o.x,e[n++]=o.y,e[n++]=o.z,e[n++]=o.w}return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},getX:function(t){return this.array[t*this.itemSize]},setX:function(t,e){return this.array[t*this.itemSize]=e,this},getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,e){return this.array[t*this.itemSize+1]=e,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,e){return this.array[t*this.itemSize+2]=e,this},getW:function(t){return this.array[t*this.itemSize+3]},setW:function(t,e){return this.array[t*this.itemSize+3]=e,this},setXY:function(t,e,n){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this},setXYZ:function(t,e,n,r){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=r,this},setXYZW:function(t,e,n,r,i){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=r,this.array[t+3]=i,this},onUpload:function(t){return this.onUploadCallback=t,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)}},vt.prototype=Object.create(mt.prototype),vt.prototype.constructor=vt,gt.prototype=Object.create(mt.prototype),gt.prototype.constructor=gt,yt.prototype=Object.create(mt.prototype),yt.prototype.constructor=yt,_t.prototype=Object.create(mt.prototype),_t.prototype.constructor=_t,bt.prototype=Object.create(mt.prototype),bt.prototype.constructor=bt,wt.prototype=Object.create(mt.prototype),wt.prototype.constructor=wt,xt.prototype=Object.create(mt.prototype),xt.prototype.constructor=xt,Et.prototype=Object.create(mt.prototype),Et.prototype.constructor=Et,St.prototype=Object.create(mt.prototype),St.prototype.constructor=St,Object.assign(Mt.prototype,{computeGroups:function(t){for(var e,n=[],r=void 0,i=t.faces,o=0;o<i.length;o++){var s=i[o];s.materialIndex!==r&&(r=s.materialIndex,void 0!==e&&(e.count=3*o-e.start,n.push(e)),e={start:3*o,materialIndex:r})}void 0!==e&&(e.count=3*o-e.start,n.push(e)),this.groups=n},fromGeometry:function(t){var e,n=t.faces,r=t.vertices,o=t.faceVertexUvs,s=o[0]&&o[0].length>0,a=o[1]&&o[1].length>0,u=t.morphTargets,c=u.length;if(c>0){e=[];for(var l=0;l<c;l++)e[l]=[];this.morphTargets.position=e}var p,h=t.morphNormals,f=h.length;if(f>0){p=[];for(var l=0;l<f;l++)p[l]=[];this.morphTargets.normal=p}for(var d=t.skinIndices,m=t.skinWeights,v=d.length===r.length,g=m.length===r.length,l=0;l<n.length;l++){var y=n[l];this.vertices.push(r[y.a],r[y.b],r[y.c]);var _=y.vertexNormals;if(3===_.length)this.normals.push(_[0],_[1],_[2]);else{var b=y.normal;this.normals.push(b,b,b)}var w=y.vertexColors;if(3===w.length)this.colors.push(w[0],w[1],w[2]);else{var x=y.color;this.colors.push(x,x,x)}if(s===!0){var E=o[0][l];void 0!==E?this.uvs.push(E[0],E[1],E[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",l),this.uvs.push(new i,new i,new i))}if(a===!0){var E=o[1][l];void 0!==E?this.uvs2.push(E[0],E[1],E[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",l),this.uvs2.push(new i,new i,new i))}for(var S=0;S<c;S++){var M=u[S].vertices;e[S].push(M[y.a],M[y.b],M[y.c])}for(var S=0;S<f;S++){var C=h[S].vertexNormals[l];p[S].push(C.a,C.b,C.c)}v&&this.skinIndices.push(d[y.a],d[y.b],d[y.c]),g&&this.skinWeights.push(m[y.a],m[y.b],m[y.c])}return this.computeGroups(t),this.verticesNeedUpdate=t.verticesNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this}});var Tc=0;At.prototype={constructor:At,isGeometry:!0,applyMatrix:function(t){for(var e=(new rt).getNormalMatrix(t),n=0,r=this.vertices.length;n<r;n++){this.vertices[n].applyMatrix4(t)}for(var n=0,r=this.faces.length;n<r;n++){var i=this.faces[n];i.normal.applyMatrix3(e).normalize();for(var o=0,s=i.vertexNormals.length;o<s;o++)i.vertexNormals[o].applyMatrix3(e).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var t;return function(e){return void 0===t&&(t=new p),t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t;return function(e){return void 0===t&&(t=new p),t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t;return function(e){return void 0===t&&(t=new p),t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t;return function(e,n,r){return void 0===t&&(t=new p),t.makeTranslation(e,n,r),this.applyMatrix(t),this}}(),scale:function(){var t;return function(e,n,r){return void 0===t&&(t=new p),t.makeScale(e,n,r),this.applyMatrix(t),this}}(),lookAt:function(){var t;return function(e){void 0===t&&(t=new lt),t.lookAt(e),t.updateMatrix(),this.applyMatrix(t.matrix)}}(),fromBufferGeometry:function(t){function e(t,e,r,i){var o=void 0!==a?[h[t].clone(),h[e].clone(),h[r].clone()]:[],s=void 0!==u?[n.colors[t].clone(),n.colors[e].clone(),n.colors[r].clone()]:[],l=new ft(t,e,r,o,s,i);n.faces.push(l),void 0!==c&&n.faceVertexUvs[0].push([f[t].clone(),f[e].clone(),f[r].clone()]),void 0!==p&&n.faceVertexUvs[1].push([d[t].clone(),d[e].clone(),d[r].clone()])}var n=this,r=null!==t.index?t.index.array:void 0,o=t.attributes,s=o.position.array,a=void 0!==o.normal?o.normal.array:void 0,u=void 0!==o.color?o.color.array:void 0,c=void 0!==o.uv?o.uv.array:void 0,p=void 0!==o.uv2?o.uv2.array:void 0;void 0!==p&&(this.faceVertexUvs[1]=[]);for(var h=[],f=[],d=[],m=0,v=0;m<s.length;m+=3,v+=2)n.vertices.push(new l(s[m],s[m+1],s[m+2])),void 0!==a&&h.push(new l(a[m],a[m+1],a[m+2])),void 0!==u&&n.colors.push(new X(u[m],u[m+1],u[m+2])),void 0!==c&&f.push(new i(c[v],c[v+1])),void 0!==p&&d.push(new i(p[v],p[v+1]));if(void 0!==r){var g=t.groups;if(g.length>0)for(var m=0;m<g.length;m++)for(var y=g[m],_=y.start,b=y.count,v=_,w=_+b;v<w;v+=3)e(r[v],r[v+1],r[v+2],y.materialIndex);else for(var m=0;m<r.length;m+=3)e(r[m],r[m+1],r[m+2])}else for(var m=0;m<s.length/3;m+=3)e(m,m+1,m+2);return this.computeFaceNormals(),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this},center:function(){this.computeBoundingBox();var t=this.boundingBox.getCenter().negate();return this.translate(t.x,t.y,t.z),t},normalize:function(){this.computeBoundingSphere();var t=this.boundingSphere.center,e=this.boundingSphere.radius,n=0===e?1:1/e,r=new p;return r.set(n,0,0,-n*t.x,0,n,0,-n*t.y,0,0,n,-n*t.z,0,0,0,1),this.applyMatrix(r),this},computeFaceNormals:function(){for(var t=new l,e=new l,n=0,r=this.faces.length;n<r;n++){var i=this.faces[n],o=this.vertices[i.a],s=this.vertices[i.b],a=this.vertices[i.c];t.subVectors(a,s),e.subVectors(o,s),t.cross(e),t.normalize(),i.normal.copy(t)}},computeVertexNormals:function(t){void 0===t&&(t=!0);var e,n,r,i,o,s;for(s=new Array(this.vertices.length),e=0,n=this.vertices.length;e<n;e++)s[e]=new l;if(t){var a,u,c,p=new l,h=new l;for(r=0,i=this.faces.length;r<i;r++)o=this.faces[r],a=this.vertices[o.a],u=this.vertices[o.b],c=this.vertices[o.c],p.subVectors(c,u),h.subVectors(a,u),p.cross(h),s[o.a].add(p),s[o.b].add(p),s[o.c].add(p)}else for(this.computeFaceNormals(),r=0,i=this.faces.length;r<i;r++)o=this.faces[r],s[o.a].add(o.normal),s[o.b].add(o.normal),s[o.c].add(o.normal);for(e=0,n=this.vertices.length;e<n;e++)s[e].normalize();for(r=0,i=this.faces.length;r<i;r++){o=this.faces[r];var f=o.vertexNormals;3===f.length?(f[0].copy(s[o.a]),f[1].copy(s[o.b]),f[2].copy(s[o.c])):(f[0]=s[o.a].clone(),f[1]=s[o.b].clone(),f[2]=s[o.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var t,e,n;for(this.computeFaceNormals(),t=0,e=this.faces.length;t<e;t++){n=this.faces[t];var r=n.vertexNormals;3===r.length?(r[0].copy(n.normal),r[1].copy(n.normal),r[2].copy(n.normal)):(r[0]=n.normal.clone(),r[1]=n.normal.clone(),r[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var t,e,n,r,i;for(n=0,r=this.faces.length;n<r;n++)for(i=this.faces[n],i.__originalFaceNormal?i.__originalFaceNormal.copy(i.normal):i.__originalFaceNormal=i.normal.clone(),i.__originalVertexNormals||(i.__originalVertexNormals=[]),t=0,e=i.vertexNormals.length;t<e;t++)i.__originalVertexNormals[t]?i.__originalVertexNormals[t].copy(i.vertexNormals[t]):i.__originalVertexNormals[t]=i.vertexNormals[t].clone();var o=new At;for(o.faces=this.faces,t=0,e=this.morphTargets.length;t<e;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];var s,a,u=this.morphNormals[t].faceNormals,c=this.morphNormals[t].vertexNormals;for(n=0,r=this.faces.length;n<r;n++)s=new l,a={a:new l,b:new l,c:new l},u.push(s),c.push(a)}var p=this.morphNormals[t];o.vertices=this.morphTargets[t].vertices,o.computeFaceNormals(),o.computeVertexNormals();var s,a;for(n=0,r=this.faces.length;n<r;n++)i=this.faces[n],s=p.faceNormals[n],a=p.vertexNormals[n],s.copy(i.normal),a.a.copy(i.vertexNormals[0]),a.b.copy(i.vertexNormals[1]),a.c.copy(i.vertexNormals[2])}for(n=0,r=this.faces.length;n<r;n++)i=this.faces[n],i.normal=i.__originalFaceNormal,i.vertexNormals=i.__originalVertexNormals},computeLineDistances:function(){for(var t=0,e=this.vertices,n=0,r=e.length;n<r;n++)n>0&&(t+=e[n].distanceTo(e[n-1])),this.lineDistances[n]=t},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new et),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new nt),this.boundingSphere.setFromPoints(this.vertices)},merge:function(t,e,n){if((t&&t.isGeometry)===!1)return void console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",t);var r,i=this.vertices.length,o=this.vertices,s=t.vertices,a=this.faces,u=t.faces,c=this.faceVertexUvs[0],l=t.faceVertexUvs[0],p=this.colors,h=t.colors;void 0===n&&(n=0),void 0!==e&&(r=(new rt).getNormalMatrix(e));for(var f=0,d=s.length;f<d;f++){var m=s[f],v=m.clone();void 0!==e&&v.applyMatrix4(e),o.push(v)}for(var f=0,d=h.length;f<d;f++)p.push(h[f].clone());for(f=0,d=u.length;f<d;f++){var g,y,_,b=u[f],w=b.vertexNormals,x=b.vertexColors;g=new ft(b.a+i,b.b+i,b.c+i),g.normal.copy(b.normal),void 0!==r&&g.normal.applyMatrix3(r).normalize();for(var E=0,S=w.length;E<S;E++)y=w[E].clone(),void 0!==r&&y.applyMatrix3(r).normalize(),g.vertexNormals.push(y);g.color.copy(b.color);for(var E=0,S=x.length;E<S;E++)_=x[E],g.vertexColors.push(_.clone());g.materialIndex=b.materialIndex+n,a.push(g)}for(f=0,d=l.length;f<d;f++){var M=l[f],C=[];if(void 0!==M){for(var E=0,S=M.length;E<S;E++)C.push(M[E].clone());c.push(C)}}},mergeMesh:function(t){if((t&&t.isMesh)===!1)return void console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",t);t.matrixAutoUpdate&&t.updateMatrix(),this.merge(t.geometry,t.matrix)},mergeVertices:function(){var t,e,n,r,i,o,s,a,u={},c=[],l=[],p=4,h=Math.pow(10,p);for(n=0,r=this.vertices.length;n<r;n++)t=this.vertices[n],e=Math.round(t.x*h)+"_"+Math.round(t.y*h)+"_"+Math.round(t.z*h),void 0===u[e]?(u[e]=n,c.push(this.vertices[n]),l[n]=c.length-1):l[n]=l[u[e]];var f=[];for(n=0,r=this.faces.length;n<r;n++){i=this.faces[n],i.a=l[i.a],i.b=l[i.b],i.c=l[i.c],o=[i.a,i.b,i.c];for(var d=0;d<3;d++)if(o[d]===o[(d+1)%3]){f.push(n);break}}for(n=f.length-1;n>=0;n--){var m=f[n];for(this.faces.splice(m,1),s=0,a=this.faceVertexUvs.length;s<a;s++)this.faceVertexUvs[s].splice(m,1)}var v=this.vertices.length-c.length;return this.vertices=c,v},sortFacesByMaterialIndex:function(){function t(t,e){return t.materialIndex-e.materialIndex}for(var e=this.faces,n=e.length,r=0;r<n;r++)e[r]._id=r;e.sort(t);var i,o,s=this.faceVertexUvs[0],a=this.faceVertexUvs[1];s&&s.length===n&&(i=[]),a&&a.length===n&&(o=[]);for(var r=0;r<n;r++){var u=e[r]._id;i&&i.push(s[u]),o&&o.push(a[u])}i&&(this.faceVertexUvs[0]=i),o&&(this.faceVertexUvs[1]=o)},toJSON:function(){function t(t,e,n){return n?t|1<<e:t&~(1<<e)}function e(t){var e=t.x.toString()+t.y.toString()+t.z.toString();return void 0!==h[e]?h[e]:(h[e]=p.length/3,p.push(t.x,t.y,t.z),h[e])}function n(t){var e=t.r.toString()+t.g.toString()+t.b.toString();return void 0!==d[e]?d[e]:(d[e]=f.length,f.push(t.getHex()),d[e])}function r(t){var e=t.x.toString()+t.y.toString();return void 0!==v[e]?v[e]:(v[e]=m.length/2,m.push(t.x,t.y),v[e])}var i={metadata:{version:4.4,type:"Geometry",generator:"Geometry.toJSON"}};if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),void 0!==this.parameters){var o=this.parameters;for(var s in o)void 0!==o[s]&&(i[s]=o[s]);return i}for(var a=[],u=0;u<this.vertices.length;u++){var c=this.vertices[u];a.push(c.x,c.y,c.z)}for(var l=[],p=[],h={},f=[],d={},m=[],v={},u=0;u<this.faces.length;u++){var g=this.faces[u],y=void 0!==this.faceVertexUvs[0][u],_=g.normal.length()>0,b=g.vertexNormals.length>0,w=1!==g.color.r||1!==g.color.g||1!==g.color.b,x=g.vertexColors.length>0,E=0;if(E=t(E,0,0),E=t(E,1,!0),E=t(E,2,!1),E=t(E,3,y),E=t(E,4,_),E=t(E,5,b),E=t(E,6,w),E=t(E,7,x),l.push(E),l.push(g.a,g.b,g.c),l.push(g.materialIndex),y){var S=this.faceVertexUvs[0][u];l.push(r(S[0]),r(S[1]),r(S[2]))}if(_&&l.push(e(g.normal)),b){var M=g.vertexNormals;l.push(e(M[0]),e(M[1]),e(M[2]))}if(w&&l.push(n(g.color)),x){var C=g.vertexColors;l.push(n(C[0]),n(C[1]),n(C[2]))}}return i.data={},i.data.vertices=a,i.data.normals=p,f.length>0&&(i.data.colors=f),m.length>0&&(i.data.uvs=[m]),i.data.faces=l,i},clone:function(){return(new At).copy(this)},copy:function(t){var e,n,r,i,o,s;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var a=t.vertices;for(e=0,n=a.length;e<n;e++)this.vertices.push(a[e].clone());var u=t.colors;for(e=0,n=u.length;e<n;e++)this.colors.push(u[e].clone());var c=t.faces;for(e=0,n=c.length;e<n;e++)this.faces.push(c[e].clone());for(e=0,n=t.faceVertexUvs.length;e<n;e++){var l=t.faceVertexUvs[e];for(void 0===this.faceVertexUvs[e]&&(this.faceVertexUvs[e]=[]),r=0,i=l.length;r<i;r++){var p=l[r],h=[];for(o=0,s=p.length;o<s;o++){var f=p[o];h.push(f.clone())}this.faceVertexUvs[e].push(h)}}var d=t.morphTargets;for(e=0,n=d.length;e<n;e++){var m={};if(m.name=d[e].name,void 0!==d[e].vertices)for(m.vertices=[],r=0,i=d[e].vertices.length;r<i;r++)m.vertices.push(d[e].vertices[r].clone());if(void 0!==d[e].normals)for(m.normals=[],r=0,i=d[e].normals.length;r<i;r++)m.normals.push(d[e].normals[r].clone());this.morphTargets.push(m)}var v=t.morphNormals;for(e=0,n=v.length;e<n;e++){var g={};if(void 0!==v[e].vertexNormals)for(g.vertexNormals=[],r=0,i=v[e].vertexNormals.length;r<i;r++){var y=v[e].vertexNormals[r],_={};_.a=y.a.clone(),_.b=y.b.clone(),_.c=y.c.clone(),g.vertexNormals.push(_)}if(void 0!==v[e].faceNormals)for(g.faceNormals=[],r=0,i=v[e].faceNormals.length;r<i;r++)g.faceNormals.push(v[e].faceNormals[r].clone());this.morphNormals.push(g)}var b=t.skinWeights;for(e=0,n=b.length;e<n;e++)this.skinWeights.push(b[e].clone());var w=t.skinIndices;for(e=0,n=w.length;e<n;e++)this.skinIndices.push(w[e].clone());var x=t.lineDistances;for(e=0,n=x.length;e<n;e++)this.lineDistances.push(x[e]);var E=t.boundingBox;null!==E&&(this.boundingBox=E.clone());var S=t.boundingSphere;return null!==S&&(this.boundingSphere=S.clone()),this.elementsNeedUpdate=t.elementsNeedUpdate,this.verticesNeedUpdate=t.verticesNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.lineDistancesNeedUpdate=t.lineDistancesNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}},Object.assign(At.prototype,r.prototype),Pt.prototype={constructor:Pt,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(t){Array.isArray(t)?this.index=new(Ct(t)>65535?xt:bt)(t,1):this.index=t},addAttribute:function(t,e){return(e&&e.isBufferAttribute)===!1&&(e&&e.isInterleavedBufferAttribute)===!1?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),void this.addAttribute(t,new mt(arguments[1],arguments[2]))):"index"===t?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),void this.setIndex(e)):(this.attributes[t]=e,this)},getAttribute:function(t){return this.attributes[t]},removeAttribute:function(t){return delete this.attributes[t],this},addGroup:function(t,e,n){this.groups.push({start:t,count:e,materialIndex:void 0!==n?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(t,e){this.drawRange.start=t,this.drawRange.count=e},applyMatrix:function(t){var e=this.attributes.position;void 0!==e&&(t.applyToBufferAttribute(e),e.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){(new rt).getNormalMatrix(t).applyToBufferAttribute(n),n.needsUpdate=!0}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(){var t;return function(e){return void 0===t&&(t=new p),t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t;return function(e){return void 0===t&&(t=new p),t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t;return function(e){return void 0===t&&(t=new p),t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t;return function(e,n,r){return void 0===t&&(t=new p),t.makeTranslation(e,n,r),this.applyMatrix(t),this}}(),scale:function(){var t;return function(e,n,r){return void 0===t&&(t=new p),t.makeScale(e,n,r),this.applyMatrix(t),this}}(),lookAt:function(){var t;return function(e){void 0===t&&(t=new lt),t.lookAt(e),t.updateMatrix(),this.applyMatrix(t.matrix)}}(),center:function(){this.computeBoundingBox();var t=this.boundingBox.getCenter().negate();return this.translate(t.x,t.y,t.z),t},setFromObject:function(t){var e=t.geometry;if(t.isPoints||t.isLine){var n=new Et(3*e.vertices.length,3),r=new Et(3*e.colors.length,3);if(this.addAttribute("position",n.copyVector3sArray(e.vertices)),this.addAttribute("color",r.copyColorsArray(e.colors)),e.lineDistances&&e.lineDistances.length===e.vertices.length){var i=new Et(e.lineDistances.length,1);this.addAttribute("lineDistance",i.copyArray(e.lineDistances))}null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone())}else t.isMesh&&e&&e.isGeometry&&this.fromGeometry(e);return this},updateFromObject:function(t){var e=t.geometry;if(t.isMesh){var n=e.__directGeometry;if(e.elementsNeedUpdate===!0&&(n=void 0,e.elementsNeedUpdate=!1),void 0===n)return this.fromGeometry(e);n.verticesNeedUpdate=e.verticesNeedUpdate,n.normalsNeedUpdate=e.normalsNeedUpdate,n.colorsNeedUpdate=e.colorsNeedUpdate,n.uvsNeedUpdate=e.uvsNeedUpdate,n.groupsNeedUpdate=e.groupsNeedUpdate,e.verticesNeedUpdate=!1,e.normalsNeedUpdate=!1,e.colorsNeedUpdate=!1,e.uvsNeedUpdate=!1,e.groupsNeedUpdate=!1,e=n}var r;return e.verticesNeedUpdate===!0&&(r=this.attributes.position,void 0!==r&&(r.copyVector3sArray(e.vertices),r.needsUpdate=!0),e.verticesNeedUpdate=!1),e.normalsNeedUpdate===!0&&(r=this.attributes.normal,void 0!==r&&(r.copyVector3sArray(e.normals),r.needsUpdate=!0),e.normalsNeedUpdate=!1),e.colorsNeedUpdate===!0&&(r=this.attributes.color,void 0!==r&&(r.copyColorsArray(e.colors),r.needsUpdate=!0),e.colorsNeedUpdate=!1),e.uvsNeedUpdate&&(r=this.attributes.uv,void 0!==r&&(r.copyVector2sArray(e.uvs),r.needsUpdate=!0),e.uvsNeedUpdate=!1),e.lineDistancesNeedUpdate&&(r=this.attributes.lineDistance,void 0!==r&&(r.copyArray(e.lineDistances),r.needsUpdate=!0),e.lineDistancesNeedUpdate=!1),e.groupsNeedUpdate&&(e.computeGroups(t.geometry),this.groups=e.groups,e.groupsNeedUpdate=!1),this},fromGeometry:function(t){return t.__directGeometry=(new Mt).fromGeometry(t),this.fromDirectGeometry(t.__directGeometry)},fromDirectGeometry:function(t){var e=new Float32Array(3*t.vertices.length);if(this.addAttribute("position",new mt(e,3).copyVector3sArray(t.vertices)),t.normals.length>0){var n=new Float32Array(3*t.normals.length);this.addAttribute("normal",new mt(n,3).copyVector3sArray(t.normals))}if(t.colors.length>0){var r=new Float32Array(3*t.colors.length);this.addAttribute("color",new mt(r,3).copyColorsArray(t.colors))}if(t.uvs.length>0){var i=new Float32Array(2*t.uvs.length);this.addAttribute("uv",new mt(i,2).copyVector2sArray(t.uvs))}if(t.uvs2.length>0){var o=new Float32Array(2*t.uvs2.length);this.addAttribute("uv2",new mt(o,2).copyVector2sArray(t.uvs2))}if(t.indices.length>0){var s=Ct(t.indices)>65535?Uint32Array:Uint16Array,a=new s(3*t.indices.length);this.setIndex(new mt(a,1).copyIndicesArray(t.indices))}this.groups=t.groups;for(var u in t.morphTargets){for(var c=[],l=t.morphTargets[u],p=0,h=l.length;p<h;p++){var f=l[p],d=new Et(3*f.length,3);c.push(d.copyVector3sArray(f))}this.morphAttributes[u]=c}if(t.skinIndices.length>0){var m=new Et(4*t.skinIndices.length,4);this.addAttribute("skinIndex",m.copyVector4sArray(t.skinIndices))}if(t.skinWeights.length>0){var v=new Et(4*t.skinWeights.length,4);this.addAttribute("skinWeight",v.copyVector4sArray(t.skinWeights))}return null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new et);var t=this.attributes.position;void 0!==t?this.boundingBox.setFromBufferAttribute(t):this.boundingBox.makeEmpty(),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){var t=new et,e=new l;return function(){null===this.boundingSphere&&(this.boundingSphere=new nt);var n=this.attributes.position;if(n){var r=this.boundingSphere.center;t.setFromBufferAttribute(n),t.getCenter(r);for(var i=0,o=0,s=n.count;o<s;o++)e.x=n.getX(o),e.y=n.getY(o),e.z=n.getZ(o),i=Math.max(i,r.distanceToSquared(e));this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var t=this.index,e=this.attributes,n=this.groups;if(e.position){var r=e.position.array;if(void 0===e.normal)this.addAttribute("normal",new mt(new Float32Array(r.length),3));else for(var i=e.normal.array,o=0,s=i.length;o<s;o++)i[o]=0;var a,u,c,p=e.normal.array,h=new l,f=new l,d=new l,m=new l,v=new l;if(t){var g=t.array;0===n.length&&this.addGroup(0,g.length);for(var y=0,_=n.length;y<_;++y)for(var b=n[y],w=b.start,x=b.count,o=w,s=w+x;o<s;o+=3)a=3*g[o+0],u=3*g[o+1],c=3*g[o+2],h.fromArray(r,a),f.fromArray(r,u),d.fromArray(r,c),m.subVectors(d,f),v.subVectors(h,f),m.cross(v),p[a]+=m.x,p[a+1]+=m.y,p[a+2]+=m.z,p[u]+=m.x,p[u+1]+=m.y,p[u+2]+=m.z,p[c]+=m.x,p[c+1]+=m.y,p[c+2]+=m.z}else for(var o=0,s=r.length;o<s;o+=9)h.fromArray(r,o),f.fromArray(r,o+3),d.fromArray(r,o+6),m.subVectors(d,f),v.subVectors(h,f),m.cross(v),p[o]=m.x,p[o+1]=m.y,p[o+2]=m.z,p[o+3]=m.x,p[o+4]=m.y,p[o+5]=m.z,p[o+6]=m.x,p[o+7]=m.y,p[o+8]=m.z;this.normalizeNormals(),e.normal.needsUpdate=!0}},merge:function(t,e){if((t&&t.isBufferGeometry)===!1)return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t);void 0===e&&(e=0);var n=this.attributes;for(var r in n)if(void 0!==t.attributes[r])for(var i=n[r],o=i.array,s=t.attributes[r],a=s.array,u=s.itemSize,c=0,l=u*e;c<a.length;c++,l++)o[l]=a[c];return this},normalizeNormals:function(){for(var t,e,n,r,i=this.attributes.normal.array,o=0,s=i.length;o<s;o+=3)t=i[o],e=i[o+1],n=i[o+2],r=1/Math.sqrt(t*t+e*e+n*n),i[o]*=r,i[o+1]*=r,i[o+2]*=r},toNonIndexed:function(){if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var t=new Pt,e=this.index.array,n=this.attributes;for(var r in n){for(var i=n[r],o=i.array,s=i.itemSize,a=new o.constructor(e.length*s),u=0,c=0,l=0,p=e.length;l<p;l++){u=e[l]*s;for(var h=0;h<s;h++)a[c++]=o[u++]}t.addAttribute(r,new mt(a,s))}return t},toJSON:function(){var t={metadata:{version:4.4,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),void 0!==this.parameters){var e=this.parameters;for(var n in e)void 0!==e[n]&&(t[n]=e[n]);return t}t.data={attributes:{}};var r=this.index;if(null!==r){var i=Array.prototype.slice.call(r.array);t.data.index={type:r.array.constructor.name,array:i}}var o=this.attributes;for(var n in o){var s=o[n],i=Array.prototype.slice.call(s.array);t.data.attributes[n]={itemSize:s.itemSize,type:s.array.constructor.name,array:i,normalized:s.normalized}}var a=this.groups;a.length>0&&(t.data.groups=JSON.parse(JSON.stringify(a)));var u=this.boundingSphere;return null!==u&&(t.data.boundingSphere={center:u.center.toArray(),radius:u.radius}),t},clone:function(){return(new Pt).copy(this)},copy:function(t){var e,n,r;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var i=t.index;null!==i&&this.setIndex(i.clone());var o=t.attributes;for(e in o){var s=o[e];this.addAttribute(e,s.clone())}var a=t.morphAttributes;for(e in a){var u=[],c=a[e];for(n=0,r=c.length;n<r;n++)u.push(c[n].clone());this.morphAttributes[e]=u}var l=t.groups;for(n=0,r=l.length;n<r;n++){var p=l[n];this.addGroup(p.start,p.count,p.materialIndex)}var h=t.boundingBox;null!==h&&(this.boundingBox=h.clone());var f=t.boundingSphere;return null!==f&&(this.boundingSphere=f.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this},dispose:function(){this.dispatchEvent({type:"dispose"})}},Pt.MaxIndex=65535,Object.assign(Pt.prototype,r.prototype),Rt.prototype=Object.assign(Object.create(lt.prototype),{constructor:Rt,isMesh:!0,setDrawMode:function(t){this.drawMode=t},copy:function(t){return lt.prototype.copy.call(this,t),this.drawMode=t.drawMode,this},updateMorphTargets:function(){var t=this.geometry.morphTargets;if(void 0!==t&&t.length>0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var e=0,n=t.length;e<n;e++)this.morphTargetInfluences.push(0),this.morphTargetDictionary[t[e].name]=e}},raycast:function(){function t(t,e,n,r,i,o,s){return ht.barycoordFromPoint(t,e,n,r,y),i.multiplyScalar(y.x),o.multiplyScalar(y.y),s.multiplyScalar(y.z),i.add(o).add(s),i.clone()}function e(t,e,n,r,i,o,s){var a=t.material;if(null===(a.side===ao?n.intersectTriangle(o,i,r,!0,s):n.intersectTriangle(r,i,o,a.side!==uo,s)))return null;b.copy(s),b.applyMatrix4(t.matrixWorld);var u=e.ray.origin.distanceTo(b);return u<e.near||u>e.far?null:{distance:u,point:b.clone(),object:t}}function n(n,r,i,o,s,l,p,h){a.fromBufferAttribute(o,l),u.fromBufferAttribute(o,p),c.fromBufferAttribute(o,h);var f=e(n,r,i,a,u,c,_);return f&&(s&&(m.fromBufferAttribute(s,l),v.fromBufferAttribute(s,p),g.fromBufferAttribute(s,h),f.uv=t(_,a,u,c,m,v,g)),f.face=new ft(l,p,h,ht.normal(a,u,c)),f.faceIndex=l),f}var r=new p,o=new at,s=new nt,a=new l,u=new l,c=new l,h=new l,f=new l,d=new l,m=new i,v=new i,g=new i,y=new l,_=new l,b=new l;return function(i,l){var p=this.geometry,y=this.material,b=this.matrixWorld;if(void 0!==y&&(null===p.boundingSphere&&p.computeBoundingSphere(),s.copy(p.boundingSphere),s.applyMatrix4(b),i.ray.intersectsSphere(s)!==!1&&(r.getInverse(b),o.copy(i.ray).applyMatrix4(r),null===p.boundingBox||o.intersectsBox(p.boundingBox)!==!1))){var w;if(p.isBufferGeometry){var x,E,S,M,C,T=p.index,A=p.attributes.position,P=p.attributes.uv;if(null!==T)for(M=0,C=T.count;M<C;M+=3)x=T.getX(M),E=T.getX(M+1),S=T.getX(M+2),(w=n(this,i,o,A,P,x,E,S))&&(w.faceIndex=Math.floor(M/3),l.push(w));else for(M=0,C=A.count;M<C;M+=3)x=M,E=M+1,S=M+2,(w=n(this,i,o,A,P,x,E,S))&&(w.index=x,l.push(w))}else if(p.isGeometry){var R,O,L,I,N=y&&y.isMultiMaterial,D=N===!0?y.materials:null,k=p.vertices,j=p.faces,F=p.faceVertexUvs[0];F.length>0&&(I=F);for(var U=0,B=j.length;U<B;U++){var V=j[U],H=N===!0?D[V.materialIndex]:y;if(void 0!==H){if(R=k[V.a],O=k[V.b],L=k[V.c],H.morphTargets===!0){var z=p.morphTargets,G=this.morphTargetInfluences;a.set(0,0,0),u.set(0,0,0),c.set(0,0,0);for(var W=0,q=z.length;W<q;W++){var X=G[W];if(0!==X){var Y=z[W].vertices;a.addScaledVector(h.subVectors(Y[V.a],R),X),u.addScaledVector(f.subVectors(Y[V.b],O),X),c.addScaledVector(d.subVectors(Y[V.c],L),X)}}a.add(R),u.add(O),c.add(L),R=a,O=u,L=c}if(w=e(this,i,o,R,O,L,_)){if(I){var Z=I[U];m.copy(Z[0]),v.copy(Z[1]),g.copy(Z[2]),w.uv=t(_,R,O,L,m,v,g)}w.face=V,w.faceIndex=U,l.push(w)}}}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Ot.prototype=Object.create(At.prototype),Ot.prototype.constructor=Ot,Lt.prototype=Object.create(Pt.prototype),Lt.prototype.constructor=Lt,It.prototype=Object.create(At.prototype),It.prototype.constructor=It,Nt.prototype=Object.create(Pt.prototype),Nt.prototype.constructor=Nt,Dt.prototype=Object.create(lt.prototype),Dt.prototype.constructor=Dt,Dt.prototype.isCamera=!0,Dt.prototype.getWorldDirection=function(){var t=new c;return function(e){var n=e||new l;return this.getWorldQuaternion(t),n.set(0,0,-1).applyQuaternion(t)}}(),Dt.prototype.lookAt=function(){var t=new p;return function(e){t.lookAt(this.position,e,this.up),this.quaternion.setFromRotationMatrix(t)}}(),Dt.prototype.clone=function(){return(new this.constructor).copy(this)},Dt.prototype.copy=function(t){return lt.prototype.copy.call(this,t),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this},kt.prototype=Object.assign(Object.create(Dt.prototype),{constructor:kt,isPerspectiveCamera:!0,copy:function(t){return Dt.prototype.copy.call(this,t),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this},setFocalLength:function(t){var e=.5*this.getFilmHeight()/t;this.fov=2*fa.RAD2DEG*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){var t=Math.tan(.5*fa.DEG2RAD*this.fov);return.5*this.getFilmHeight()/t},getEffectiveFOV:function(){return 2*fa.RAD2DEG*Math.atan(Math.tan(.5*fa.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(t,e,n,r,i,o){this.aspect=t/e,this.view={fullWidth:t,fullHeight:e,offsetX:n,offsetY:r,width:i,height:o},this.updateProjectionMatrix()},clearViewOffset:function(){this.view=null,this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=this.near,e=t*Math.tan(.5*fa.DEG2RAD*this.fov)/this.zoom,n=2*e,r=this.aspect*n,i=-.5*r,o=this.view;if(null!==o){var s=o.fullWidth,a=o.fullHeight;i+=o.offsetX*r/s,e-=o.offsetY*n/a,r*=o.width/s,n*=o.height/a}var u=this.filmOffset;0!==u&&(i+=t*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,e,e-n,t,this.far)},toJSON:function(t){var e=lt.prototype.toJSON.call(this,t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}),jt.prototype=Object.assign(Object.create(Dt.prototype),{constructor:jt,isOrthographicCamera:!0,copy:function(t){return Dt.prototype.copy.call(this,t),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this},setViewOffset:function(t,e,n,r,i,o){this.view={fullWidth:t,fullHeight:e,offsetX:n,offsetY:r,width:i,height:o},this.updateProjectionMatrix()},clearViewOffset:function(){this.view=null,this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-t,o=n+t,s=r+e,a=r-e;if(null!==this.view){var u=this.zoom/(this.view.width/this.view.fullWidth),c=this.zoom/(this.view.height/this.view.fullHeight),l=(this.right-this.left)/this.view.width,p=(this.top-this.bottom)/this.view.height;i+=l*(this.view.offsetX/u),o=i+l*(this.view.width/u),s-=p*(this.view.offsetY/c),a=s-p*(this.view.height/c)}this.projectionMatrix.makeOrthographic(i,o,s,a,this.near,this.far)},toJSON:function(t){var e=lt.prototype.toJSON.call(this,t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}});var Ac=0;pe.prototype.isFogExp2=!0,pe.prototype.clone=function(){return new pe(this.color.getHex(),this.density)},pe.prototype.toJSON=function(t){return{type:"FogExp2",color:this.color.getHex(),density:this.density}},he.prototype.isFog=!0,he.prototype.clone=function(){return new he(this.color.getHex(),this.near,this.far)},he.prototype.toJSON=function(t){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}},fe.prototype=Object.create(lt.prototype),fe.prototype.constructor=fe,fe.prototype.copy=function(t,e){return lt.prototype.copy.call(this,t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this},fe.prototype.toJSON=function(t){var e=lt.prototype.toJSON.call(this,t);return null!==this.background&&(e.object.background=this.background.toJSON(t)),null!==this.fog&&(e.object.fog=this.fog.toJSON()),e},de.prototype=Object.assign(Object.create(lt.prototype),{constructor:de,isLensFlare:!0,copy:function(t){lt.prototype.copy.call(this,t),this.positionScreen.copy(t.positionScreen),this.customUpdateCallback=t.customUpdateCallback;for(var e=0,n=t.lensFlares.length;e<n;e++)this.lensFlares.push(t.lensFlares[e]);return this},add:function(t,e,n,r,i,o){void 0===e&&(e=-1),void 0===n&&(n=0),void 0===o&&(o=1),void 0===i&&(i=new X(16777215)),void 0===r&&(r=vo),n=Math.min(n,Math.max(0,n)),this.lensFlares.push({texture:t,size:e,distance:n,x:0,y:0,z:0,scale:1,rotation:0,opacity:o,color:i,blending:r})},updateLensFlares:function(){var t,e,n=this.lensFlares.length,r=2*-this.positionScreen.x,i=2*-this.positionScreen.y;for(t=0;t<n;t++)e=this.lensFlares[t],e.x=this.positionScreen.x+r*e.distance,e.y=this.positionScreen.y+i*e.distance,e.wantedRotation=e.x*Math.PI*.25,e.rotation+=.25*(e.wantedRotation-e.rotation)}}),me.prototype=Object.create(J.prototype),me.prototype.constructor=me,me.prototype.copy=function(t){return J.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.rotation=t.rotation,this},ve.prototype=Object.assign(Object.create(lt.prototype),{constructor:ve,isSprite:!0,raycast:function(){var t=new l;return function(e,n){t.setFromMatrixPosition(this.matrixWorld);var r=e.ray.distanceSqToPoint(t);r>this.scale.x*this.scale.y/4||n.push({distance:Math.sqrt(r),point:this.position,face:null,object:this})}}(),clone:function(){return new this.constructor(this.material).copy(this)}}),ge.prototype=Object.assign(Object.create(lt.prototype),{constructor:ge,copy:function(t){lt.prototype.copy.call(this,t,!1);for(var e=t.levels,n=0,r=e.length;n<r;n++){var i=e[n];this.addLevel(i.object.clone(),i.distance)}return this},addLevel:function(t,e){void 0===e&&(e=0),e=Math.abs(e);for(var n=this.levels,r=0;r<n.length&&!(e<n[r].distance);r++);n.splice(r,0,{distance:e,object:t}),this.add(t)},getObjectForDistance:function(t){for(var e=this.levels,n=1,r=e.length;n<r&&!(t<e[n].distance);n++);return e[n-1].object},raycast:function(){var t=new l;return function(e,n){t.setFromMatrixPosition(this.matrixWorld);var r=e.ray.origin.distanceTo(t);this.getObjectForDistance(r).raycast(e,n)}}(),update:function(){var t=new l,e=new l;return function(n){var r=this.levels;if(r.length>1){t.setFromMatrixPosition(n.matrixWorld),e.setFromMatrixPosition(this.matrixWorld);var i=t.distanceTo(e);r[0].object.visible=!0;for(var o=1,s=r.length;o<s&&i>=r[o].distance;o++)r[o-1].object.visible=!1,r[o].object.visible=!0;for(;o<s;o++)r[o].object.visible=!1}}}(),toJSON:function(t){var e=lt.prototype.toJSON.call(this,t);e.object.levels=[];for(var n=this.levels,r=0,i=n.length;r<i;r++){var o=n[r];e.object.levels.push({object:o.object.uuid,distance:o.distance})}return e}}),Object.assign(ye.prototype,{calculateInverses:function(){this.boneInverses=[];for(var t=0,e=this.bones.length;t<e;t++){var n=new p;this.bones[t]&&n.getInverse(this.bones[t].matrixWorld),this.boneInverses.push(n)}},pose:function(){for(var t,e=0,n=this.bones.length;e<n;e++)(t=this.bones[e])&&t.matrixWorld.getInverse(this.boneInverses[e]);for(var e=0,n=this.bones.length;e<n;e++)(t=this.bones[e])&&(t.parent&&t.parent.isBone?(t.matrix.getInverse(t.parent.matrixWorld),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))},update:function(){var t=new p;return function(){for(var e=0,n=this.bones.length;e<n;e++){var r=this.bones[e]?this.bones[e].matrixWorld:this.identityMatrix;t.multiplyMatrices(r,this.boneInverses[e]),t.toArray(this.boneMatrices,16*e)}this.useVertexTexture&&(this.boneTexture.needsUpdate=!0)}}(),clone:function(){return new ye(this.bones,this.boneInverses,this.useVertexTexture)}}),_e.prototype=Object.assign(Object.create(lt.prototype),{constructor:_e,isBone:!0}),be.prototype=Object.assign(Object.create(Rt.prototype),{constructor:be,isSkinnedMesh:!0,bind:function(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.getInverse(e)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){if(this.geometry&&this.geometry.isGeometry)for(var t=0;t<this.geometry.skinWeights.length;t++){var e=this.geometry.skinWeights[t],n=1/e.lengthManhattan();n!==1/0?e.multiplyScalar(n):e.set(1,0,0,0)}else if(this.geometry&&this.geometry.isBufferGeometry)for(var r=new s,i=this.geometry.attributes.skinWeight,t=0;t<i.count;t++){r.x=i.getX(t),r.y=i.getY(t),r.z=i.getZ(t),r.w=i.getW(t);var n=1/r.lengthManhattan();n!==1/0?r.multiplyScalar(n):r.set(1,0,0,0),i.setXYZW(t,r.x,r.y,r.z,r.w)}},updateMatrixWorld:function(t){Rt.prototype.updateMatrixWorld.call(this,!0),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material,this.skeleton.useVertexTexture).copy(this)}}),we.prototype=Object.create(J.prototype),we.prototype.constructor=we,we.prototype.isLineBasicMaterial=!0,we.prototype.copy=function(t){return J.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this},xe.prototype=Object.assign(Object.create(lt.prototype),{constructor:xe,isLine:!0,raycast:function(){var t=new p,e=new at,n=new nt;return function(r,i){var o=r.linePrecision,s=o*o,a=this.geometry,u=this.matrixWorld;if(null===a.boundingSphere&&a.computeBoundingSphere(),n.copy(a.boundingSphere),n.applyMatrix4(u),r.ray.intersectsSphere(n)!==!1){t.getInverse(u),e.copy(r.ray).applyMatrix4(t);var c=new l,p=new l,h=new l,f=new l,d=this&&this.isLineSegments?2:1;if(a.isBufferGeometry){var m=a.index,v=a.attributes,g=v.position.array;if(null!==m)for(var y=m.array,_=0,b=y.length-1;_<b;_+=d){var w=y[_],x=y[_+1];c.fromArray(g,3*w),p.fromArray(g,3*x);var E=e.distanceSqToSegment(c,p,f,h);if(!(E>s)){f.applyMatrix4(this.matrixWorld);var S=r.ray.origin.distanceTo(f);S<r.near||S>r.far||i.push({distance:S,point:h.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}else for(var _=0,b=g.length/3-1;_<b;_+=d){c.fromArray(g,3*_),p.fromArray(g,3*_+3);var E=e.distanceSqToSegment(c,p,f,h);if(!(E>s)){f.applyMatrix4(this.matrixWorld);var S=r.ray.origin.distanceTo(f);S<r.near||S>r.far||i.push({distance:S,point:h.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}}else if(a.isGeometry)for(var M=a.vertices,C=M.length,_=0;_<C-1;_+=d){var E=e.distanceSqToSegment(M[_],M[_+1],f,h);if(!(E>s)){f.applyMatrix4(this.matrixWorld);var S=r.ray.origin.distanceTo(f);S<r.near||S>r.far||i.push({distance:S,point:h.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Ee.prototype=Object.assign(Object.create(xe.prototype),{constructor:Ee,isLineSegments:!0}),Se.prototype=Object.create(J.prototype),Se.prototype.constructor=Se,Se.prototype.isPointsMaterial=!0,Se.prototype.copy=function(t){return J.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this},Me.prototype=Object.assign(Object.create(lt.prototype),{constructor:Me,isPoints:!0,raycast:function(){var t=new p,e=new at,n=new nt;return function(r,i){function o(t,n){var o=e.distanceSqToPoint(t);if(o<h){var a=e.closestPointToPoint(t);a.applyMatrix4(u);var c=r.ray.origin.distanceTo(a);if(c<r.near||c>r.far)return;i.push({distance:c,distanceToRay:Math.sqrt(o),point:a.clone(),index:n,face:null,object:s})}}var s=this,a=this.geometry,u=this.matrixWorld,c=r.params.Points.threshold;if(null===a.boundingSphere&&a.computeBoundingSphere(),n.copy(a.boundingSphere),n.applyMatrix4(u),r.ray.intersectsSphere(n)!==!1){t.getInverse(u),e.copy(r.ray).applyMatrix4(t);var p=c/((this.scale.x+this.scale.y+this.scale.z)/3),h=p*p,f=new l;if(a.isBufferGeometry){var d=a.index,m=a.attributes,v=m.position.array;if(null!==d)for(var g=d.array,y=0,_=g.length;y<_;y++){var b=g[y];f.fromArray(v,3*b),o(f,b)}else for(var y=0,w=v.length/3;y<w;y++)f.fromArray(v,3*y),o(f,y)}else for(var x=a.vertices,y=0,w=x.length;y<w;y++)o(x[y],y)}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Ce.prototype=Object.assign(Object.create(lt.prototype),{constructor:Ce}),Te.prototype=Object.create(o.prototype),Te.prototype.constructor=Te,Ae.prototype=Object.create(o.prototype),Ae.prototype.constructor=Ae,Ae.prototype.isCompressedTexture=!0,Pe.prototype=Object.create(o.prototype),Pe.prototype.constructor=Pe,Re.prototype=Object.create(o.prototype),Re.prototype.constructor=Re,Re.prototype.isDepthTexture=!0,Oe.prototype=Object.create(Pt.prototype),Oe.prototype.constructor=Oe,Le.prototype=Object.create(At.prototype),Le.prototype.constructor=Le,Ie.prototype=Object.create(Pt.prototype),Ie.prototype.constructor=Ie,Ne.prototype=Object.create(At.prototype),Ne.prototype.constructor=Ne,De.prototype=Object.create(Pt.prototype),De.prototype.constructor=De,ke.prototype=Object.create(At.prototype),ke.prototype.constructor=ke,je.prototype=Object.create(De.prototype),je.prototype.constructor=je,Fe.prototype=Object.create(At.prototype),Fe.prototype.constructor=Fe,Ue.prototype=Object.create(De.prototype),Ue.prototype.constructor=Ue,Be.prototype=Object.create(At.prototype),Be.prototype.constructor=Be,Ve.prototype=Object.create(De.prototype),Ve.prototype.constructor=Ve,He.prototype=Object.create(At.prototype),He.prototype.constructor=He,ze.prototype=Object.create(De.prototype),ze.prototype.constructor=ze,Ge.prototype=Object.create(At.prototype),Ge.prototype.constructor=Ge,We.prototype=Object.create(Pt.prototype),We.prototype.constructor=We,qe.prototype=Object.create(At.prototype),qe.prototype.constructor=qe,Xe.prototype=Object.create(Pt.prototype),Xe.prototype.constructor=Xe,Ye.prototype=Object.create(At.prototype),Ye.prototype.constructor=Ye,Ze.prototype=Object.create(Pt.prototype),Ze.prototype.constructor=Ze;var Pc={area:function(t){for(var e=t.length,n=0,r=e-1,i=0;i<e;r=i++)n+=t[r].x*t[i].y-t[i].x*t[r].y;return.5*n},triangulate:function(){function t(t,e,n,r,i,o){var s,a,u,c,l,p,h,f,d;if(a=t[o[e]].x,u=t[o[e]].y,c=t[o[n]].x,l=t[o[n]].y,p=t[o[r]].x,h=t[o[r]].y,(c-a)*(h-u)-(l-u)*(p-a)<=0)return!1;var m,v,g,y,_,b,w,x,E,S,M,C,T,A,P;for(m=p-c,v=h-l,g=a-p,y=u-h,_=c-a,b=l-u,s=0;s<i;s++)if(f=t[o[s]].x,d=t[o[s]].y,!(f===a&&d===u||f===c&&d===l||f===p&&d===h)&&(w=f-a,x=d-u,E=f-c,S=d-l,M=f-p,C=d-h,P=m*S-v*E,T=_*x-b*w,A=g*C-y*M,P>=-Number.EPSILON&&A>=-Number.EPSILON&&T>=-Number.EPSILON))return!1;return!0}return function(e,n){var r=e.length;if(r<3)return null;var i,o,s,a=[],u=[],c=[];if(Pc.area(e)>0)for(o=0;o<r;o++)u[o]=o;else for(o=0;o<r;o++)u[o]=r-1-o;var l=r,p=2*l;for(o=l-1;l>2;){if(p--<=0)return console.warn("THREE.ShapeUtils: Unable to triangulate polygon! in triangulate()"),n?c:a;if(i=o,l<=i&&(i=0),o=i+1,l<=o&&(o=0),s=o+1,l<=s&&(s=0),t(e,i,o,s,l,u)){var h,f,d,m,v;for(h=u[i],f=u[o],d=u[s],a.push([e[h],e[f],e[d]]),c.push([u[i],u[o],u[s]]),m=o,v=o+1;v<l;m++,v++)u[m]=u[v];l--,p=2*l}}return n?c:a}}(),triangulateShape:function(t,e){function n(t){var e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function r(t,e,n){return t.x!==e.x?t.x<e.x?t.x<=n.x&&n.x<=e.x:e.x<=n.x&&n.x<=t.x:t.y<e.y?t.y<=n.y&&n.y<=e.y:e.y<=n.y&&n.y<=t.y}function i(t,e,n,i,o){var s=e.x-t.x,a=e.y-t.y,u=i.x-n.x,c=i.y-n.y,l=t.x-n.x,p=t.y-n.y,h=a*u-s*c,f=a*l-s*p;if(Math.abs(h)>Number.EPSILON){var d;if(h>0){if(f<0||f>h)return[];if((d=c*l-u*p)<0||d>h)return[]}else{if(f>0||f<h)return[];if((d=c*l-u*p)>0||d<h)return[]}if(0===d)return!o||0!==f&&f!==h?[t]:[];if(d===h)return!o||0!==f&&f!==h?[e]:[];if(0===f)return[n];if(f===h)return[i];var m=d/h;return[{x:t.x+m*s,y:t.y+m*a}]}if(0!==f||c*l!=u*p)return[];var v=0===s&&0===a,g=0===u&&0===c;if(v&&g)return t.x!==n.x||t.y!==n.y?[]:[t];if(v)return r(n,i,t)?[t]:[];if(g)return r(t,e,n)?[n]:[];var y,_,b,w,x,E,S,M;return 0!==s?(t.x<e.x?(y=t,b=t.x,_=e,w=e.x):(y=e,b=e.x,_=t,w=t.x),n.x<i.x?(x=n,S=n.x,E=i,M=i.x):(x=i,S=i.x,E=n,M=n.x)):(t.y<e.y?(y=t,b=t.y,_=e,w=e.y):(y=e,b=e.y,_=t,w=t.y),n.y<i.y?(x=n,S=n.y,E=i,M=i.y):(x=i,S=i.y,E=n,M=n.y)),b<=S?w<S?[]:w===S?o?[]:[x]:w<=M?[x,_]:[x,E]:b>M?[]:b===M?o?[]:[y]:w<=M?[y,_]:[y,E]}function o(t,e,n,r){var i=e.x-t.x,o=e.y-t.y,s=n.x-t.x,a=n.y-t.y,u=r.x-t.x,c=r.y-t.y,l=i*a-o*s,p=i*c-o*u;if(Math.abs(l)>Number.EPSILON){var h=u*a-c*s;return l>0?p>=0&&h>=0:p>=0||h>=0}return p>0}function s(t,e){function n(t,e){var n=y.length-1,r=t-1;r<0&&(r=n);var i=t+1;i>n&&(i=0);var s=o(y[t],y[r],y[i],a[e]);if(!s)return!1;var u=a.length-1,c=e-1;c<0&&(c=u);var l=e+1;return l>u&&(l=0),!!(s=o(a[e],a[c],a[l],y[t]))}function r(t,e){var n,r,o;for(n=0;n<y.length;n++)if(r=n+1,r%=y.length,o=i(t,e,y[n],y[r],!0),o.length>0)return!0;return!1}function s(t,n){var r,o,s,a,u;for(r=0;r<_.length;r++)for(o=e[_[r]],s=0;s<o.length;s++)if(a=s+1,a%=o.length,u=i(t,n,o[s],o[a],!0),u.length>0)return!0;return!1}for(var a,u,c,l,p,h,f,d,m,v,g,y=t.concat(),_=[],b=[],w=0,x=e.length;w<x;w++)_.push(w);for(var E=0,S=2*_.length;_.length>0;){if(--S<0){console.log("Infinite Loop! Holes left:"+_.length+", Probably Hole outside Shape!");break}for(c=E;c<y.length;c++){l=y[c],u=-1;for(var w=0;w<_.length;w++)if(h=_[w],f=l.x+":"+l.y+":"+h,void 0===b[f]){a=e[h];for(var M=0;M<a.length;M++)if(p=a[M],n(c,M)&&!r(l,p)&&!s(l,p)){u=M,_.splice(w,1),d=y.slice(0,c+1),m=y.slice(c),v=a.slice(u),g=a.slice(0,u+1),y=d.concat(v).concat(g).concat(m),E=c;break}if(u>=0)break;b[f]=!0}if(u>=0)break}}return y}n(t),e.forEach(n);for(var a,u,c,l,p,h,f={},d=t.concat(),m=0,v=e.length;m<v;m++)Array.prototype.push.apply(d,e[m]);for(a=0,u=d.length;a<u;a++)p=d[a].x+":"+d[a].y,void 0!==f[p]&&console.warn("THREE.ShapeUtils: Duplicate point",p,a),f[p]=a;var g=s(t,e),y=Pc.triangulate(g,!1);for(a=0,u=y.length;a<u;a++)for(l=y[a],c=0;c<3;c++)p=l[c].x+":"+l[c].y,void 0!==(h=f[p])&&(l[c]=h);return y.concat()},isClockWise:function(t){return Pc.area(t)<0}};Qe.prototype=Object.create(At.prototype),Qe.prototype.constructor=Qe,Qe.prototype.addShapeList=function(t,e){for(var n=t.length,r=0;r<n;r++){var i=t[r];this.addShape(i,e)}},Qe.prototype.addShape=function(t,e){function n(t,e,n){return e||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().multiplyScalar(n).add(t)}function r(t,e,n){var r,o,s=1,a=t.x-e.x,u=t.y-e.y,c=n.x-t.x,l=n.y-t.y,p=a*a+u*u,h=a*l-u*c;if(Math.abs(h)>Number.EPSILON){var f=Math.sqrt(p),d=Math.sqrt(c*c+l*l),m=e.x-u/f,v=e.y+a/f,g=n.x-l/d,y=n.y+c/d,_=((g-m)*l-(y-v)*c)/(a*l-u*c);r=m+a*_-t.x,o=v+u*_-t.y;var b=r*r+o*o;if(b<=2)return new i(r,o);s=Math.sqrt(b/2)}else{var w=!1;a>Number.EPSILON?c>Number.EPSILON&&(w=!0):a<-Number.EPSILON?c<-Number.EPSILON&&(w=!0):Math.sign(u)===Math.sign(l)&&(w=!0),w?(r=-u,o=a,s=Math.sqrt(p)):(r=a,o=u,s=Math.sqrt(p/2))}return new i(r/s,o/s)}function o(){if(w){var t=0,e=G*t;for(X=0;X<W;X++)z=k[X],c(z[2]+e,z[1]+e,z[0]+e);for(t=E+2*b,e=G*t,X=0;X<W;X++)z=k[X],c(z[0]+e,z[1]+e,z[2]+e)}else{for(X=0;X<W;X++)z=k[X],c(z[2],z[1],z[0]);for(X=0;X<W;X++)z=k[X],c(z[0]+G*E,z[1]+G*E,z[2]+G*E)}}function s(){var t=0;for(a(j,t),t+=j.length,A=0,P=N.length;A<P;A++)T=N[A],a(T,t),t+=T.length}function a(t,e){var n,r;for(X=t.length;--X>=0;){n=X,r=X-1,r<0&&(r=t.length-1);var i=0,o=E+2*b;for(i=0;i<o;i++){var s=G*i,a=G*(i+1);p(e+n+s,e+r+s,e+r+a,e+n+a,t,i,o,n,r)}}}function u(t,e,n){R.vertices.push(new l(t,e,n))}function c(t,e,n){t+=O,e+=O,n+=O,R.faces.push(new ft(t,e,n,null,null,0));var r=C.generateTopUV(R,t,e,n);R.faceVertexUvs[0].push(r)}function p(t,e,n,r,i,o,s,a,u){t+=O,e+=O,n+=O,r+=O,R.faces.push(new ft(t,e,r,null,null,1)),R.faces.push(new ft(e,n,r,null,null,1));var c=C.generateSideWallUV(R,t,e,n,r);R.faceVertexUvs[0].push([c[0],c[1],c[3]]),R.faceVertexUvs[0].push([c[1],c[2],c[3]])}var h,f,d,m,v,g=void 0!==e.amount?e.amount:100,y=void 0!==e.bevelThickness?e.bevelThickness:6,_=void 0!==e.bevelSize?e.bevelSize:y-2,b=void 0!==e.bevelSegments?e.bevelSegments:3,w=void 0===e.bevelEnabled||e.bevelEnabled,x=void 0!==e.curveSegments?e.curveSegments:12,E=void 0!==e.steps?e.steps:1,S=e.extrudePath,M=!1,C=void 0!==e.UVGenerator?e.UVGenerator:Qe.WorldUVGenerator;S&&(h=S.getSpacedPoints(E),M=!0,w=!1,f=void 0!==e.frames?e.frames:S.computeFrenetFrames(E,!1),d=new l,m=new l,v=new l),w||(b=0,y=0,_=0);var T,A,P,R=this,O=this.vertices.length,L=t.extractPoints(x),I=L.shape,N=L.holes,D=!Pc.isClockWise(I);if(D){for(I=I.reverse(),A=0,P=N.length;A<P;A++)T=N[A],Pc.isClockWise(T)&&(N[A]=T.reverse());D=!1}var k=Pc.triangulateShape(I,N),j=I;for(A=0,P=N.length;A<P;A++)T=N[A],I=I.concat(T);for(var F,U,B,V,H,z,G=I.length,W=k.length,q=[],X=0,Y=j.length,Z=Y-1,Q=X+1;X<Y;X++,Z++,Q++)Z===Y&&(Z=0),Q===Y&&(Q=0),q[X]=r(j[X],j[Z],j[Q]);var K,J=[],$=q.concat();for(A=0,P=N.length;A<P;A++){for(T=N[A],K=[],X=0,Y=T.length,Z=Y-1,Q=X+1;X<Y;X++,Z++,Q++)Z===Y&&(Z=0),Q===Y&&(Q=0),K[X]=r(T[X],T[Z],T[Q]);J.push(K),$=$.concat(K)}for(F=0;F<b;F++){for(B=F/b,V=y*Math.cos(B*Math.PI/2),U=_*Math.sin(B*Math.PI/2),X=0,Y=j.length;X<Y;X++)H=n(j[X],q[X],U),u(H.x,H.y,-V);for(A=0,P=N.length;A<P;A++)for(T=N[A],K=J[A],X=0,Y=T.length;X<Y;X++)H=n(T[X],K[X],U),u(H.x,H.y,-V)}for(U=_,X=0;X<G;X++)H=w?n(I[X],$[X],U):I[X],M?(m.copy(f.normals[0]).multiplyScalar(H.x),d.copy(f.binormals[0]).multiplyScalar(H.y),v.copy(h[0]).add(m).add(d),u(v.x,v.y,v.z)):u(H.x,H.y,0);var tt;for(tt=1;tt<=E;tt++)for(X=0;X<G;X++)H=w?n(I[X],$[X],U):I[X],M?(m.copy(f.normals[tt]).multiplyScalar(H.x),d.copy(f.binormals[tt]).multiplyScalar(H.y),v.copy(h[tt]).add(m).add(d),u(v.x,v.y,v.z)):u(H.x,H.y,g/E*tt);for(F=b-1;F>=0;F--){for(B=F/b,V=y*Math.cos(B*Math.PI/2),U=_*Math.sin(B*Math.PI/2),X=0,Y=j.length;X<Y;X++)H=n(j[X],q[X],U),u(H.x,H.y,g+V);for(A=0,P=N.length;A<P;A++)for(T=N[A],K=J[A],X=0,Y=T.length;X<Y;X++)H=n(T[X],K[X],U),M?u(H.x,H.y+h[E-1].y,h[E-1].x+V):u(H.x,H.y,g+V)}o(),s()},Qe.WorldUVGenerator={generateTopUV:function(t,e,n,r){var o=t.vertices,s=o[e],a=o[n],u=o[r];return[new i(s.x,s.y),new i(a.x,a.y),new i(u.x,u.y)]},generateSideWallUV:function(t,e,n,r,o){var s=t.vertices,a=s[e],u=s[n],c=s[r],l=s[o];return Math.abs(a.y-u.y)<.01?[new i(a.x,1-a.z),new i(u.x,1-u.z),new i(c.x,1-c.z),new i(l.x,1-l.z)]:[new i(a.y,1-a.z),new i(u.y,1-u.z),new i(c.y,1-c.z),new i(l.y,1-l.z)]}},Ke.prototype=Object.create(Qe.prototype),Ke.prototype.constructor=Ke,Je.prototype=Object.create(At.prototype),Je.prototype.constructor=Je,$e.prototype=Object.create(Pt.prototype),$e.prototype.constructor=$e,tn.prototype=Object.create(At.prototype),tn.prototype.constructor=tn,en.prototype=Object.create(Pt.prototype),en.prototype.constructor=en,nn.prototype=Object.create(At.prototype),nn.prototype.constructor=nn,rn.prototype=Object.create(Pt.prototype),rn.prototype.constructor=rn,on.prototype=Object.create(At.prototype),on.prototype.constructor=on,sn.prototype=Object.create(Pt.prototype),sn.prototype.constructor=sn,an.prototype=Object.create(Pt.prototype),an.prototype.constructor=an,un.prototype=Object.create(At.prototype),un.prototype.constructor=un,cn.prototype=Object.create(Pt.prototype),cn.prototype.constructor=cn,ln.prototype=Object.create(un.prototype),ln.prototype.constructor=ln,pn.prototype=Object.create(cn.prototype),pn.prototype.constructor=pn,hn.prototype=Object.create(At.prototype),hn.prototype.constructor=hn,fn.prototype=Object.create(Pt.prototype),fn.prototype.constructor=fn;var Rc=Object.freeze({WireframeGeometry:Oe,ParametricGeometry:Le,ParametricBufferGeometry:Ie,TetrahedronGeometry:ke,TetrahedronBufferGeometry:je,OctahedronGeometry:Fe,OctahedronBufferGeometry:Ue,IcosahedronGeometry:Be,IcosahedronBufferGeometry:Ve,DodecahedronGeometry:He,DodecahedronBufferGeometry:ze,PolyhedronGeometry:Ne,PolyhedronBufferGeometry:De,TubeGeometry:Ge,TubeBufferGeometry:We,TorusKnotGeometry:qe,TorusKnotBufferGeometry:Xe,TorusGeometry:Ye,TorusBufferGeometry:Ze,TextGeometry:Ke,SphereGeometry:Je,SphereBufferGeometry:$e,RingGeometry:tn,RingBufferGeometry:en,PlaneGeometry:It,PlaneBufferGeometry:Nt,LatheGeometry:nn,LatheBufferGeometry:rn,ShapeGeometry:on,ShapeBufferGeometry:sn,ExtrudeGeometry:Qe,EdgesGeometry:an,ConeGeometry:ln,ConeBufferGeometry:pn,CylinderGeometry:un,CylinderBufferGeometry:cn,CircleGeometry:hn,CircleBufferGeometry:fn,BoxGeometry:Ot,BoxBufferGeometry:Lt});dn.prototype=Object.create($.prototype),dn.prototype.constructor=dn,dn.prototype.isShadowMaterial=!0,mn.prototype=Object.create($.prototype),mn.prototype.constructor=mn,mn.prototype.isRawShaderMaterial=!0,vn.prototype={constructor:vn,isMultiMaterial:!0,toJSON:function(t){for(var e={metadata:{version:4.2,type:"material",generator:"MaterialExporter"},uuid:this.uuid,type:this.type,materials:[]},n=this.materials,r=0,i=n.length;r<i;r++){var o=n[r].toJSON(t);delete o.metadata,e.materials.push(o)}return e.visible=this.visible,e},clone:function(){for(var t=new this.constructor,e=0;e<this.materials.length;e++)t.materials.push(this.materials[e].clone());return t.visible=this.visible,t}},gn.prototype=Object.create(J.prototype),gn.prototype.constructor=gn,gn.prototype.isMeshStandardMaterial=!0,gn.prototype.copy=function(t){return J.prototype.copy.call(this,t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},yn.prototype=Object.create(gn.prototype),yn.prototype.constructor=yn,yn.prototype.isMeshPhysicalMaterial=!0,yn.prototype.copy=function(t){return gn.prototype.copy.call(this,t),this.defines={PHYSICAL:""},this.reflectivity=t.reflectivity,this.clearCoat=t.clearCoat,this.clearCoatRoughness=t.clearCoatRoughness,this},_n.prototype=Object.create(J.prototype),_n.prototype.constructor=_n,_n.prototype.isMeshPhongMaterial=!0,_n.prototype.copy=function(t){return J.prototype.copy.call(this,t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},bn.prototype=Object.create(_n.prototype),bn.prototype.constructor=bn,bn.prototype.isMeshToonMaterial=!0,bn.prototype.copy=function(t){return _n.prototype.copy.call(this,t),this.gradientMap=t.gradientMap,this},wn.prototype=Object.create(J.prototype),wn.prototype.constructor=wn,wn.prototype.isMeshNormalMaterial=!0,wn.prototype.copy=function(t){return J.prototype.copy.call(this,t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},xn.prototype=Object.create(J.prototype),xn.prototype.constructor=xn,xn.prototype.isMeshLambertMaterial=!0,xn.prototype.copy=function(t){return J.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},En.prototype=Object.create(J.prototype),En.prototype.constructor=En,En.prototype.isLineDashedMaterial=!0,En.prototype.copy=function(t){return J.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this};var Oc=Object.freeze({ShadowMaterial:dn,SpriteMaterial:me,RawShaderMaterial:mn,ShaderMaterial:$,PointsMaterial:Se,MultiMaterial:vn,MeshPhysicalMaterial:yn,MeshStandardMaterial:gn,MeshPhongMaterial:_n,MeshToonMaterial:bn,MeshNormalMaterial:wn,MeshLambertMaterial:xn,MeshDepthMaterial:tt,MeshBasicMaterial:dt,LineDashedMaterial:En,LineBasicMaterial:we,Material:J}),Lc={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}},Ic=new Sn;Object.assign(Mn.prototype,{load:function(t,e,n,r){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t);var i=this,o=Lc.get(t);if(void 0!==o)return i.manager.itemStart(t),setTimeout(function(){e&&e(o),i.manager.itemEnd(t)},0),o;var s=/^data:(.*?)(;base64)?,(.*)$/,a=t.match(s);if(a){var u=a[1],c=!!a[2],l=a[3];l=window.decodeURIComponent(l),c&&(l=window.atob(l));try{var p,h=(this.responseType||"").toLowerCase();switch(h){case"arraybuffer":case"blob":p=new ArrayBuffer(l.length);for(var f=new Uint8Array(p),d=0;d<l.length;d++)f[d]=l.charCodeAt(d);"blob"===h&&(p=new Blob([p],{type:u}));break;case"document":p=(new DOMParser).parseFromString(l,u);break;case"json":p=JSON.parse(l);break;default:p=l}window.setTimeout(function(){e&&e(p),i.manager.itemEnd(t)},0)}catch(e){window.setTimeout(function(){r&&r(e),i.manager.itemError(t)},0)}}else{var m=new XMLHttpRequest;m.open("GET",t,!0),m.addEventListener("load",function(n){var o=n.target.response;Lc.add(t,o),200===this.status?(e&&e(o),i.manager.itemEnd(t)):0===this.status?(console.warn("THREE.FileLoader: HTTP Status 0 received."),e&&e(o),i.manager.itemEnd(t)):(r&&r(n),i.manager.itemError(t))},!1),void 0!==n&&m.addEventListener("progress",function(t){n(t)},!1),m.addEventListener("error",function(e){r&&r(e),i.manager.itemError(t)},!1),void 0!==this.responseType&&(m.responseType=this.responseType),void 0!==this.withCredentials&&(m.withCredentials=this.withCredentials),m.overrideMimeType&&m.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),m.send(null)}return i.manager.itemStart(t),m},setPath:function(t){return this.path=t,this},setResponseType:function(t){return this.responseType=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setMimeType:function(t){return this.mimeType=t,this}}),Object.assign(Cn.prototype,{load:function(t,e,n,r){function i(i){u.load(t[i],function(t){var n=o._parser(t,!0);s[i]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(c+=1)&&(1===n.mipmapCount&&(a.minFilter=fs),a.format=n.format,a.needsUpdate=!0,e&&e(a))},n,r)}var o=this,s=[],a=new Ae;a.image=s;var u=new Mn(this.manager);if(u.setPath(this.path),u.setResponseType("arraybuffer"),Array.isArray(t))for(var c=0,l=0,p=t.length;l<p;++l)i(l);else u.load(t,function(t){var n=o._parser(t,!0);if(n.isCubemap)for(var r=n.mipmaps.length/n.mipmapCount,i=0;i<r;i++){s[i]={mipmaps:[]};for(var u=0;u<n.mipmapCount;u++)s[i].mipmaps.push(n.mipmaps[i*n.mipmapCount+u]),s[i].format=n.format,s[i].width=n.width,s[i].height=n.height}else a.image.width=n.width,a.image.height=n.height,a.mipmaps=n.mipmaps;1===n.mipmapCount&&(a.minFilter=fs),a.format=n.format,a.needsUpdate=!0,e&&e(a)},n,r);return a},setPath:function(t){return this.path=t,this}}),Object.assign(Tn.prototype,{load:function(t,e,n,r){var i=this,o=new Y,s=new Mn(this.manager);return s.setResponseType("arraybuffer"),s.load(t,function(t){var n=i._parser(t);n&&(void 0!==n.image?o.image=n.image:void 0!==n.data&&(o.image.width=n.width,o.image.height=n.height,o.image.data=n.data),o.wrapS=void 0!==n.wrapS?n.wrapS:us,o.wrapT=void 0!==n.wrapT?n.wrapT:us,o.magFilter=void 0!==n.magFilter?n.magFilter:fs,o.minFilter=void 0!==n.minFilter?n.minFilter:ms,o.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.format&&(o.format=n.format),void 0!==n.type&&(o.type=n.type),void 0!==n.mipmaps&&(o.mipmaps=n.mipmaps),1===n.mipmapCount&&(o.minFilter=fs),o.needsUpdate=!0,e&&e(o,n))},n,r),o}}),Object.assign(An.prototype,{load:function(t,e,n,r){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t);var i=this,o=Lc.get(t);if(void 0!==o)return i.manager.itemStart(t),setTimeout(function(){e&&e(o),i.manager.itemEnd(t)},0),o;var s=document.createElementNS("http://www.w3.org/1999/xhtml","img");return s.addEventListener("load",function(){Lc.add(t,this),e&&e(this),i.manager.itemEnd(t)},!1),s.addEventListener("error",function(e){r&&r(e),i.manager.itemError(t)},!1),void 0!==this.crossOrigin&&(s.crossOrigin=this.crossOrigin),i.manager.itemStart(t),s.src=t,s},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(Pn.prototype,{load:function(t,e,n,r){function i(n){s.load(t[n],function(t){o.images[n]=t,6===++a&&(o.needsUpdate=!0,e&&e(o))},void 0,r)}var o=new h,s=new An(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);for(var a=0,u=0;u<t.length;++u)i(u);return o},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(Rn.prototype,{load:function(t,e,n,r){var i=new o,s=new An(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(t,function(n){var r=t.search(/\.(jpg|jpeg)$/)>0||0===t.search(/^data\:image\/jpeg/);i.format=r?Ps:Rs,i.image=n,i.needsUpdate=!0,void 0!==e&&e(i)},n,r),i},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),On.prototype=Object.assign(Object.create(lt.prototype),{constructor:On,isLight:!0,copy:function(t){return lt.prototype.copy.call(this,t),this.color.copy(t.color),this.intensity=t.intensity,this},toJSON:function(t){var e=lt.prototype.toJSON.call(this,t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}),Ln.prototype=Object.assign(Object.create(On.prototype),{constructor:Ln,isHemisphereLight:!0,copy:function(t){return On.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}),Object.assign(In.prototype,{copy:function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var t={};return 0!==this.bias&&(t.bias=this.bias),1!==this.radius&&(t.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}),Nn.prototype=Object.assign(Object.create(In.prototype),{constructor:Nn,isSpotLightShadow:!0,update:function(t){var e=2*fa.RAD2DEG*t.angle,n=this.mapSize.width/this.mapSize.height,r=t.distance||500,i=this.camera;e===i.fov&&n===i.aspect&&r===i.far||(i.fov=e,i.aspect=n,i.far=r,i.updateProjectionMatrix())}}),Dn.prototype=Object.assign(Object.create(On.prototype),{constructor:Dn,isSpotLight:!0,copy:function(t){return On.prototype.copy.call(this,t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),kn.prototype=Object.assign(Object.create(On.prototype),{constructor:kn,isPointLight:!0,copy:function(t){return On.prototype.copy.call(this,t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}),jn.prototype=Object.assign(Object.create(In.prototype),{constructor:jn}),Fn.prototype=Object.assign(Object.create(On.prototype),{constructor:Fn,isDirectionalLight:!0,copy:function(t){return On.prototype.copy.call(this,t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),Un.prototype=Object.assign(Object.create(On.prototype),{constructor:Un,isAmbientLight:!0});var Nc={arraySlice:function(t,e,n){return Nc.isTypedArray(t)?new t.constructor(t.subarray(e,n)):t.slice(e,n)},convertArray:function(t,e,n){return!t||!n&&t.constructor===e?t:"number"==typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){function e(e,n){return t[e]-t[n]}for(var n=t.length,r=new Array(n),i=0;i!==n;++i)r[i]=i;return r.sort(e),r},sortedArray:function(t,e,n){for(var r=t.length,i=new t.constructor(r),o=0,s=0;s!==r;++o)for(var a=n[o]*e,u=0;u!==e;++u)i[s++]=t[a+u];return i},flattenJSON:function(t,e,n,r){for(var i=1,o=t[0];void 0!==o&&void 0===o[r];)o=t[i++];if(void 0!==o){var s=o[r];if(void 0!==s)if(Array.isArray(s))do{s=o[r],void 0!==s&&(e.push(o.time),n.push.apply(n,s)),o=t[i++]}while(void 0!==o);else if(void 0!==s.toArray)do{s=o[r],void 0!==s&&(e.push(o.time),s.toArray(n,n.length)),o=t[i++]}while(void 0!==o);else do{s=o[r],void 0!==s&&(e.push(o.time),n.push(s)),o=t[i++]}while(void 0!==o)}}};Bn.prototype={constructor:Bn,evaluate:function(t){var e=this.parameterPositions,n=this._cachedIndex,r=e[n],i=e[n-1];t:{e:{var o;n:{r:if(!(t<r)){for(var s=n+2;;){if(void 0===r){if(t<i)break r;return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,t,i)}if(n===s)break;if(i=r,r=e[++n],t<r)break e}o=e.length;break n}{if(t>=i)break t;var a=e[1];t<a&&(n=2,i=a);for(var s=n-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,t,r);if(n===s)break;if(r=i,i=e[--n-1],t>=i)break e}o=n,n=0}}for(;n<o;){var u=n+o>>>1;t<e[u]?o=u:n=u+1}if(r=e[n],void 0===(i=e[n-1]))return this._cachedIndex=0,this.beforeStart_(0,t,r);if(void 0===r)return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,i,t)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,t,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(t){for(var e=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=t*r,o=0;o!==r;++o)e[o]=n[i+o];return e},interpolate_:function(t,e,n,r){throw new Error("call to abstract method")},intervalChanged_:function(t,e,n){}},Object.assign(Bn.prototype,{beforeStart_:Bn.prototype.copySampleValue_,afterEnd_:Bn.prototype.copySampleValue_}),Vn.prototype=Object.assign(Object.create(Bn.prototype),{constructor:Vn,DefaultSettings_:{endingStart:Ks,endingEnd:Ks},intervalChanged_:function(t,e,n){var r=this.parameterPositions,i=t-2,o=t+1,s=r[i],a=r[o];if(void 0===s)switch(this.getSettings_().endingStart){case Js:i=t,s=2*e-n;break;case $s:i=r.length-2,s=e+r[i]-r[i+1];break;default:i=t,s=n}if(void 0===a)switch(this.getSettings_().endingEnd){case Js:o=t,a=2*n-e;break;case $s:o=1,a=n+r[1]-r[0];break;default:o=t-1,a=e}var u=.5*(n-e),c=this.valueSize;this._weightPrev=u/(e-s),this._weightNext=u/(a-n),this._offsetPrev=i*c,this._offsetNext=o*c},interpolate_:function(t,e,n,r){for(var i=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=t*s,u=a-s,c=this._offsetPrev,l=this._offsetNext,p=this._weightPrev,h=this._weightNext,f=(n-e)/(r-e),d=f*f,m=d*f,v=-p*m+2*p*d-p*f,g=(1+p)*m+(-1.5-2*p)*d+(-.5+p)*f+1,y=(-1-h)*m+(1.5+h)*d+.5*f,_=h*m-h*d,b=0;b!==s;++b)i[b]=v*o[c+b]+g*o[u+b]+y*o[a+b]+_*o[l+b];return i}}),Hn.prototype=Object.assign(Object.create(Bn.prototype),{constructor:Hn,interpolate_:function(t,e,n,r){for(var i=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=t*s,u=a-s,c=(n-e)/(r-e),l=1-c,p=0;p!==s;++p)i[p]=o[u+p]*l+o[a+p]*c;return i}}),zn.prototype=Object.assign(Object.create(Bn.prototype),{constructor:zn,interpolate_:function(t,e,n,r){return this.copySampleValue_(t-1)}});var Dc;Dc={TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:Zs,InterpolantFactoryMethodDiscrete:function(t){return new zn(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodLinear:function(t){return new Hn(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:function(t){return new Vn(this.times,this.values,this.getValueSize(),t)},setInterpolation:function(t){var e;switch(t){case Ys:e=this.InterpolantFactoryMethodDiscrete;break;case Zs:e=this.InterpolantFactoryMethodLinear;break;case Qs:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return void console.warn(n)}this.createInterpolant=e},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Ys;case this.InterpolantFactoryMethodLinear:return Zs;case this.InterpolantFactoryMethodSmooth:return Qs}},getValueSize:function(){return this.values.length/this.times.length},shift:function(t){if(0!==t)for(var e=this.times,n=0,r=e.length;n!==r;++n)e[n]+=t;return this},scale:function(t){if(1!==t)for(var e=this.times,n=0,r=e.length;n!==r;++n)e[n]*=t;return this},trim:function(t,e){for(var n=this.times,r=n.length,i=0,o=r-1;i!==r&&n[i]<t;)++i;for(;o!==-1&&n[o]>e;)--o;if(++o,0!==i||o!==r){i>=o&&(o=Math.max(o,1),i=o-1);var s=this.getValueSize();this.times=Nc.arraySlice(n,i,o),this.values=Nc.arraySlice(this.values,i*s,o*s)}return this},validate:function(){var t=!0,e=this.getValueSize();e-Math.floor(e)!=0&&(console.error("invalid value size in track",this),t=!1);var n=this.times,r=this.values,i=n.length;0===i&&(console.error("track is empty",this),t=!1);for(var o=null,s=0;s!==i;s++){var a=n[s];if("number"==typeof a&&isNaN(a)){console.error("time is not a valid number",this,s,a),t=!1;break}if(null!==o&&o>a){console.error("out of order keys",this,s,a,o),t=!1;break}o=a}if(void 0!==r&&Nc.isTypedArray(r))for(var s=0,u=r.length;s!==u;++s){var c=r[s];if(isNaN(c)){console.error("value is not a valid number",this,s,c),t=!1;break}}return t},optimize:function(){for(var t=this.times,e=this.values,n=this.getValueSize(),r=this.getInterpolation()===Qs,i=1,o=t.length-1,s=1;s<o;++s){var a=!1,u=t[s];if(u!==t[s+1]&&(1!==s||u!==u[0]))if(r)a=!0;else for(var c=s*n,l=c-n,p=c+n,h=0;h!==n;++h){var f=e[c+h];if(f!==e[l+h]||f!==e[p+h]){a=!0;break}}if(a){if(s!==i){t[i]=t[s];for(var d=s*n,m=i*n,h=0;h!==n;++h)e[m+h]=e[d+h]}++i}}if(o>0){t[i]=t[o];for(var d=o*n,m=i*n,h=0;h!==n;++h)e[m+h]=e[d+h];++i}return i!==t.length&&(this.times=Nc.arraySlice(t,0,i),this.values=Nc.arraySlice(e,0,i*n)),this}},Wn.prototype=Object.assign(Object.create(Dc),{constructor:Wn,ValueTypeName:"vector"}),qn.prototype=Object.assign(Object.create(Bn.prototype),{constructor:qn,interpolate_:function(t,e,n,r){for(var i=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=t*s,u=(n-e)/(r-e),l=a+s;a!==l;a+=4)c.slerpFlat(i,0,o,a-s,o,a,u);return i}}),Xn.prototype=Object.assign(Object.create(Dc),{constructor:Xn,ValueTypeName:"quaternion",DefaultInterpolation:Zs,InterpolantFactoryMethodLinear:function(t){return new qn(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:void 0}),Yn.prototype=Object.assign(Object.create(Dc),{constructor:Yn,ValueTypeName:"number"}),Zn.prototype=Object.assign(Object.create(Dc),{constructor:Zn,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:Ys,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Qn.prototype=Object.assign(Object.create(Dc),{constructor:Qn,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:Ys,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Kn.prototype=Object.assign(Object.create(Dc),{constructor:Kn,ValueTypeName:"color"}),Jn.prototype=Dc,Dc.constructor=Jn,Object.assign(Jn,{parse:function(t){if(void 0===t.type)throw new Error("track type undefined, can not parse");var e=Jn._getTrackTypeForValueTypeName(t.type);if(void 0===t.times){var n=[],r=[];Nc.flattenJSON(t.keys,n,r,"value"),t.times=n,t.values=r}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)},toJSON:function(t){var e,n=t.constructor;if(void 0!==n.toJSON)e=n.toJSON(t);else{e={name:t.name,times:Nc.convertArray(t.times,Array),values:Nc.convertArray(t.values,Array)};var r=t.getInterpolation();r!==t.DefaultInterpolation&&(e.interpolation=r)}return e.type=t.ValueTypeName,e},_getTrackTypeForValueTypeName:function(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Yn;case"vector":case"vector2":case"vector3":case"vector4":return Wn;case"color":return Kn;case"quaternion":return Xn;case"bool":case"boolean":return Qn;case"string":return Zn}throw new Error("Unsupported typeName: "+t)}}),$n.prototype={constructor:$n,resetDuration:function(){for(var t=this.tracks,e=0,n=0,r=t.length;n!==r;++n){var i=this.tracks[n];e=Math.max(e,i.times[i.times.length-1])}this.duration=e},trim:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this},optimize:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}},Object.assign($n,{parse:function(t){for(var e=[],n=t.tracks,r=1/(t.fps||1),i=0,o=n.length;i!==o;++i)e.push(Jn.parse(n[i]).scale(r));return new $n(t.name,t.duration,e)},toJSON:function(t){for(var e=[],n=t.tracks,r={name:t.name,duration:t.duration,tracks:e},i=0,o=n.length;i!==o;++i)e.push(Jn.toJSON(n[i]));return r},CreateFromMorphTargetSequence:function(t,e,n,r){for(var i=e.length,o=[],s=0;s<i;s++){var a=[],u=[];a.push((s+i-1)%i,s,(s+1)%i),u.push(0,1,0);var c=Nc.getKeyframeOrder(a);a=Nc.sortedArray(a,1,c),u=Nc.sortedArray(u,1,c),r||0!==a[0]||(a.push(i),u.push(u[0])),o.push(new Yn(".morphTargetInfluences["+e[s].name+"]",a,u).scale(1/n))}return new $n(t,-1,o)},findByName:function(t,e){var n=t;if(!Array.isArray(t)){var r=t;n=r.geometry&&r.geometry.animations||r.animations}for(var i=0;i<n.length;i++)if(n[i].name===e)return n[i];return null},CreateClipsFromMorphTargetSequences:function(t,e,n){for(var r={},i=/^([\w-]*?)([\d]+)$/,o=0,s=t.length;o<s;o++){var a=t[o],u=a.name.match(i);if(u&&u.length>1){var c=u[1],l=r[c];l||(r[c]=l=[]),l.push(a)}}var p=[];for(var c in r)p.push($n.CreateFromMorphTargetSequence(c,r[c],e,n));return p},parseAnimation:function(t,e){if(!t)return console.error("  no animation in JSONLoader data"),null;for(var n=function(t,e,n,r,i){if(0!==n.length){var o=[],s=[];Nc.flattenJSON(n,o,s,r),0!==o.length&&i.push(new t(e,o,s))}},r=[],i=t.name||"default",o=t.length||-1,s=t.fps||30,a=t.hierarchy||[],u=0;u<a.length;u++){var c=a[u].keys;if(c&&0!==c.length)if(c[0].morphTargets){for(var l={},p=0;p<c.length;p++)if(c[p].morphTargets)for(var h=0;h<c[p].morphTargets.length;h++)l[c[p].morphTargets[h]]=-1;for(var f in l){for(var d=[],m=[],h=0;h!==c[p].morphTargets.length;++h){var v=c[p];d.push(v.time),m.push(v.morphTarget===f?1:0)}r.push(new Yn(".morphTargetInfluence["+f+"]",d,m))}o=l.length*(s||1)}else{var g=".bones["+e[u].name+"]";n(Wn,g+".position",c,"pos",r),n(Xn,g+".quaternion",c,"rot",r),n(Wn,g+".scale",c,"scl",r)}}return 0===r.length?null:new $n(i,o,r)}}),Object.assign(tr.prototype,{load:function(t,e,n,r){var i=this;new Mn(i.manager).load(t,function(t){e(i.parse(JSON.parse(t)))},n,r)},setTextures:function(t){this.textures=t},parse:function(t){function e(t){return void 0===n[t]&&console.warn("THREE.MaterialLoader: Undefined texture",t),n[t]}var n=this.textures,r=new Oc[t.type];if(void 0!==t.uuid&&(r.uuid=t.uuid),void 0!==t.name&&(r.name=t.name),void 0!==t.color&&r.color.setHex(t.color),void 0!==t.roughness&&(r.roughness=t.roughness),void 0!==t.metalness&&(r.metalness=t.metalness),void 0!==t.emissive&&r.emissive.setHex(t.emissive),void 0!==t.specular&&r.specular.setHex(t.specular),void 0!==t.shininess&&(r.shininess=t.shininess),void 0!==t.clearCoat&&(r.clearCoat=t.clearCoat),void 0!==t.clearCoatRoughness&&(r.clearCoatRoughness=t.clearCoatRoughness),void 0!==t.uniforms&&(r.uniforms=t.uniforms),void 0!==t.vertexShader&&(r.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(r.fragmentShader=t.fragmentShader),void 0!==t.vertexColors&&(r.vertexColors=t.vertexColors),void 0!==t.fog&&(r.fog=t.fog),void 0!==t.shading&&(r.shading=t.shading),void 0!==t.blending&&(r.blending=t.blending),void 0!==t.side&&(r.side=t.side),void 0!==t.opacity&&(r.opacity=t.opacity),void 0!==t.transparent&&(r.transparent=t.transparent),void 0!==t.alphaTest&&(r.alphaTest=t.alphaTest),void 0!==t.depthTest&&(r.depthTest=t.depthTest),void 0!==t.depthWrite&&(r.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(r.colorWrite=t.colorWrite),void 0!==t.wireframe&&(r.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(r.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.wireframeLinecap&&(r.wireframeLinecap=t.wireframeLinecap),void 0!==t.wireframeLinejoin&&(r.wireframeLinejoin=t.wireframeLinejoin),void 0!==t.skinning&&(r.skinning=t.skinning),void 0!==t.morphTargets&&(r.morphTargets=t.morphTargets),void 0!==t.size&&(r.size=t.size),void 0!==t.sizeAttenuation&&(r.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(r.map=e(t.map)),void 0!==t.alphaMap&&(r.alphaMap=e(t.alphaMap),r.transparent=!0),void 0!==t.bumpMap&&(r.bumpMap=e(t.bumpMap)),void 0!==t.bumpScale&&(r.bumpScale=t.bumpScale),void 0!==t.normalMap&&(r.normalMap=e(t.normalMap)),void 0!==t.normalScale){var o=t.normalScale;Array.isArray(o)===!1&&(o=[o,o]),r.normalScale=(new i).fromArray(o)}if(void 0!==t.displacementMap&&(r.displacementMap=e(t.displacementMap)),void 0!==t.displacementScale&&(r.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(r.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(r.roughnessMap=e(t.roughnessMap)),void 0!==t.metalnessMap&&(r.metalnessMap=e(t.metalnessMap)),void 0!==t.emissiveMap&&(r.emissiveMap=e(t.emissiveMap)),void 0!==t.emissiveIntensity&&(r.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(r.specularMap=e(t.specularMap)),void 0!==t.envMap&&(r.envMap=e(t.envMap)),void 0!==t.reflectivity&&(r.reflectivity=t.reflectivity),void 0!==t.lightMap&&(r.lightMap=e(t.lightMap)),void 0!==t.lightMapIntensity&&(r.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(r.aoMap=e(t.aoMap)),void 0!==t.aoMapIntensity&&(r.aoMapIntensity=t.aoMapIntensity),void 0!==t.gradientMap&&(r.gradientMap=e(t.gradientMap)),void 0!==t.materials)for(var s=0,a=t.materials.length;s<a;s++)r.materials.push(this.parse(t.materials[s]));return r}}),Object.assign(er.prototype,{load:function(t,e,n,r){var i=this;new Mn(i.manager).load(t,function(t){e(i.parse(JSON.parse(t)))},n,r)},parse:function(t){var e=new Pt,n=t.data.index,r={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};if(void 0!==n){var i=new r[n.type](n.array);e.setIndex(new mt(i,1))}var o=t.data.attributes;for(var s in o){var a=o[s],i=new r[a.type](a.array);e.addAttribute(s,new mt(i,a.itemSize,a.normalized))}var u=t.data.groups||t.data.drawcalls||t.data.offsets;if(void 0!==u)for(var c=0,p=u.length;c!==p;++c){var h=u[c];e.addGroup(h.start,h.count,h.materialIndex)}var f=t.data.boundingSphere;if(void 0!==f){var d=new l;void 0!==f.center&&d.fromArray(f.center),e.boundingSphere=new nt(d,f.radius)}return e}}),nr.prototype={constructor:nr,crossOrigin:void 0,extractUrlBase:function(t){var e=t.split("/");return 1===e.length?"./":(e.pop(),e.join("/")+"/")},initMaterials:function(t,e,n){for(var r=[],i=0;i<t.length;++i)r[i]=this.createMaterial(t[i],e,n);return r},createMaterial:function(){var t,e,n,r={NoBlending:mo,NormalBlending:vo,AdditiveBlending:go,SubtractiveBlending:yo,MultiplyBlending:_o,CustomBlending:bo};return function(i,o,s){function a(t,n,r,i,a){var c,l=o+t,p=nr.Handlers.get(l);null!==p?c=p.load(l):(e.setCrossOrigin(s),c=e.load(l)),void 0!==n&&(c.repeat.fromArray(n),1!==n[0]&&(c.wrapS=as),1!==n[1]&&(c.wrapT=as)),void 0!==r&&c.offset.fromArray(r),void 0!==i&&("repeat"===i[0]&&(c.wrapS=as),"mirror"===i[0]&&(c.wrapS=cs),"repeat"===i[1]&&(c.wrapT=as),"mirror"===i[1]&&(c.wrapT=cs)),void 0!==a&&(c.anisotropy=a);var h=fa.generateUUID();return u[h]=c,h}void 0===t&&(t=new X),void 0===e&&(e=new Rn),void 0===n&&(n=new tr);var u={},c={uuid:fa.generateUUID(),type:"MeshLambertMaterial"};for(var l in i){var p=i[l];switch(l){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":c.name=p;break;case"blending":c.blending=r[p];break;case"colorAmbient":case"mapAmbient":console.warn("THREE.Loader.createMaterial:",l,"is no longer supported.");break;case"colorDiffuse":c.color=t.fromArray(p).getHex();break;case"colorSpecular":c.specular=t.fromArray(p).getHex();break;case"colorEmissive":c.emissive=t.fromArray(p).getHex();break;case"specularCoef":c.shininess=p;break;case"shading":"basic"===p.toLowerCase()&&(c.type="MeshBasicMaterial"),"phong"===p.toLowerCase()&&(c.type="MeshPhongMaterial"),"standard"===p.toLowerCase()&&(c.type="MeshStandardMaterial");break;case"mapDiffuse":c.map=a(p,i.mapDiffuseRepeat,i.mapDiffuseOffset,i.mapDiffuseWrap,i.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapEmissive":c.emissiveMap=a(p,i.mapEmissiveRepeat,i.mapEmissiveOffset,i.mapEmissiveWrap,i.mapEmissiveAnisotropy);break;case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":break;case"mapLight":c.lightMap=a(p,i.mapLightRepeat,i.mapLightOffset,i.mapLightWrap,i.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":c.aoMap=a(p,i.mapAORepeat,i.mapAOOffset,i.mapAOWrap,i.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":c.bumpMap=a(p,i.mapBumpRepeat,i.mapBumpOffset,i.mapBumpWrap,i.mapBumpAnisotropy);break;case"mapBumpScale":c.bumpScale=p;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":c.normalMap=a(p,i.mapNormalRepeat,i.mapNormalOffset,i.mapNormalWrap,i.mapNormalAnisotropy);break;case"mapNormalFactor":c.normalScale=[p,p];break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":c.specularMap=a(p,i.mapSpecularRepeat,i.mapSpecularOffset,i.mapSpecularWrap,i.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapMetalness":c.metalnessMap=a(p,i.mapMetalnessRepeat,i.mapMetalnessOffset,i.mapMetalnessWrap,i.mapMetalnessAnisotropy);break;case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":break;case"mapRoughness":c.roughnessMap=a(p,i.mapRoughnessRepeat,i.mapRoughnessOffset,i.mapRoughnessWrap,i.mapRoughnessAnisotropy);break;case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":break;case"mapAlpha":c.alphaMap=a(p,i.mapAlphaRepeat,i.mapAlphaOffset,i.mapAlphaWrap,i.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":c.side=ao;break;case"doubleSided":c.side=uo;break;case"transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"),c.opacity=p;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":c[l]=p;break;case"vertexColors":p===!0&&(c.vertexColors=fo),"face"===p&&(c.vertexColors=ho);break;default:console.error("THREE.Loader.createMaterial: Unsupported",l,p)}}return"MeshBasicMaterial"===c.type&&delete c.emissive,"MeshPhongMaterial"!==c.type&&delete c.specular,c.opacity<1&&(c.transparent=!0),n.setTextures(u),n.parse(c)}}()},nr.Handlers={handlers:[],add:function(t,e){this.handlers.push(t,e)},get:function(t){for(var e=this.handlers,n=0,r=e.length;n<r;n+=2){var i=e[n],o=e[n+1];if(i.test(t))return o}return null}},Object.assign(rr.prototype,{load:function(t,e,n,r){var i=this,o=this.texturePath&&"string"==typeof this.texturePath?this.texturePath:nr.prototype.extractUrlBase(t),s=new Mn(this.manager);s.setWithCredentials(this.withCredentials),s.load(t,function(n){var r=JSON.parse(n),s=r.metadata;if(void 0!==s){var a=s.type;if(void 0!==a){if("object"===a.toLowerCase())return void console.error("THREE.JSONLoader: "+t+" should be loaded with THREE.ObjectLoader instead.");if("scene"===a.toLowerCase())return void console.error("THREE.JSONLoader: "+t+" should be loaded with THREE.SceneLoader instead.")}}var u=i.parse(r,o);e(u.geometry,u.materials)},n,r)},setTexturePath:function(t){this.texturePath=t},parse:function(t,e){function n(e){function n(t,e){return t&1<<e}var r,o,s,a,c,p,h,f,d,m,v,g,y,_,b,w,x,E,S,M,C,T,A,P,R,O,L,I=t.faces,N=t.vertices,D=t.normals,k=t.colors,j=0;if(void 0!==t.uvs){for(r=0;r<t.uvs.length;r++)t.uvs[r].length&&j++;for(r=0;r<j;r++)u.faceVertexUvs[r]=[]}for(a=0,c=N.length;a<c;)E=new l,E.x=N[a++]*e,E.y=N[a++]*e,E.z=N[a++]*e,u.vertices.push(E);for(a=0,c=I.length;a<c;)if(m=I[a++],v=n(m,0),g=n(m,1),y=n(m,3),_=n(m,4),b=n(m,5),w=n(m,6),x=n(m,7),v){if(M=new ft,M.a=I[a],M.b=I[a+1],M.c=I[a+3],C=new ft,C.a=I[a+1],C.b=I[a+2],C.c=I[a+3],a+=4,g&&(d=I[a++],M.materialIndex=d,C.materialIndex=d),s=u.faces.length,y)for(r=0;r<j;r++)for(P=t.uvs[r],u.faceVertexUvs[r][s]=[],u.faceVertexUvs[r][s+1]=[],o=0;o<4;o++)f=I[a++],O=P[2*f],L=P[2*f+1],R=new i(O,L),2!==o&&u.faceVertexUvs[r][s].push(R),0!==o&&u.faceVertexUvs[r][s+1].push(R);if(_&&(h=3*I[a++],M.normal.set(D[h++],D[h++],D[h]),C.normal.copy(M.normal)),b)for(r=0;r<4;r++)h=3*I[a++],A=new l(D[h++],D[h++],D[h]),2!==r&&M.vertexNormals.push(A),0!==r&&C.vertexNormals.push(A);if(w&&(p=I[a++],T=k[p],M.color.setHex(T),C.color.setHex(T)),x)for(r=0;r<4;r++)p=I[a++],T=k[p],2!==r&&M.vertexColors.push(new X(T)),0!==r&&C.vertexColors.push(new X(T));u.faces.push(M),u.faces.push(C)}else{if(S=new ft,S.a=I[a++],S.b=I[a++],S.c=I[a++],g&&(d=I[a++],S.materialIndex=d),s=u.faces.length,y)for(r=0;r<j;r++)for(P=t.uvs[r],u.faceVertexUvs[r][s]=[],o=0;o<3;o++)f=I[a++],O=P[2*f],L=P[2*f+1],R=new i(O,L),u.faceVertexUvs[r][s].push(R);if(_&&(h=3*I[a++],S.normal.set(D[h++],D[h++],D[h])),b)for(r=0;r<3;r++)h=3*I[a++],A=new l(D[h++],D[h++],D[h]),S.vertexNormals.push(A);if(w&&(p=I[a++],S.color.setHex(k[p])),x)for(r=0;r<3;r++)p=I[a++],S.vertexColors.push(new X(k[p]));u.faces.push(S)}}function r(){var e=void 0!==t.influencesPerVertex?t.influencesPerVertex:2;if(t.skinWeights)for(var n=0,r=t.skinWeights.length;n<r;n+=e){var i=t.skinWeights[n],o=e>1?t.skinWeights[n+1]:0,a=e>2?t.skinWeights[n+2]:0,c=e>3?t.skinWeights[n+3]:0;u.skinWeights.push(new s(i,o,a,c))}if(t.skinIndices)for(var n=0,r=t.skinIndices.length;n<r;n+=e){var l=t.skinIndices[n],p=e>1?t.skinIndices[n+1]:0,h=e>2?t.skinIndices[n+2]:0,f=e>3?t.skinIndices[n+3]:0;u.skinIndices.push(new s(l,p,h,f))}u.bones=t.bones,u.bones&&u.bones.length>0&&(u.skinWeights.length!==u.skinIndices.length||u.skinIndices.length!==u.vertices.length)&&console.warn("When skinning, number of vertices ("+u.vertices.length+"), skinIndices ("+u.skinIndices.length+"), and skinWeights ("+u.skinWeights.length+") should match.")}function o(e){if(void 0!==t.morphTargets)for(var n=0,r=t.morphTargets.length;n<r;n++){u.morphTargets[n]={},u.morphTargets[n].name=t.morphTargets[n].name,u.morphTargets[n].vertices=[];for(var i=u.morphTargets[n].vertices,o=t.morphTargets[n].vertices,s=0,a=o.length;s<a;s+=3){var c=new l;c.x=o[s]*e,c.y=o[s+1]*e,c.z=o[s+2]*e,i.push(c)}}if(void 0!==t.morphColors&&t.morphColors.length>0){console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.');for(var p=u.faces,h=t.morphColors[0].colors,n=0,r=p.length;n<r;n++)p[n].color.fromArray(h,3*n)}}function a(){var e=[],n=[];void 0!==t.animation&&n.push(t.animation),void 0!==t.animations&&(t.animations.length?n=n.concat(t.animations):n.push(t.animations));for(var r=0;r<n.length;r++){var i=$n.parseAnimation(n[r],u.bones);i&&e.push(i)}if(u.morphTargets){var o=$n.CreateClipsFromMorphTargetSequences(u.morphTargets,10);e=e.concat(o)}e.length>0&&(u.animations=e)}var u=new At,c=void 0!==t.scale?1/t.scale:1;return n(c),r(),o(c),a(),u.computeFaceNormals(),u.computeBoundingSphere(),void 0===t.materials||0===t.materials.length?{geometry:u}:{geometry:u,materials:nr.prototype.initMaterials(t.materials,e,this.crossOrigin)}}}),Object.assign(ir.prototype,{load:function(t,e,n,r){""===this.texturePath&&(this.texturePath=t.substring(0,t.lastIndexOf("/")+1));var i=this;new Mn(i.manager).load(t,function(n){var o=null;try{o=JSON.parse(n)}catch(e){return void 0!==r&&r(e),void console.error("THREE:ObjectLoader: Can't parse "+t+".",e.message)}var s=o.metadata;if(void 0===s||void 0===s.type||"geometry"===s.type.toLowerCase())return void console.error("THREE.ObjectLoader: Can't load "+t+". Use THREE.JSONLoader instead.");i.parse(o,e)},n,r)},setTexturePath:function(t){this.texturePath=t},setCrossOrigin:function(t){this.crossOrigin=t},parse:function(t,e){var n=this.parseGeometries(t.geometries),r=this.parseImages(t.images,function(){void 0!==e&&e(s)}),i=this.parseTextures(t.textures,r),o=this.parseMaterials(t.materials,i),s=this.parseObject(t.object,n,o);return t.animations&&(s.animations=this.parseAnimations(t.animations)),void 0!==t.images&&0!==t.images.length||void 0!==e&&e(s),s},parseGeometries:function(t){var e={};if(void 0!==t)for(var n=new rr,r=new er,i=0,o=t.length;i<o;i++){var s,a=t[i];switch(a.type){case"PlaneGeometry":case"PlaneBufferGeometry":s=new Rc[a.type](a.width,a.height,a.widthSegments,a.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":s=new Rc[a.type](a.width,a.height,a.depth,a.widthSegments,a.heightSegments,a.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":s=new Rc[a.type](a.radius,a.segments,a.thetaStart,a.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":s=new Rc[a.type](a.radiusTop,a.radiusBottom,a.height,a.radialSegments,a.heightSegments,a.openEnded,a.thetaStart,a.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":s=new Rc[a.type](a.radius,a.height,a.radialSegments,a.heightSegments,a.openEnded,a.thetaStart,a.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":s=new Rc[a.type](a.radius,a.widthSegments,a.heightSegments,a.phiStart,a.phiLength,a.thetaStart,a.thetaLength);break;case"DodecahedronGeometry":case"IcosahedronGeometry":case"OctahedronGeometry":case"TetrahedronGeometry":s=new Rc[a.type](a.radius,a.detail);break;case"RingGeometry":case"RingBufferGeometry":s=new Rc[a.type](a.innerRadius,a.outerRadius,a.thetaSegments,a.phiSegments,a.thetaStart,a.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":s=new Rc[a.type](a.radius,a.tube,a.radialSegments,a.tubularSegments,a.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":s=new Rc[a.type](a.radius,a.tube,a.tubularSegments,a.radialSegments,a.p,a.q);break;case"LatheGeometry":case"LatheBufferGeometry":s=new Rc[a.type](a.points,a.segments,a.phiStart,a.phiLength);break;case"BufferGeometry":s=r.parse(a);break;case"Geometry":s=n.parse(a.data,this.texturePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+a.type+'"');continue}s.uuid=a.uuid,void 0!==a.name&&(s.name=a.name),e[a.uuid]=s}return e},parseMaterials:function(t,e){var n={};if(void 0!==t){var r=new tr;r.setTextures(e);for(var i=0,o=t.length;i<o;i++){var s=r.parse(t[i]);n[s.uuid]=s}}return n},parseAnimations:function(t){for(var e=[],n=0;n<t.length;n++){var r=$n.parse(t[n]);e.push(r)}return e},parseImages:function(t,e){function n(t){return r.manager.itemStart(t),s.load(t,function(){r.manager.itemEnd(t)},void 0,function(){r.manager.itemError(t)})}var r=this,i={};if(void 0!==t&&t.length>0){var o=new Sn(e),s=new An(o);s.setCrossOrigin(this.crossOrigin);for(var a=0,u=t.length;a<u;a++){var c=t[a],l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c.url)?c.url:r.texturePath+c.url;i[c.uuid]=n(l)}}return i},parseTextures:function(t,e){function n(t,e){return"number"==typeof t?t:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",t),e[t])}var r={UVMapping:$o,CubeReflectionMapping:ts,CubeRefractionMapping:es,EquirectangularReflectionMapping:ns,EquirectangularRefractionMapping:rs,SphericalReflectionMapping:is,CubeUVReflectionMapping:os,CubeUVRefractionMapping:ss},i={RepeatWrapping:as,ClampToEdgeWrapping:us,MirroredRepeatWrapping:cs},s={NearestFilter:ls,NearestMipMapNearestFilter:ps,NearestMipMapLinearFilter:hs,LinearFilter:fs,LinearMipMapNearestFilter:ds,LinearMipMapLinearFilter:ms},a={};if(void 0!==t)for(var u=0,c=t.length;u<c;u++){var l=t[u];void 0===l.image&&console.warn('THREE.ObjectLoader: No "image" specified for',l.uuid),void 0===e[l.image]&&console.warn("THREE.ObjectLoader: Undefined image",l.image);var p=new o(e[l.image]);p.needsUpdate=!0,p.uuid=l.uuid,void 0!==l.name&&(p.name=l.name),void 0!==l.mapping&&(p.mapping=n(l.mapping,r)),void 0!==l.offset&&p.offset.fromArray(l.offset),void 0!==l.repeat&&p.repeat.fromArray(l.repeat),void 0!==l.wrap&&(p.wrapS=n(l.wrap[0],i),p.wrapT=n(l.wrap[1],i)),void 0!==l.minFilter&&(p.minFilter=n(l.minFilter,s)),void 0!==l.magFilter&&(p.magFilter=n(l.magFilter,s)),void 0!==l.anisotropy&&(p.anisotropy=l.anisotropy),void 0!==l.flipY&&(p.flipY=l.flipY),a[l.uuid]=p}return a},parseObject:function(){var t=new p;return function(e,n,r){function i(t){return void 0===n[t]&&console.warn("THREE.ObjectLoader: Undefined geometry",t),n[t]}function o(t){if(void 0!==t)return void 0===r[t]&&console.warn("THREE.ObjectLoader: Undefined material",t),r[t]}var s;switch(e.type){case"Scene":s=new fe,void 0!==e.background&&Number.isInteger(e.background)&&(s.background=new X(e.background)),void 0!==e.fog&&("Fog"===e.fog.type?s.fog=new he(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(s.fog=new pe(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":s=new kt(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(s.focus=e.focus),void 0!==e.zoom&&(s.zoom=e.zoom),void 0!==e.filmGauge&&(s.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(s.filmOffset=e.filmOffset),void 0!==e.view&&(s.view=Object.assign({},e.view));break;case"OrthographicCamera":s=new jt(e.left,e.right,e.top,e.bottom,e.near,e.far);break;case"AmbientLight":s=new Un(e.color,e.intensity);break;case"DirectionalLight":s=new Fn(e.color,e.intensity);break;case"PointLight":s=new kn(e.color,e.intensity,e.distance,e.decay);break;case"SpotLight":s=new Dn(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":s=new Ln(e.color,e.groundColor,e.intensity);break;case"Mesh":var a=i(e.geometry),u=o(e.material);s=a.bones&&a.bones.length>0?new be(a,u):new Rt(a,u);break;case"LOD":s=new ge;break;case"Line":s=new xe(i(e.geometry),o(e.material),e.mode);break;case"LineSegments":s=new Ee(i(e.geometry),o(e.material));break;case"PointCloud":case"Points":s=new Me(i(e.geometry),o(e.material));break;case"Sprite":s=new ve(o(e.material));break;case"Group":s=new Ce;break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh type. Instantiates Object3D instead.");default:s=new lt}if(s.uuid=e.uuid,void 0!==e.name&&(s.name=e.name),void 0!==e.matrix?(t.fromArray(e.matrix),t.decompose(s.position,s.quaternion,s.scale)):(void 0!==e.position&&s.position.fromArray(e.position),void 0!==e.rotation&&s.rotation.fromArray(e.rotation),void 0!==e.quaternion&&s.quaternion.fromArray(e.quaternion),void 0!==e.scale&&s.scale.fromArray(e.scale)),void 0!==e.castShadow&&(s.castShadow=e.castShadow),void 0!==e.receiveShadow&&(s.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(s.shadow.bias=e.shadow.bias),void 0!==e.shadow.radius&&(s.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&s.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(s.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(s.visible=e.visible),void 0!==e.userData&&(s.userData=e.userData),void 0!==e.children)for(var c in e.children)s.add(this.parseObject(e.children[c],n,r));if("LOD"===e.type)for(var l=e.levels,p=0;p<l.length;p++){var h=l[p],c=s.getObjectByProperty("uuid",h.object);void 0!==c&&s.addLevel(c,h.distance)}return s}}()}),mr.prototype={constructor:mr,getPoint:function(t){return console.warn("THREE.Curve: Warning, getPoint() not implemented!"),null},getPointAt:function(t){var e=this.getUtoTmapping(t);return this.getPoint(e)},getPoints:function(t){isNaN(t)&&(t=5);for(var e=[],n=0;n<=t;n++)e.push(this.getPoint(n/t));return e},getSpacedPoints:function(t){isNaN(t)&&(t=5);for(var e=[],n=0;n<=t;n++)e.push(this.getPointAt(n/t));return e},getLength:function(){var t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(isNaN(t)&&(t=this.__arcLengthDivisions?this.__arcLengthDivisions:200),this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e,n,r=[],i=this.getPoint(0),o=0;for(r.push(0),n=1;n<=t;n++)e=this.getPoint(n/t),o+=e.distanceTo(i),r.push(o),i=e;return this.cacheArcLengths=r,r},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(t,e){var n,r=this.getLengths(),i=0,o=r.length;n=e?e:t*r[o-1];for(var s,a=0,u=o-1;a<=u;)if(i=Math.floor(a+(u-a)/2),(s=r[i]-n)<0)a=i+1;else{if(!(s>0)){u=i;break}u=i-1}if(i=u,r[i]===n){var c=i/(o-1);return c}var l=r[i],p=r[i+1],h=p-l,f=(n-l)/h,c=(i+f)/(o-1);return c},getTangent:function(t){var e=1e-4,n=t-e,r=t+e;n<0&&(n=0),r>1&&(r=1);var i=this.getPoint(n);return this.getPoint(r).clone().sub(i).normalize()},getTangentAt:function(t){var e=this.getUtoTmapping(t);return this.getTangent(e)},computeFrenetFrames:function(t,e){var n,r,i,o=new l,s=[],a=[],u=[],c=new l,h=new p;for(n=0;n<=t;n++)r=n/t,s[n]=this.getTangentAt(r),s[n].normalize();a[0]=new l,u[0]=new l;var f=Number.MAX_VALUE,d=Math.abs(s[0].x),m=Math.abs(s[0].y),v=Math.abs(s[0].z);for(d<=f&&(f=d,o.set(1,0,0)),m<=f&&(f=m,o.set(0,1,0)),v<=f&&o.set(0,0,1),c.crossVectors(s[0],o).normalize(),a[0].crossVectors(s[0],c),u[0].crossVectors(s[0],a[0]),n=1;n<=t;n++)a[n]=a[n-1].clone(),u[n]=u[n-1].clone(),c.crossVectors(s[n-1],s[n]),c.length()>Number.EPSILON&&(c.normalize(),i=Math.acos(fa.clamp(s[n-1].dot(s[n]),-1,1)),a[n].applyMatrix4(h.makeRotationAxis(c,i))),u[n].crossVectors(s[n],a[n]);if(e===!0)for(i=Math.acos(fa.clamp(a[0].dot(a[t]),-1,1)),i/=t,s[0].dot(c.crossVectors(a[0],a[t]))>0&&(i=-i),n=1;n<=t;n++)a[n].applyMatrix4(h.makeRotationAxis(s[n],i*n)),u[n].crossVectors(s[n],a[n]);return{tangents:s,normals:a,binormals:u}}},vr.prototype=Object.create(mr.prototype),vr.prototype.constructor=vr,vr.prototype.isLineCurve=!0,vr.prototype.getPoint=function(t){if(1===t)return this.v2.clone();var e=this.v2.clone().sub(this.v1);return e.multiplyScalar(t).add(this.v1),e},vr.prototype.getPointAt=function(t){return this.getPoint(t)},vr.prototype.getTangent=function(t){return this.v2.clone().sub(this.v1).normalize()},gr.prototype=Object.assign(Object.create(mr.prototype),{constructor:gr,add:function(t){this.curves.push(t)},closePath:function(){var t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new vr(e,t))},getPoint:function(t){for(var e=t*this.getLength(),n=this.getCurveLengths(),r=0;r<n.length;){if(n[r]>=e){var i=n[r]-e,o=this.curves[r],s=o.getLength(),a=0===s?0:1-i/s;return o.getPointAt(a)}r++}return null},getLength:function(){var t=this.getCurveLengths();return t[t.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var t=[],e=0,n=0,r=this.curves.length;n<r;n++)e+=this.curves[n].getLength(),t.push(e);return this.cacheLengths=t,t},getSpacedPoints:function(t){isNaN(t)&&(t=40);for(var e=[],n=0;n<=t;n++)e.push(this.getPoint(n/t));return this.autoClose&&e.push(e[0]),e},getPoints:function(t){t=t||12;for(var e,n=[],r=0,i=this.curves;r<i.length;r++)for(var o=i[r],s=o&&o.isEllipseCurve?2*t:o&&o.isLineCurve?1:o&&o.isSplineCurve?t*o.points.length:t,a=o.getPoints(s),u=0;u<a.length;u++){var c=a[u];e&&e.equals(c)||(n.push(c),e=c)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n},createPointsGeometry:function(t){var e=this.getPoints(t);return this.createGeometry(e)},createSpacedPointsGeometry:function(t){var e=this.getSpacedPoints(t);return this.createGeometry(e)},createGeometry:function(t){for(var e=new At,n=0,r=t.length;n<r;n++){var i=t[n];e.vertices.push(new l(i.x,i.y,i.z||0))}return e}}),yr.prototype=Object.create(mr.prototype),yr.prototype.constructor=yr,yr.prototype.isEllipseCurve=!0,yr.prototype.getPoint=function(t){for(var e=2*Math.PI,n=this.aEndAngle-this.aStartAngle,r=Math.abs(n)<Number.EPSILON;n<0;)n+=e;for(;n>e;)n-=e;n<Number.EPSILON&&(n=r?0:e),this.aClockwise!==!0||r||(n===e?n=-e:n-=e);var o=this.aStartAngle+t*n,s=this.aX+this.xRadius*Math.cos(o),a=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){var u=Math.cos(this.aRotation),c=Math.sin(this.aRotation),l=s-this.aX,p=a-this.aY;s=l*u-p*c+this.aX,a=l*c+p*u+this.aY}return new i(s,a)},_r.prototype=Object.create(mr.prototype),_r.prototype.constructor=_r,_r.prototype.isSplineCurve=!0,_r.prototype.getPoint=function(t){var e=this.points,n=(e.length-1)*t,r=Math.floor(n),o=n-r,s=e[0===r?r:r-1],a=e[r],u=e[r>e.length-2?e.length-1:r+1],c=e[r>e.length-3?e.length-1:r+2];return new i(or(o,s.x,a.x,u.x,c.x),or(o,s.y,a.y,u.y,c.y))},br.prototype=Object.create(mr.prototype),br.prototype.constructor=br,br.prototype.getPoint=function(t){var e=this.v0,n=this.v1,r=this.v2,o=this.v3;return new i(dr(t,e.x,n.x,r.x,o.x),dr(t,e.y,n.y,r.y,o.y))},wr.prototype=Object.create(mr.prototype),wr.prototype.constructor=wr,wr.prototype.getPoint=function(t){var e=this.v0,n=this.v1,r=this.v2;return new i(cr(t,e.x,n.x,r.x),cr(t,e.y,n.y,r.y))};var kc=Object.assign(Object.create(gr.prototype),{fromPoints:function(t){this.moveTo(t[0].x,t[0].y);for(var e=1,n=t.length;e<n;e++)this.lineTo(t[e].x,t[e].y)},moveTo:function(t,e){this.currentPoint.set(t,e)},lineTo:function(t,e){var n=new vr(this.currentPoint.clone(),new i(t,e));this.curves.push(n),this.currentPoint.set(t,e)},quadraticCurveTo:function(t,e,n,r){var o=new wr(this.currentPoint.clone(),new i(t,e),new i(n,r));this.curves.push(o),this.currentPoint.set(n,r)},bezierCurveTo:function(t,e,n,r,o,s){var a=new br(this.currentPoint.clone(),new i(t,e),new i(n,r),new i(o,s));this.curves.push(a),this.currentPoint.set(o,s)},splineThru:function(t){var e=[this.currentPoint.clone()].concat(t),n=new _r(e);this.curves.push(n),this.currentPoint.copy(t[t.length-1])},arc:function(t,e,n,r,i,o){var s=this.currentPoint.x,a=this.currentPoint.y;this.absarc(t+s,e+a,n,r,i,o)},absarc:function(t,e,n,r,i,o){this.absellipse(t,e,n,n,r,i,o)},ellipse:function(t,e,n,r,i,o,s,a){var u=this.currentPoint.x,c=this.currentPoint.y;this.absellipse(t+u,e+c,n,r,i,o,s,a)},absellipse:function(t,e,n,r,i,o,s,a){var u=new yr(t,e,n,r,i,o,s,a);if(this.curves.length>0){var c=u.getPoint(0);c.equals(this.currentPoint)||this.lineTo(c.x,c.y)}this.curves.push(u);var l=u.getPoint(1);this.currentPoint.copy(l)}});xr.prototype=kc,kc.constructor=xr,Er.prototype=Object.assign(Object.create(kc),{constructor:Er,getPointsHoles:function(t){for(var e=[],n=0,r=this.holes.length;n<r;n++)e[n]=this.holes[n].getPoints(t);return e},extractAllPoints:function(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}},extractPoints:function(t){return this.extractAllPoints(t)}}),Sr.prototype={moveTo:function(t,e){this.currentPath=new xr,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e)},lineTo:function(t,e){this.currentPath.lineTo(t,e)},quadraticCurveTo:function(t,e,n,r){this.currentPath.quadraticCurveTo(t,e,n,r)},bezierCurveTo:function(t,e,n,r,i,o){this.currentPath.bezierCurveTo(t,e,n,r,i,o)},splineThru:function(t){this.currentPath.splineThru(t)},toShapes:function(t,e){function n(t){for(var e=[],n=0,r=t.length;n<r;n++){var i=t[n],o=new Er;o.curves=i.curves,e.push(o)}return e}function r(t,e){for(var n=e.length,r=!1,i=n-1,o=0;o<n;i=o++){var s=e[i],a=e[o],u=a.x-s.x,c=a.y-s.y;if(Math.abs(c)>Number.EPSILON){if(c<0&&(s=e[o],u=-u,a=e[i],c=-c),t.y<s.y||t.y>a.y)continue;if(t.y===s.y){if(t.x===s.x)return!0}else{var l=c*(t.x-s.x)-u*(t.y-s.y);if(0===l)return!0;if(l<0)continue;r=!r}}else{if(t.y!==s.y)continue;if(a.x<=t.x&&t.x<=s.x||s.x<=t.x&&t.x<=a.x)return!0}}return r}var i=Pc.isClockWise,o=this.subPaths;if(0===o.length)return[];if(e===!0)return n(o);var s,a,u,c=[];if(1===o.length)return a=o[0],u=new Er,u.curves=a.curves,c.push(u),c;var l=!i(o[0].getPoints());l=t?!l:l;var p,h=[],f=[],d=[],m=0;f[m]=void 0,d[m]=[];for(var v=0,g=o.length;v<g;v++)a=o[v],p=a.getPoints(),s=i(p),s=t?!s:s,s?(!l&&f[m]&&m++,f[m]={s:new Er,p:p},f[m].s.curves=a.curves,l&&m++,d[m]=[]):d[m].push({h:a,p:p[0]});if(!f[0])return n(o);if(f.length>1){for(var y=!1,_=[],b=0,w=f.length;b<w;b++)h[b]=[];for(var b=0,w=f.length;b<w;b++)for(var x=d[b],E=0;E<x.length;E++){for(var S=x[E],M=!0,C=0;C<f.length;C++)r(S.p,f[C].p)&&(b!==C&&_.push({froms:b,tos:C,hole:E}),M?(M=!1,h[C].push(S)):y=!0);M&&h[b].push(S)}_.length>0&&(y||(d=h))}for(var T,v=0,A=f.length;v<A;v++){u=f[v].s,c.push(u),T=d[v];for(var P=0,R=T.length;P<R;P++)u.holes.push(T[P].h)}return c}},Object.assign(Mr.prototype,{isFont:!0,generateShapes:function(t,e,n){function r(t){for(var n=String(t).split(""),r=e/o.resolution,s=(o.boundingBox.yMax-o.boundingBox.yMin+o.underlineThickness)*r,a=0,u=0,c=[],l=0;l<n.length;l++){var p=n[l];if("\n"===p)a=0,u-=s;else{var h=i(p,r,a,u);a+=h.offsetX,c.push(h.path)}}return c}function i(t,e,r,i){var s=o.glyphs[t]||o.glyphs["?"];if(s){var a,u,c,l,p,h,f,d,m,v,g,y=new Sr,_=[];if(s.o)for(var b=s._cachedOutline||(s._cachedOutline=s.o.split(" ")),w=0,x=b.length;w<x;){var E=b[w++];switch(E){case"m":a=b[w++]*e+r,u=b[w++]*e+i,y.moveTo(a,u);break;case"l":a=b[w++]*e+r,u=b[w++]*e+i,y.lineTo(a,u);break;case"q":if(c=b[w++]*e+r,l=b[w++]*e+i,f=b[w++]*e+r,d=b[w++]*e+i,y.quadraticCurveTo(f,d,c,l),g=_[_.length-1]){p=g.x,h=g.y;for(var S=1;S<=n;S++){var M=S/n;cr(M,p,f,c),cr(M,h,d,l)}}break;case"b":if(c=b[w++]*e+r,l=b[w++]*e+i,f=b[w++]*e+r,d=b[w++]*e+i,m=b[w++]*e+r,v=b[w++]*e+i,y.bezierCurveTo(f,d,m,v,c,l),g=_[_.length-1]){p=g.x,h=g.y;for(var S=1;S<=n;S++){var M=S/n;dr(M,p,f,m,c),dr(M,h,d,v,l)}}}}return{offsetX:s.ha*e,path:y}}}void 0===e&&(e=100),void 0===n&&(n=4);for(var o=this.data,s=r(t),a=[],u=0,c=s.length;u<c;u++)Array.prototype.push.apply(a,s[u].toShapes());return a}}),Object.assign(Cr.prototype,{load:function(t,e,n,r){var i=this;new Mn(this.manager).load(t,function(t){var n;try{n=JSON.parse(t)}catch(e){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(t.substring(65,t.length-2))}var r=i.parse(n);e&&e(r)},n,r)},parse:function(t){return new Mr(t)}});var jc,Fc={getContext:function(){return void 0===jc&&(jc=new(window.AudioContext||window.webkitAudioContext)),jc},setContext:function(t){jc=t}};Object.assign(Tr.prototype,{load:function(t,e,n,r){var i=new Mn(this.manager);i.setResponseType("arraybuffer"),i.load(t,function(t){Fc.getContext().decodeAudioData(t,function(t){e(t)})},n,r)}}),Ar.prototype=Object.assign(Object.create(On.prototype),{constructor:Ar,isRectAreaLight:!0,copy:function(t){return On.prototype.copy.call(this,t),this.width=t.width,this.height=t.height,this}}),Object.assign(Pr.prototype,{update:function(){var t,e,n,r,i,o,s,a=new p,u=new p;return function(c){if(t!==this||e!==c.focus||n!==c.fov||r!==c.aspect*this.aspect||i!==c.near||o!==c.far||s!==c.zoom){t=this,e=c.focus,n=c.fov,r=c.aspect*this.aspect,i=c.near,o=c.far,s=c.zoom;var l,p,h=c.projectionMatrix.clone(),f=this.eyeSep/2,d=f*i/e,m=i*Math.tan(fa.DEG2RAD*n*.5)/s;u.elements[12]=-f,a.elements[12]=f,l=-m*r+d,p=m*r+d,h.elements[0]=2*i/(p-l),h.elements[8]=(p+l)/(p-l),this.cameraL.projectionMatrix.copy(h),l=-m*r-d,p=m*r-d,h.elements[0]=2*i/(p-l),h.elements[8]=(p+l)/(p-l),this.cameraR.projectionMatrix.copy(h)}this.cameraL.matrixWorld.copy(c.matrixWorld).multiply(u),this.cameraR.matrixWorld.copy(c.matrixWorld).multiply(a)}}()}),Rr.prototype=Object.create(lt.prototype),Rr.prototype.constructor=Rr,Or.prototype=Object.assign(Object.create(lt.prototype),{constructor:Or,getInput:function(){return this.gain},removeFilter:function(){null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null)},getFilter:function(){return this.filter},setFilter:function(t){null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination)},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(t){this.gain.gain.value=t},updateMatrixWorld:function(){var t=new l,e=new c,n=new l,r=new l;return function(i){lt.prototype.updateMatrixWorld.call(this,i);var o=this.context.listener,s=this.up;this.matrixWorld.decompose(t,e,n),r.set(0,0,-1).applyQuaternion(e),o.positionX?(o.positionX.setValueAtTime(t.x,this.context.currentTime),o.positionY.setValueAtTime(t.y,this.context.currentTime),o.positionZ.setValueAtTime(t.z,this.context.currentTime),o.forwardX.setValueAtTime(r.x,this.context.currentTime),o.forwardY.setValueAtTime(r.y,this.context.currentTime),o.forwardZ.setValueAtTime(r.z,this.context.currentTime),o.upX.setValueAtTime(s.x,this.context.currentTime),o.upY.setValueAtTime(s.y,this.context.currentTime),o.upZ.setValueAtTime(s.z,this.context.currentTime)):(o.setPosition(t.x,t.y,t.z),o.setOrientation(r.x,r.y,r.z,s.x,s.y,s.z))}}()}),Lr.prototype=Object.assign(Object.create(lt.prototype),{constructor:Lr,getOutput:function(){return this.gain},setNodeSource:function(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this},setBuffer:function(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(this.isPlaying===!0)return void console.warn("THREE.Audio: Audio is already playing.");if(this.hasPlaybackControl===!1)return void console.warn("THREE.Audio: this Audio has no playback control.");var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.onended=this.onEnded.bind(this),t.playbackRate.setValueAtTime(this.playbackRate,this.startTime),t.start(0,this.startTime),this.isPlaying=!0,this.source=t,this.connect()},pause:function(){return this.hasPlaybackControl===!1?void console.warn("THREE.Audio: this Audio has no playback control."):(this.source.stop(),this.startTime=this.context.currentTime,this.isPlaying=!1,this)},stop:function(){return this.hasPlaybackControl===!1?void console.warn("THREE.Audio: this Audio has no playback control."):(this.source.stop(),this.startTime=0,this.isPlaying=!1,this)},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(t){return t||(t=[]),this.isPlaying===!0?(this.disconnect(),this.filters=t,this.connect()):this.filters=t,this},getFilter:function(){return this.getFilters()[0]},setFilter:function(t){return this.setFilters(t?[t]:[])},setPlaybackRate:function(t){return this.hasPlaybackControl===!1?void console.warn("THREE.Audio: this Audio has no playback control."):(this.playbackRate=t,this.isPlaying===!0&&this.source.playbackRate.setValueAtTime(this.playbackRate,this.context.currentTime),this)},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(t){return this.hasPlaybackControl===!1?void console.warn("THREE.Audio: this Audio has no playback control."):(this.loop=t,this.isPlaying===!0&&(this.source.loop=this.loop),this)},getVolume:function(){return this.gain.gain.value},setVolume:function(t){return this.gain.gain.value=t,this}}),Ir.prototype=Object.assign(Object.create(Lr.prototype),{constructor:Ir,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(t){this.panner.refDistance=t},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(t){this.panner.rolloffFactor=t},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(t){this.panner.distanceModel=t},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(t){this.panner.maxDistance=t},updateMatrixWorld:function(){var t=new l;return function(e){lt.prototype.updateMatrixWorld.call(this,e),t.setFromMatrixPosition(this.matrixWorld),this.panner.setPosition(t.x,t.y,t.z)}}()}),Object.assign(Nr.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var t=0,e=this.getFrequencyData(),n=0;n<e.length;n++)t+=e[n];return t/e.length}}),Dr.prototype={constructor:Dr,accumulate:function(t,e){var n=this.buffer,r=this.valueSize,i=t*r+r,o=this.cumulativeWeight;if(0===o){for(var s=0;s!==r;++s)n[i+s]=n[s];o=e}else{o+=e;var a=e/o;this._mixBufferRegion(n,i,0,a,r)}this.cumulativeWeight=o},apply:function(t){var e=this.valueSize,n=this.buffer,r=t*e+e,i=this.cumulativeWeight,o=this.binding;if(this.cumulativeWeight=0,i<1){var s=3*e;this._mixBufferRegion(n,r,s,1-i,e)}for(var a=e,u=e+e;a!==u;++a)if(n[a]!==n[a+e]){o.setValue(n,r);break}},saveOriginalState:function(){var t=this.binding,e=this.buffer,n=this.valueSize,r=3*n;t.getValue(e,r);for(var i=n,o=r;i!==o;++i)e[i]=e[r+i%n];this.cumulativeWeight=0},restoreOriginalState:function(){var t=3*this.valueSize;this.binding.setValue(this.buffer,t)},_select:function(t,e,n,r,i){if(r>=.5)for(var o=0;o!==i;++o)t[e+o]=t[n+o]},_slerp:function(t,e,n,r,i){c.slerpFlat(t,e,t,e,t,n,r)},_lerp:function(t,e,n,r,i){for(var o=1-r,s=0;s!==i;++s){var a=e+s;t[a]=t[a]*o+t[n+s]*r}}},kr.prototype={constructor:kr,getValue:function(t,e){this.bind(),this.getValue(t,e)},setValue:function(t,e){this.bind(),this.setValue(t,e)},bind:function(){var t=this.node,e=this.parsedPath,n=e.objectName,r=e.propertyName,i=e.propertyIndex;if(t||(t=kr.findNode(this.rootNode,e.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void console.error("  trying to update node for track: "+this.path+" but it wasn't found.");if(n){var o=e.objectIndex;switch(n){case"materials":if(!t.material)return void console.error("  can not bind to material as node does not have a material",this);if(!t.material.materials)return void console.error("  can not bind to material.materials as node.material does not have a materials array",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("  can not bind to bones as node does not have a skeleton",this);t=t.skeleton.bones;for(var s=0;s<t.length;s++)if(t[s].name===o){o=s;break}break;default:if(void 0===t[n])return void console.error("  can not bind to objectName of node, undefined",this);t=t[n]}if(void 0!==o){if(void 0===t[o])return void console.error("  trying to bind to objectIndex of objectName, but is undefined:",this,t);t=t[o]}}var a=t[r];if(void 0===a){var u=e.nodeName;return void console.error("  trying to update property for track: "+u+"."+r+" but it wasn't found.",t)}var c=this.Versioning.None;void 0!==t.needsUpdate?(c=this.Versioning.NeedsUpdate,this.targetObject=t):void 0!==t.matrixWorldNeedsUpdate&&(c=this.Versioning.MatrixWorldNeedsUpdate,this.targetObject=t);var l=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===r){if(!t.geometry)return void console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry",this);if(!t.geometry.morphTargets)return void console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry.morphTargets",this);for(var s=0;s<this.node.geometry.morphTargets.length;s++)if(t.geometry.morphTargets[s].name===i){i=s;break}}l=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=i}else void 0!==a.fromArray&&void 0!==a.toArray?(l=this.BindingType.HasFromToArray,this.resolvedProperty=a):void 0!==a.length?(l=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][c]},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}},Object.assign(kr.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},_getValue_unbound:kr.prototype.getValue,_setValue_unbound:kr.prototype.setValue,BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,e){t[e]=this.node[this.propertyName]},function(t,e){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)t[e++]=n[r]},function(t,e){t[e]=this.resolvedProperty[this.propertyIndex]},function(t,e){this.resolvedProperty.toArray(t,e)}],SetterByBindingTypeAndVersioning:[[function(t,e){this.node[this.propertyName]=t[e]},function(t,e){this.node[this.propertyName]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.node[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=t[e++]},function(t,e){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=t[e++];this.targetObject.needsUpdate=!0},function(t,e){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty[this.propertyIndex]=t[e]},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty.fromArray(t,e)},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}]]}),kr.Composite=function(t,e,n){var r=n||kr.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,r)},kr.Composite.prototype={constructor:kr.Composite,getValue:function(t,e){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(t,e)},setValue:function(t,e){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(t,e)},bind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].bind()},unbind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].unbind()}},kr.create=function(t,e,n){return t&&t.isAnimationObjectGroup?new kr.Composite(t,e,n):new kr(t,e,n)},kr.parseTrackName=function(t){var e=/^((?:[\w-]+[\/:])*)([\w-]+)?(?:\.([\w-]+)(?:\[(.+)\])?)?\.([\w-]+)(?:\[(.+)\])?$/,n=e.exec(t);if(!n)throw new Error("cannot parse trackName at all: "+t);var r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]};if(null===r.propertyName||0===r.propertyName.length)throw new Error("can not parse propertyName from trackName: "+t);return r},kr.findNode=function(t,e){if(!e||""===e||"root"===e||"."===e||e===-1||e===t.name||e===t.uuid)return t;if(t.skeleton){var n=function(t){for(var n=0;n<t.bones.length;n++){var r=t.bones[n];if(r.name===e)return r}return null},r=n(t.skeleton);if(r)return r}if(t.children){var i=function(t){for(var n=0;n<t.length;n++){var r=t[n];if(r.name===e||r.uuid===e)return r;var o=i(r.children);if(o)return o}return null},o=i(t.children);if(o)return o}return null},jr.prototype={constructor:jr,isAnimationObjectGroup:!0,add:function(t){for(var e=this._objects,n=e.length,r=this.nCachedObjects_,i=this._indicesByUUID,o=this._paths,s=this._parsedPaths,a=this._bindings,u=a.length,c=0,l=arguments.length;c!==l;++c){var p=arguments[c],h=p.uuid,f=i[h],d=void 0;if(void 0===f){f=n++,i[h]=f,e.push(p);for(var m=0,v=u;m!==v;++m)a[m].push(new kr(p,o[m],s[m]))}else if(f<r){d=e[f];var g=--r,y=e[g];i[y.uuid]=f,e[f]=y,i[h]=g,e[g]=p;for(var m=0,v=u;m!==v;++m){var _=a[m],b=_[g],w=_[f];_[f]=b,void 0===w&&(w=new kr(p,o[m],s[m])),_[g]=w}}else e[f]!==d&&console.error("Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes...")}this.nCachedObjects_=r},remove:function(t){for(var e=this._objects,n=this.nCachedObjects_,r=this._indicesByUUID,i=this._bindings,o=i.length,s=0,a=arguments.length;s!==a;++s){var u=arguments[s],c=u.uuid,l=r[c];if(void 0!==l&&l>=n){var p=n++,h=e[p];r[h.uuid]=l,e[l]=h,r[c]=p,e[p]=u;for(var f=0,d=o;f!==d;++f){var m=i[f],v=m[p],g=m[l];m[l]=v,m[p]=g}}}this.nCachedObjects_=n},uncache:function(t){for(var e=this._objects,n=e.length,r=this.nCachedObjects_,i=this._indicesByUUID,o=this._bindings,s=o.length,a=0,u=arguments.length;a!==u;++a){var c=arguments[a],l=c.uuid,p=i[l];if(void 0!==p)if(delete i[l],p<r){var h=--r,f=e[h],d=--n,m=e[d];i[f.uuid]=p,e[p]=f,i[m.uuid]=h,e[h]=m,e.pop();for(var v=0,g=s;v!==g;++v){var y=o[v],_=y[h],b=y[d];y[p]=_,y[h]=b,y.pop()}}else{var d=--n,m=e[d];i[m.uuid]=p,e[p]=m,e.pop();for(var v=0,g=s;v!==g;++v){var y=o[v];y[p]=y[d],y.pop()}}}this.nCachedObjects_=r},subscribe_:function(t,e){var n=this._bindingsIndicesByPath,r=n[t],i=this._bindings;if(void 0!==r)return i[r];var o=this._paths,s=this._parsedPaths,a=this._objects,u=a.length,c=this.nCachedObjects_,l=new Array(u);r=i.length,n[t]=r,o.push(t),s.push(e),i.push(l);for(var p=c,h=a.length;p!==h;++p){var f=a[p];l[p]=new kr(f,t,e)}return l},unsubscribe_:function(t){var e=this._bindingsIndicesByPath,n=e[t];if(void 0!==n){var r=this._paths,i=this._parsedPaths,o=this._bindings,s=o.length-1,a=o[s];e[t[s]]=n,o[n]=a,o.pop(),i[n]=i[s],i.pop(),r[n]=r[s],r.pop()}}},Fr.prototype={constructor:Fr,play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(t){return this._startTime=t,this},setLoop:function(t,e){return this.loop=t,this.repetitions=e,this},setEffectiveWeight:function(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(t){return this._scheduleFading(t,0,1)},fadeOut:function(t){return this._scheduleFading(t,1,0)},crossFadeFrom:function(t,e,n){if(t.fadeOut(e),this.fadeIn(e),n){var r=this._clip.duration,i=t._clip.duration,o=i/r,s=r/i;t.warp(1,o,e),this.warp(s,1,e)}return this},crossFadeTo:function(t,e,n){return t.crossFadeFrom(this,e,n)},stopFading:function(){var t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},setEffectiveTimeScale:function(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(t){return this.timeScale=this._clip.duration/t,this.stopWarping()},syncWith:function(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()},halt:function(t){return this.warp(this._effectiveTimeScale,0,t)},warp:function(t,e,n){var r=this._mixer,i=r.time,o=this._timeScaleInterpolant,s=this.timeScale;null===o&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);var a=o.parameterPositions,u=o.sampleValues;return a[0]=i,a[1]=i+n,u[0]=t/s,u[1]=e/s,this},stopWarping:function(){var t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(t,e,n,r){var i=this._startTime;if(null!==i){var o=(t-i)*n;if(o<0||0===n)return;this._startTime=null,e=n*o}e*=this._updateTimeScale(t);var s=this._updateTime(e),a=this._updateWeight(t);if(a>0)for(var u=this._interpolants,c=this._propertyBindings,l=0,p=u.length;l!==p;++l)u[l].evaluate(s),c[l].accumulate(r,a)},_updateWeight:function(t){var e=0;if(this.enabled){e=this.weight;var n=this._weightInterpolant;if(null!==n){var r=n.evaluate(t)[0];e*=r,t>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=e,e},_updateTimeScale:function(t){var e=0;if(!this.paused){e=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n){e*=n.evaluate(t)[0],t>n.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e)}}return this._effectiveTimeScale=e,e},_updateTime:function(t){var e=this.time+t;if(0===t)return e;var n=this._clip.duration,r=this.loop,i=this._loopCount;if(r===Ws){i===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(e>=n)e=n;else{if(!(e<0))break t;e=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{var o=r===Xs;if(i===-1&&(t>=0?(i=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),e>=n||e<0){var s=Math.floor(e/n);e-=n*s,i+=Math.abs(s);var a=this.repetitions-i;if(a<0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,e=t>0?n:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(0===a){var u=t<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:s})}}if(o&&1==(1&i))return this.time=e,n-e}return this.time=e,e},_setEndings:function(t,e,n){var r=this._interpolantSettings;n?(r.endingStart=Js,r.endingEnd=Js):(r.endingStart=t?this.zeroSlopeAtStart?Js:Ks:$s,r.endingEnd=e?this.zeroSlopeAtEnd?Js:Ks:$s)},_scheduleFading:function(t,e,n){var r=this._mixer,i=r.time,o=this._weightInterpolant;null===o&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);var s=o.parameterPositions,a=o.sampleValues;return s[0]=i,a[0]=e,s[1]=i+t,a[1]=n,this}},Ur.prototype={constructor:Ur,clipAction:function(t,e){var n=e||this._root,r=n.uuid,i="string"==typeof t?$n.findByName(n,t):t,o=null!==i?i.uuid:t,s=this._actionsByClip[o],a=null;if(void 0!==s){var u=s.actionByRoot[r];if(void 0!==u)return u;a=s.knownActions[0],null===i&&(i=a._clip)}if(null===i)return null;var c=new Fr(this,i,e);return this._bindAction(c,a),this._addInactiveAction(c,o,r),c},existingAction:function(t,e){var n=e||this._root,r=n.uuid,i="string"==typeof t?$n.findByName(n,t):t,o=i?i.uuid:t,s=this._actionsByClip[o];return void 0!==s?s.actionByRoot[r]||null:null},stopAllAction:function(){var t=this._actions,e=this._nActiveActions,n=this._bindings,r=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var i=0;i!==e;++i)t[i].reset();for(var i=0;i!==r;++i)n[i].useCount=0;return this},update:function(t){t*=this.timeScale;for(var e=this._actions,n=this._nActiveActions,r=this.time+=t,i=Math.sign(t),o=this._accuIndex^=1,s=0;s!==n;++s){var a=e[s];a.enabled&&a._update(r,t,i,o)}for(var u=this._bindings,c=this._nActiveBindings,s=0;s!==c;++s)u[s].apply(o);return this},getRoot:function(){return this._root},uncacheClip:function(t){var e=this._actions,n=t.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){for(var o=i.knownActions,s=0,a=o.length;s!==a;++s){var u=o[s];this._deactivateAction(u);var c=u._cacheIndex,l=e[e.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,l._cacheIndex=c,e[c]=l,e.pop(),this._removeInactiveBindingsForAction(u)}delete r[n]}},uncacheRoot:function(t){var e=t.uuid,n=this._actionsByClip;for(var r in n){var i=n[r].actionByRoot,o=i[e];void 0!==o&&(this._deactivateAction(o),this._removeInactiveAction(o))}var s=this._bindingsByRootAndName,a=s[e];if(void 0!==a)for(var u in a){var c=a[u];c.restoreOriginalState(),this._removeInactiveBinding(c)}},uncacheAction:function(t,e){var n=this.existingAction(t,e);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}},Object.assign(Ur.prototype,{_bindAction:function(t,e){var n=t._localRoot||this._root,r=t._clip.tracks,i=r.length,o=t._propertyBindings,s=t._interpolants,a=n.uuid,u=this._bindingsByRootAndName,c=u[a];void 0===c&&(c={},u[a]=c);for(var l=0;l!==i;++l){var p=r[l],h=p.name,f=c[h];if(void 0!==f)o[l]=f;else{if(void 0!==(f=o[l])){null===f._cacheIndex&&(++f.referenceCount,this._addInactiveBinding(f,a,h));continue}var d=e&&e._propertyBindings[l].binding.parsedPath;f=new Dr(kr.create(n,h,d),p.ValueTypeName,p.getValueSize()),++f.referenceCount,this._addInactiveBinding(f,a,h),o[l]=f}s[l].resultBuffer=f.buffer}},_activateAction:function(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){var e=(t._localRoot||this._root).uuid,n=t._clip.uuid,r=this._actionsByClip[n];this._bindAction(t,r&&r.knownActions[0]),this._addInactiveAction(t,n,e)}for(var i=t._propertyBindings,o=0,s=i.length;o!==s;++o){var a=i[o];0==a.useCount++&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(t)}},_deactivateAction:function(t){if(this._isActiveAction(t)){for(var e=t._propertyBindings,n=0,r=e.length;n!==r;++n){var i=e[n];0==--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(t)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}},_isActiveAction:function(t){var e=t._cacheIndex;return null!==e&&e<this._nActiveActions},_addInactiveAction:function(t,e,n){var r=this._actions,i=this._actionsByClip,o=i[e];if(void 0===o)o={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,i[e]=o;else{var s=o.knownActions;t._byClipCacheIndex=s.length,s.push(t)}t._cacheIndex=r.length,r.push(t),o.actionByRoot[n]=t},_removeInactiveAction:function(t){var e=this._actions,n=e[e.length-1],r=t._cacheIndex;n._cacheIndex=r,e[r]=n,e.pop(),t._cacheIndex=null;var i=t._clip.uuid,o=this._actionsByClip,s=o[i],a=s.knownActions,u=a[a.length-1],c=t._byClipCacheIndex;u._byClipCacheIndex=c,a[c]=u,a.pop(),t._byClipCacheIndex=null,delete s.actionByRoot[(e._localRoot||this._root).uuid],0===a.length&&delete o[i],this._removeInactiveBindingsForAction(t)},_removeInactiveBindingsForAction:function(t){for(var e=t._propertyBindings,n=0,r=e.length;n!==r;++n){var i=e[n];0==--i.referenceCount&&this._removeInactiveBinding(i)}},_lendAction:function(t){var e=this._actions,n=t._cacheIndex,r=this._nActiveActions++,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_takeBackAction:function(t){var e=this._actions,n=t._cacheIndex,r=--this._nActiveActions,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_addInactiveBinding:function(t,e,n){var r=this._bindingsByRootAndName,i=r[e],o=this._bindings;void 0===i&&(i={},r[e]=i),i[n]=t,t._cacheIndex=o.length,o.push(t)},_removeInactiveBinding:function(t){var e=this._bindings,n=t.binding,r=n.rootNode.uuid,i=n.path,o=this._bindingsByRootAndName,s=o[r],a=e[e.length-1],u=t._cacheIndex;a._cacheIndex=u,e[u]=a,e.pop(),delete s[i];t:{for(var c in s)break t;delete o[r]}},_lendBinding:function(t){var e=this._bindings,n=t._cacheIndex,r=this._nActiveBindings++,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_takeBackBinding:function(t){var e=this._bindings,n=t._cacheIndex,r=--this._nActiveBindings,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_lendControlInterpolant:function(){var t=this._controlInterpolants,e=this._nActiveControlInterpolants++,n=t[e];return void 0===n&&(n=new Hn(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),n.__cacheIndex=e,t[e]=n),n},_takeBackControlInterpolant:function(t){var e=this._controlInterpolants,n=t.__cacheIndex,r=--this._nActiveControlInterpolants,i=e[r];t.__cacheIndex=r,e[r]=t,i.__cacheIndex=n,e[n]=i},_controlInterpolantsResultBuffer:new Float32Array(1)}),Object.assign(Ur.prototype,r.prototype),Br.prototype.clone=function(){return new Br(void 0===this.value.clone?this.value:this.value.clone())},Vr.prototype=Object.create(Pt.prototype),Vr.prototype.constructor=Vr,Vr.prototype.isInstancedBufferGeometry=!0,Vr.prototype.addGroup=function(t,e,n){this.groups.push({start:t,count:e,materialIndex:n})},Vr.prototype.copy=function(t){var e=t.index;null!==e&&this.setIndex(e.clone());var n=t.attributes;for(var r in n){var i=n[r];this.addAttribute(r,i.clone())}for(var o=t.groups,s=0,a=o.length;s<a;s++){var u=o[s];this.addGroup(u.start,u.count,u.materialIndex)}return this},Hr.prototype={constructor:Hr,isInterleavedBufferAttribute:!0,get count(){return this.data.count},get array(){return this.data.array},setX:function(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this},setY:function(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this},setZ:function(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this},setW:function(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this},getX:function(t){return this.data.array[t*this.data.stride+this.offset]},getY:function(t){return this.data.array[t*this.data.stride+this.offset+1]},getZ:function(t){return this.data.array[t*this.data.stride+this.offset+2]},getW:function(t){return this.data.array[t*this.data.stride+this.offset+3]},setXY:function(t,e,n){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this},setXYZ:function(t,e,n,r){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=r,this},setXYZW:function(t,e,n,r,i){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=r,this.data.array[t+3]=i,this}},zr.prototype={constructor:zr,isInterleavedBuffer:!0,set needsUpdate(t){t===!0&&this.version++},setArray:function(t){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0!==t?t.length/this.stride:0,this.array=t},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.dynamic=t.dynamic,this},copyAt:function(t,e,n){t*=this.stride,n*=e.stride;for(var r=0,i=this.stride;r<i;r++)this.array[t+r]=e.array[n+r];return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(t){return this.onUploadCallback=t,this}},Gr.prototype=Object.create(zr.prototype),Gr.prototype.constructor=Gr,Gr.prototype.isInstancedInterleavedBuffer=!0,Gr.prototype.copy=function(t){return zr.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},Wr.prototype=Object.create(mt.prototype),Wr.prototype.constructor=Wr,Wr.prototype.isInstancedBufferAttribute=!0,Wr.prototype.copy=function(t){return mt.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},qr.prototype={constructor:qr,linePrecision:1,set:function(t,e){this.ray.set(t,e)},setFromCamera:function(t,e){e&&e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize()):e&&e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(t,e){var n=[];return Yr(t,this,n,e),n.sort(Xr),n},intersectObjects:function(t,e){var n=[];if(Array.isArray(t)===!1)return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),n;for(var r=0,i=t.length;r<i;r++)Yr(t[r],this,n,e);return n.sort(Xr),n}},Zr.prototype={constructor:Zr,start:function(){this.startTime=(performance||Date).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var t=0;if(this.autoStart&&!this.running&&this.start(),this.running){var e=(performance||Date).now();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}},Qr.prototype={constructor:Qr,set:function(t,e,n){return this.radius=t,this.phi=e,this.theta=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this},makeSafe:function(){var t=1e-6;return this.phi=Math.max(t,Math.min(Math.PI-t,this.phi)),this},setFromVector3:function(t){return this.radius=t.length(),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t.x,t.z),this.phi=Math.acos(fa.clamp(t.y/this.radius,-1,1))),this}},Kr.prototype={constructor:Kr,set:function(t,e,n){return this.radius=t,this.theta=e,this.y=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this},setFromVector3:function(t){return this.radius=Math.sqrt(t.x*t.x+t.z*t.z),this.theta=Math.atan2(t.x,t.z),this.y=t.y,this}},Jr.prototype=Object.create(Rt.prototype),Jr.prototype.constructor=Jr,Jr.prototype.createAnimation=function(t,e,n,r){var i={start:e,end:n,length:n-e+1,fps:r,duration:(n-e)/r,lastFrame:0,currentFrame:0,active:!1,time:0,direction:1,weight:1,directionBackwards:!1,mirroredLoop:!1};this.animationsMap[t]=i,this.animationsList.push(i)},Jr.prototype.autoCreateAnimations=function(t){for(var e,n=/([a-z]+)_?(\d+)/i,r={},i=this.geometry,o=0,s=i.morphTargets.length;o<s;o++){var a=i.morphTargets[o],u=a.name.match(n);if(u&&u.length>1){var c=u[1];r[c]||(r[c]={start:1/0,end:-(1/0)});var l=r[c];o<l.start&&(l.start=o),o>l.end&&(l.end=o),e||(e=c)}}for(var c in r){var l=r[c];this.createAnimation(c,l.start,l.end,t)}this.firstAnimation=e},Jr.prototype.setAnimationDirectionForward=function(t){var e=this.animationsMap[t];e&&(e.direction=1,e.directionBackwards=!1)},Jr.prototype.setAnimationDirectionBackward=function(t){var e=this.animationsMap[t];e&&(e.direction=-1,e.directionBackwards=!0)},Jr.prototype.setAnimationFPS=function(t,e){var n=this.animationsMap[t];n&&(n.fps=e,n.duration=(n.end-n.start)/n.fps)},Jr.prototype.setAnimationDuration=function(t,e){var n=this.animationsMap[t];n&&(n.duration=e,n.fps=(n.end-n.start)/n.duration)},Jr.prototype.setAnimationWeight=function(t,e){var n=this.animationsMap[t];n&&(n.weight=e)},Jr.prototype.setAnimationTime=function(t,e){var n=this.animationsMap[t];n&&(n.time=e)},Jr.prototype.getAnimationTime=function(t){var e=0,n=this.animationsMap[t];return n&&(e=n.time),e},Jr.prototype.getAnimationDuration=function(t){var e=-1,n=this.animationsMap[t];return n&&(e=n.duration),e},Jr.prototype.playAnimation=function(t){var e=this.animationsMap[t];e?(e.time=0,e.active=!0):console.warn("THREE.MorphBlendMesh: animation["+t+"] undefined in .playAnimation()")},Jr.prototype.stopAnimation=function(t){var e=this.animationsMap[t];e&&(e.active=!1)},Jr.prototype.update=function(t){for(var e=0,n=this.animationsList.length;e<n;e++){var r=this.animationsList[e];if(r.active){var i=r.duration/r.length;r.time+=r.direction*t,r.mirroredLoop?(r.time>r.duration||r.time<0)&&(r.direction*=-1,r.time>r.duration&&(r.time=r.duration,r.directionBackwards=!0),r.time<0&&(r.time=0,r.directionBackwards=!1)):(r.time=r.time%r.duration,r.time<0&&(r.time+=r.duration));var o=r.start+fa.clamp(Math.floor(r.time/i),0,r.length-1),s=r.weight;o!==r.currentFrame&&(this.morphTargetInfluences[r.lastFrame]=0,this.morphTargetInfluences[r.currentFrame]=1*s,this.morphTargetInfluences[o]=0,r.lastFrame=r.currentFrame,r.currentFrame=o);var a=r.time%i/i;r.directionBackwards&&(a=1-a),r.currentFrame!==r.lastFrame?(this.morphTargetInfluences[r.currentFrame]=a*s,this.morphTargetInfluences[r.lastFrame]=(1-a)*s):this.morphTargetInfluences[r.currentFrame]=s}}},$r.prototype=Object.create(lt.prototype),$r.prototype.constructor=$r,$r.prototype.isImmediateRenderObject=!0,ti.prototype=Object.create(Ee.prototype),ti.prototype.constructor=ti,ti.prototype.update=function(){var t=new l,e=new l,n=new rt;return function(){var r=["a","b","c"];this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);var i=this.object.matrixWorld,o=this.geometry.attributes.position,s=this.object.geometry;if(s&&s.isGeometry)for(var a=s.vertices,u=s.faces,c=0,l=0,p=u.length;l<p;l++)for(var h=u[l],f=0,d=h.vertexNormals.length;f<d;f++){var m=a[h[r[f]]],v=h.vertexNormals[f];t.copy(m).applyMatrix4(i),e.copy(v).applyMatrix3(n).normalize().multiplyScalar(this.size).add(t),o.setXYZ(c,t.x,t.y,t.z),c+=1,o.setXYZ(c,e.x,e.y,e.z),c+=1}else if(s&&s.isBufferGeometry)for(var g=s.attributes.position,y=s.attributes.normal,c=0,f=0,d=g.count;f<d;f++)t.set(g.getX(f),g.getY(f),g.getZ(f)).applyMatrix4(i),e.set(y.getX(f),y.getY(f),y.getZ(f)),e.applyMatrix3(n).normalize().multiplyScalar(this.size).add(t),o.setXYZ(c,t.x,t.y,t.z),c+=1,o.setXYZ(c,e.x,e.y,e.z),c+=1;return o.needsUpdate=!0,this}}(),ei.prototype=Object.create(lt.prototype),ei.prototype.constructor=ei,ei.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},ei.prototype.update=function(){var t=new l,e=new l;return function(){var n=this.light.distance?this.light.distance:1e3,r=n*Math.tan(this.light.angle);this.cone.scale.set(r,r,n),t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(e.sub(t)),this.cone.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)}}(),ni.prototype=Object.create(Ee.prototype),ni.prototype.constructor=ni,ni.prototype.getBoneList=function(t){var e=[];t&&t.isBone&&e.push(t);for(var n=0;n<t.children.length;n++)e.push.apply(e,this.getBoneList(t.children[n]));return e},ni.prototype.update=function(){var t=new l,e=new p,n=new p;return function(){var r=this.geometry,i=r.getAttribute("position");n.getInverse(this.root.matrixWorld);for(var o=0,s=0;o<this.bones.length;o++){var a=this.bones[o];a.parent&&a.parent.isBone&&(e.multiplyMatrices(n,a.matrixWorld),t.setFromMatrixPosition(e),i.setXYZ(s,t.x,t.y,t.z),e.multiplyMatrices(n,a.parent.matrixWorld),t.setFromMatrixPosition(e),i.setXYZ(s+1,t.x,t.y,t.z),s+=2)}r.getAttribute("position").needsUpdate=!0}}(),ri.prototype=Object.create(Rt.prototype),ri.prototype.constructor=ri,ri.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},ri.prototype.update=function(){this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)},ii.prototype=Object.create(lt.prototype),ii.prototype.constructor=ii,ii.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose(),this.children[1].geometry.dispose(),this.children[1].material.dispose()},ii.prototype.update=function(){var t=new l,e=new l;return function(){var n=this.children[0],r=this.children[1];if(this.light.target){t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld);var i=e.clone().sub(t);n.lookAt(i),r.lookAt(i)}n.material.color.copy(this.light.color).multiplyScalar(this.light.intensity),r.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);var o=.5*this.light.width,s=.5*this.light.height,a=n.geometry.getAttribute("position"),u=a.array;u[0]=o,u[1]=-s,u[2]=0,u[3]=o,u[4]=s,u[5]=0,u[6]=-o,u[7]=s,u[8]=0,u[9]=-o,u[10]=s,u[11]=0,u[12]=-o,u[13]=-s,u[14]=0,u[15]=o,u[16]=-s,u[17]=0,a.needsUpdate=!0}}(),oi.prototype=Object.create(lt.prototype),oi.prototype.constructor=oi,oi.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},oi.prototype.update=function(){var t=new l,e=new X,n=new X;return function(){var r=this.children[0],i=r.geometry.getAttribute("color");e.copy(this.light.color).multiplyScalar(this.light.intensity),n.copy(this.light.groundColor).multiplyScalar(this.light.intensity);for(var o=0,s=i.count;o<s;o++){var a=o<s/2?e:n;i.setXYZ(o,a.r,a.g,a.b)}r.lookAt(t.setFromMatrixPosition(this.light.matrixWorld).negate()),i.needsUpdate=!0}}(),si.prototype=Object.create(Ee.prototype),si.prototype.constructor=si,ai.prototype=Object.create(Ee.prototype),ai.prototype.constructor=ai,ui.prototype=Object.create(Ee.prototype),ui.prototype.constructor=ui,ui.prototype.update=function(){var t=new l,e=new l,n=new rt;return function(){this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);for(var r=this.object.matrixWorld,i=this.geometry.attributes.position,o=this.object.geometry,s=o.vertices,a=o.faces,u=0,c=0,l=a.length;c<l;c++){var p=a[c],h=p.normal;t.copy(s[p.a]).add(s[p.b]).add(s[p.c]).divideScalar(3).applyMatrix4(r),e.copy(h).applyMatrix3(n).normalize().multiplyScalar(this.size).add(t),i.setXYZ(u,t.x,t.y,t.z),u+=1,i.setXYZ(u,e.x,e.y,e.z),u+=1}return i.needsUpdate=!0,this}}(),ci.prototype=Object.create(lt.prototype),ci.prototype.constructor=ci,ci.prototype.dispose=function(){var t=this.children[0],e=this.children[1];t.geometry.dispose(),t.material.dispose(),e.geometry.dispose(),e.material.dispose()},ci.prototype.update=function(){var t=new l,e=new l,n=new l;return function(){t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld),n.subVectors(e,t);var r=this.children[0],i=this.children[1];r.lookAt(n),r.material.color.copy(this.light.color).multiplyScalar(this.light.intensity),i.lookAt(n),i.scale.z=n.length()}}(),li.prototype=Object.create(Ee.prototype),li.prototype.constructor=li,li.prototype.update=function(){function t(t,o,s,a){r.set(o,s,a).unproject(i);var u=n[t];if(void 0!==u)for(var c=e.getAttribute("position"),l=0,p=u.length;l<p;l++)c.setXYZ(u[l],r.x,r.y,r.z)}var e,n,r=new l,i=new Dt;return function(){e=this.geometry,n=this.pointMap;var r=1,o=1;i.projectionMatrix.copy(this.camera.projectionMatrix),t("c",0,0,-1),t("t",0,0,1),t("n1",-r,-o,-1),t("n2",r,-o,-1),t("n3",-r,o,-1),t("n4",r,o,-1),t("f1",-r,-o,1),t("f2",r,-o,1),t("f3",-r,o,1),t("f4",r,o,1),t("u1",.7*r,1.1*o,-1),t("u2",.7*-r,1.1*o,-1),t("u3",0,2*o,-1),t("cf1",-r,0,1),t("cf2",r,0,1),t("cf3",0,-o,1),t("cf4",0,o,1),t("cn1",-r,0,-1),t("cn2",r,0,-1),t("cn3",0,-o,-1),t("cn4",0,o,-1),e.getAttribute("position").needsUpdate=!0}}(),pi.prototype=Object.create(Ee.prototype),pi.prototype.constructor=pi,pi.prototype.update=function(){var t=new et;return function(e){if(e&&e.isBox3?t.copy(e):t.setFromObject(e),!t.isEmpty()){var n=t.min,r=t.max,i=this.geometry.attributes.position,o=i.array;o[0]=r.x,o[1]=r.y,o[2]=r.z,o[3]=n.x,o[4]=r.y,o[5]=r.z,o[6]=n.x,o[7]=n.y,o[8]=r.z,o[9]=r.x,o[10]=n.y,o[11]=r.z,o[12]=r.x,o[13]=r.y,o[14]=n.z,o[15]=n.x,o[16]=r.y,o[17]=n.z,o[18]=n.x,o[19]=n.y,o[20]=n.z,o[21]=r.x,o[22]=n.y,o[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}();var Uc,Bc;hi.prototype=Object.create(lt.prototype),hi.prototype.constructor=hi,hi.prototype.setDirection=function(){var t,e=new l;return function(n){n.y>.99999?this.quaternion.set(0,0,0,1):n.y<-.99999?this.quaternion.set(1,0,0,0):(e.set(n.z,0,-n.x).normalize(),t=Math.acos(n.y),this.quaternion.setFromAxisAngle(e,t))}}(),hi.prototype.setLength=function(t,e,n){void 0===e&&(e=.2*t),void 0===n&&(n=.2*e),this.line.scale.set(1,Math.max(0,t-e),1),this.line.updateMatrix(),this.cone.scale.set(n,e,n),this.cone.position.y=t,this.cone.updateMatrix()},hi.prototype.setColor=function(t){this.line.material.color.copy(t),this.cone.material.color.copy(t)},fi.prototype=Object.create(Ee.prototype),fi.prototype.constructor=fi;var Vc=new l,Hc=new di,zc=new di,Gc=new di;mi.prototype=Object.create(mr.prototype),mi.prototype.constructor=mi,mi.prototype.getPoint=function(t){var e=this.points,n=e.length;n<2&&console.log("duh, you need at least 2 points");var r=(n-(this.closed?0:1))*t,i=Math.floor(r),o=r-i;this.closed?i+=i>0?0:(Math.floor(Math.abs(i)/e.length)+1)*e.length:0===o&&i===n-1&&(i=n-2,o=1);var s,a,u,c;if(this.closed||i>0?s=e[(i-1)%n]:(Vc.subVectors(e[0],e[1]).add(e[0]),s=Vc),a=e[i%n],u=e[(i+1)%n],this.closed||i+2<n?c=e[(i+2)%n]:(Vc.subVectors(e[n-1],e[n-2]).add(e[n-1]),c=Vc),void 0===this.type||"centripetal"===this.type||"chordal"===this.type){var p="chordal"===this.type?.5:.25,h=Math.pow(s.distanceToSquared(a),p),f=Math.pow(a.distanceToSquared(u),p),d=Math.pow(u.distanceToSquared(c),p);f<1e-4&&(f=1),h<1e-4&&(h=f),d<1e-4&&(d=f),Hc.initNonuniformCatmullRom(s.x,a.x,u.x,c.x,h,f,d),zc.initNonuniformCatmullRom(s.y,a.y,u.y,c.y,h,f,d),Gc.initNonuniformCatmullRom(s.z,a.z,u.z,c.z,h,f,d)}else if("catmullrom"===this.type){var m=void 0!==this.tension?this.tension:.5;Hc.initCatmullRom(s.x,a.x,u.x,c.x,m),zc.initCatmullRom(s.y,a.y,u.y,c.y,m),Gc.initCatmullRom(s.z,a.z,u.z,c.z,m)}return new l(Hc.calc(o),zc.calc(o),Gc.calc(o))},vi.prototype=Object.create(mr.prototype),vi.prototype.constructor=vi,vi.prototype.getPoint=function(t){var e=this.v0,n=this.v1,r=this.v2,i=this.v3;return new l(dr(t,e.x,n.x,r.x,i.x),dr(t,e.y,n.y,r.y,i.y),dr(t,e.z,n.z,r.z,i.z))},gi.prototype=Object.create(mr.prototype),gi.prototype.constructor=gi,gi.prototype.getPoint=function(t){var e=this.v0,n=this.v1,r=this.v2;return new l(cr(t,e.x,n.x,r.x),cr(t,e.y,n.y,r.y),cr(t,e.z,n.z,r.z))},yi.prototype=Object.create(mr.prototype),yi.prototype.constructor=yi,yi.prototype.getPoint=function(t){if(1===t)return this.v2.clone();var e=new l;return e.subVectors(this.v2,this.v1),e.multiplyScalar(t),e.add(this.v1),e},_i.prototype=Object.create(yr.prototype),_i.prototype.constructor=_i;var Wc={createMultiMaterialObject:function(t,e){for(var n=new Ce,r=0,i=e.length;r<i;r++)n.add(new Rt(t,e[r]));return n},detach:function(t,e,n){t.applyMatrix(e.matrixWorld),e.remove(t),n.add(t)},attach:function(t,e,n){var r=new p;r.getInverse(n.matrixWorld),t.applyMatrix(r),e.remove(t),n.add(t)}},qc=0,Xc=1;mr.create=function(t,e){return console.log("THREE.Curve.create() has been deprecated"),t.prototype=Object.create(mr.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t},Ui.prototype=Object.create(mi.prototype),Bi.prototype=Object.create(mi.prototype),Vi.prototype=Object.create(mi.prototype),Object.assign(Vi.prototype,{initFromArray:function(t){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(t){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(t){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),si.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},Object.assign(Z.prototype,{center:function(t){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},size:function(t){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(t)}}),Object.assign(et.prototype,{center:function(t){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionSphere:function(t){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)},size:function(t){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(t)}}),pt.prototype.center=function(t){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(t)},fa.random16=function(){return console.warn("THREE.Math.random16() has been deprecated. Use Math.random() instead."),Math.random()},Object.assign(rt.prototype,{flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},multiplyVector3:function(t){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},multiplyVector3Array:function(t){return console.warn("THREE.Matrix3: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(t)},applyToBuffer:function(t,e,n){return console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(t)},applyToVector3Array:function(t,e,n){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(p.prototype,{extractPosition:function(t){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(t)},flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},getPosition:function(){var t;return function(){return void 0===t&&(t=new l),console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),t.setFromMatrixColumn(this,3)}}(),setRotationFromQuaternion:function(t){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(t)},multiplyVector3:function(t){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector4:function(t){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector3Array:function(t){return console.warn("THREE.Matrix4: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(t)},rotateAxis:function(t){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),t.transformDirection(this)},crossVector:function(t){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(t,e,n){return console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(t)},applyToVector3Array:function(t,e,n){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(t,e,n,r,i,o){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(t,e,r,n,i,o)}}),it.prototype.isIntersectionLine=function(t){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(t)},c.prototype.multiplyVector3=function(t){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),t.applyQuaternion(this)},Object.assign(at.prototype,{isIntersectionBox:function(t){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionPlane:function(t){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(t)},isIntersectionSphere:function(t){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)}}),Object.assign(Er.prototype,{extrude:function(t){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Qe(this,t)},makeGeometry:function(t){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new on(this,t)}}),Object.assign(i.prototype,{fromAttribute:function(t,e,n){return console.error("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)}}),Object.assign(l.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(t){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)},getScaleFromMatrix:function(t){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)},getColumnFromMatrix:function(t,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,t)},applyProjection:function(t){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(t)},fromAttribute:function(t,e,n){return console.error("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)}}),Object.assign(s.prototype,{fromAttribute:function(t,e,n){return console.error("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)}}),At.prototype.computeTangents=function(){console.warn("THREE.Geometry: .computeTangents() has been removed.")},Object.assign(lt.prototype,{getChildByName:function(t){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(t)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(t,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,t)}}),Object.defineProperties(lt.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(t){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=t}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.defineProperties(ge.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),kt.prototype.setLens=function(t,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==e&&(this.filmGauge=e),this.setFocalLength(t)},Object.defineProperties(On.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(t){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(t){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=t}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(t){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=t}}}),Object.defineProperties(mt.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}}}),Object.assign(Pt.prototype,{addIndex:function(t){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(t)},addDrawCall:function(t,e,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(t,e)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}}),Object.defineProperties(Pt.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(Br.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(J.prototype,{wrapAround:{get:function(){console.warn("THREE."+this.type+": .wrapAround has been removed.")},set:function(){console.warn("THREE."+this.type+": .wrapAround has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE."+this.type+": .wrapRGB has been removed."),new X}}}),Object.defineProperties(_n.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties($.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(t){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=t}}}),Object.assign(le.prototype,{supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(t){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(t)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")}}),Object.defineProperties(le.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=t}},shadowMapCullFace:{get:function(){return this.shadowMap.cullFace},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace."),this.shadowMap.cullFace=t}}}),Object.defineProperties(st.prototype,{cullFace:{get:function(){return this.renderReverseSided?$i:Ji},set:function(t){var e=t!==Ji;console.warn("WebGLRenderer: .shadowMap.cullFace is deprecated. Set .shadowMap.renderReverseSided to "+e+"."),this.renderReverseSided=e}}}),Object.defineProperties(a.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(t){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=t}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(t){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=t}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(t){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=t}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(t){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=t}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(t){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=t}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(t){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=t}}}),Lr.prototype.load=function(t){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var e=this;return(new Tr).load(t,function(t){e.setBuffer(t)}),this},Nr.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()};var Yc={merge:function(t,e,n){console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.");var r;e.isMesh&&(e.matrixAutoUpdate&&e.updateMatrix(),r=e.matrix,e=e.geometry),t.merge(e,r,n)},center:function(t){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),t.center()}},Zc={crossOrigin:void 0,loadTexture:function(t,e,n,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var i=new Rn;i.setCrossOrigin(this.crossOrigin);var o=i.load(t,n,void 0,r);return e&&(o.mapping=e),o},loadTextureCube:function(t,e,n,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var i=new Pn;i.setCrossOrigin(this.crossOrigin);var o=i.load(t,n,void 0,r);return e&&(o.mapping=e),o},loadCompressedTexture:function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},loadCompressedTextureCube:function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")}}}).call(e,n("./node_modules/three/build/three.module.js"))},"./node_modules/three/examples/js/controls/OrbitControls.js":function(t,e,n){(function(t){t.OrbitControls=function(e,n){function r(){return 2*Math.PI/60/60*N.autoRotateSpeed}function i(){return Math.pow(.95,N.zoomSpeed)}function o(t){H.theta-=t}function s(t){H.phi-=t}function a(e){N.object instanceof t.PerspectiveCamera?z/=e:N.object instanceof t.OrthographicCamera?(N.object.zoom=Math.max(N.minZoom,Math.min(N.maxZoom,N.object.zoom*e)),N.object.updateProjectionMatrix(),W=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),N.enableZoom=!1)}function u(e){N.object instanceof t.PerspectiveCamera?z*=e:N.object instanceof t.OrthographicCamera?(N.object.zoom=Math.max(N.minZoom,Math.min(N.maxZoom,N.object.zoom/e)),N.object.updateProjectionMatrix(),W=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),N.enableZoom=!1)}function c(t){q.set(t.clientX,t.clientY)}function l(t){J.set(t.clientX,t.clientY)}function p(t){Z.set(t.clientX,t.clientY)}function h(t){X.set(t.clientX,t.clientY),Y.subVectors(X,q);var e=N.domElement===document?N.domElement.body:N.domElement;o(2*Math.PI*Y.x/e.clientWidth*N.rotateSpeed),s(2*Math.PI*Y.y/e.clientHeight*N.rotateSpeed),q.copy(X),N.update()}function f(t){$.set(t.clientX,t.clientY),tt.subVectors($,J),tt.y>0?a(i()):tt.y<0&&u(i()),J.copy($),N.update()}function d(t){Q.set(t.clientX,t.clientY),K.subVectors(Q,Z),rt(K.x,K.y),Z.copy(Q),N.update()}function m(t){}function v(t){t.deltaY<0?u(i()):t.deltaY>0&&a(i()),N.update()}function g(t){switch(t.keyCode){case N.keys.UP:rt(0,N.keyPanSpeed),N.update();break;case N.keys.BOTTOM:rt(0,-N.keyPanSpeed),N.update();break;case N.keys.LEFT:rt(N.keyPanSpeed,0),N.update();break;case N.keys.RIGHT:rt(-N.keyPanSpeed,0),N.update()}}function y(t){q.set(t.touches[0].pageX,t.touches[0].pageY)}function _(t){var e=t.touches[0].pageX-t.touches[1].pageX,n=t.touches[0].pageY-t.touches[1].pageY,r=Math.sqrt(e*e+n*n);J.set(0,r)}function b(t){Z.set(t.touches[0].pageX,t.touches[0].pageY)}function w(t){X.set(t.touches[0].pageX,t.touches[0].pageY),Y.subVectors(X,q);var e=N.domElement===document?N.domElement.body:N.domElement;o(2*Math.PI*Y.x/e.clientWidth*N.rotateSpeed),s(2*Math.PI*Y.y/e.clientHeight*N.rotateSpeed),q.copy(X),N.update()}function x(t){var e=t.touches[0].pageX-t.touches[1].pageX,n=t.touches[0].pageY-t.touches[1].pageY,r=Math.sqrt(e*e+n*n);$.set(0,r),tt.subVectors($,J),tt.y>0?u(i()):tt.y<0&&a(i()),J.copy($),N.update()}function E(t){Q.set(t.touches[0].pageX,t.touches[0].pageY),K.subVectors(Q,Z),rt(K.x,K.y),Z.copy(Q),N.update()}function S(t){}function M(t){if(N.enabled!==!1){if(t.preventDefault(),t.button===N.mouseButtons.ORBIT){if(N.enableRotate===!1)return;c(t),U=F.ROTATE}else if(t.button===N.mouseButtons.ZOOM){if(N.enableZoom===!1)return;l(t),U=F.DOLLY}else if(t.button===N.mouseButtons.PAN){if(N.enablePan===!1)return;p(t),U=F.PAN}U!==F.NONE&&(document.addEventListener("mousemove",C,!1),document.addEventListener("mouseup",T,!1),N.dispatchEvent(k))}}function C(t){if(N.enabled!==!1)if(t.preventDefault(),U===F.ROTATE){if(N.enableRotate===!1)return;h(t)}else if(U===F.DOLLY){if(N.enableZoom===!1)return;f(t)}else if(U===F.PAN){if(N.enablePan===!1)return;d(t)}}function T(t){N.enabled!==!1&&(m(t),document.removeEventListener("mousemove",C,!1),document.removeEventListener("mouseup",T,!1),N.dispatchEvent(j),U=F.NONE)}function A(t){N.enabled===!1||N.enableZoom===!1||U!==F.NONE&&U!==F.ROTATE||(t.preventDefault(),t.stopPropagation(),v(t),N.dispatchEvent(k),N.dispatchEvent(j))}function P(t){N.enabled!==!1&&N.enableKeys!==!1&&N.enablePan!==!1&&g(t)}function R(t){if(N.enabled!==!1){switch(t.touches.length){case 1:if(N.enableRotate===!1)return;y(t),U=F.TOUCH_ROTATE;break;case 2:if(N.enableZoom===!1)return;_(t),U=F.TOUCH_DOLLY;break;case 3:if(N.enablePan===!1)return;b(t),U=F.TOUCH_PAN;break;default:U=F.NONE}U!==F.NONE&&N.dispatchEvent(k)}}function O(t){if(N.enabled!==!1)switch(t.preventDefault(),t.stopPropagation(),t.touches.length){case 1:if(N.enableRotate===!1)return;if(U!==F.TOUCH_ROTATE)return;w(t);break;case 2:if(N.enableZoom===!1)return;if(U!==F.TOUCH_DOLLY)return;x(t);break;case 3:if(N.enablePan===!1)return;if(U!==F.TOUCH_PAN)return;E(t);break;default:U=F.NONE}}function L(t){N.enabled!==!1&&(S(t),N.dispatchEvent(j),U=F.NONE)}function I(t){t.preventDefault()}this.object=e,this.domElement=void 0!==n?n:document,this.enabled=!0,this.target=new t.Vector3,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-(1/0),this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.25,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={ORBIT:t.MOUSE.LEFT,ZOOM:t.MOUSE.MIDDLE,PAN:t.MOUSE.RIGHT},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return V.phi},this.getAzimuthalAngle=function(){return V.theta},this.reset=function(){N.target.copy(N.target0),N.object.position.copy(N.position0),N.object.zoom=N.zoom0,N.object.updateProjectionMatrix(),N.dispatchEvent(D),N.update(),U=F.NONE},this.update=function(){var n=new t.Vector3,i=(new t.Quaternion).setFromUnitVectors(e.up,new t.Vector3(0,1,0)),s=i.clone().inverse(),a=new t.Vector3,u=new t.Quaternion;return function(){var t=N.object.position;return n.copy(t).sub(N.target),n.applyQuaternion(i),V.setFromVector3(n),N.autoRotate&&U===F.NONE&&o(r()),V.theta+=H.theta,V.phi+=H.phi,V.theta=Math.max(N.minAzimuthAngle,Math.min(N.maxAzimuthAngle,V.theta)),V.phi=Math.max(N.minPolarAngle,Math.min(N.maxPolarAngle,V.phi)),V.makeSafe(),V.radius*=z,V.radius=Math.max(N.minDistance,Math.min(N.maxDistance,V.radius)),N.target.add(G),n.setFromSpherical(V),n.applyQuaternion(s),t.copy(N.target).add(n),N.object.lookAt(N.target),N.enableDamping===!0?(H.theta*=1-N.dampingFactor,H.phi*=1-N.dampingFactor):H.set(0,0,0),z=1,G.set(0,0,0),!!(W||a.distanceToSquared(N.object.position)>B||8*(1-u.dot(N.object.quaternion))>B)&&(N.dispatchEvent(D),a.copy(N.object.position),u.copy(N.object.quaternion),W=!1,!0)}}(),this.dispose=function(){N.domElement.removeEventListener("contextmenu",I,!1),N.domElement.removeEventListener("mousedown",M,!1),N.domElement.removeEventListener("wheel",A,!1),N.domElement.removeEventListener("touchstart",R,!1),N.domElement.removeEventListener("touchend",L,!1),N.domElement.removeEventListener("touchmove",O,!1),document.removeEventListener("mousemove",C,!1),document.removeEventListener("mouseup",T,!1),window.removeEventListener("keydown",P,!1)};var N=this,D={type:"change"},k={type:"start"},j={type:"end"},F={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5},U=F.NONE,B=1e-6,V=new t.Spherical,H=new t.Spherical,z=1,G=new t.Vector3,W=!1,q=new t.Vector2,X=new t.Vector2,Y=new t.Vector2,Z=new t.Vector2,Q=new t.Vector2,K=new t.Vector2,J=new t.Vector2,$=new t.Vector2,tt=new t.Vector2,et=function(){var e=new t.Vector3;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),G.add(e)}}(),nt=function(){var e=new t.Vector3;return function(t,n){e.setFromMatrixColumn(n,1),e.multiplyScalar(t),G.add(e)}}(),rt=function(){var e=new t.Vector3;return function(n,r){var i=N.domElement===document?N.domElement.body:N.domElement;if(N.object instanceof t.PerspectiveCamera){var o=N.object.position;e.copy(o).sub(N.target);var s=e.length();s*=Math.tan(N.object.fov/2*Math.PI/180),et(2*n*s/i.clientHeight,N.object.matrix),nt(2*r*s/i.clientHeight,N.object.matrix)}else N.object instanceof t.OrthographicCamera?(et(n*(N.object.right-N.object.left)/N.object.zoom/i.clientWidth,N.object.matrix),nt(r*(N.object.top-N.object.bottom)/N.object.zoom/i.clientHeight,N.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),N.enablePan=!1)}}();N.domElement.addEventListener("contextmenu",I,!1),N.domElement.addEventListener("mousedown",M,!1),N.domElement.addEventListener("wheel",A,!1),N.domElement.addEventListener("touchstart",R,!1),N.domElement.addEventListener("touchend",L,!1),N.domElement.addEventListener("touchmove",O,!1),window.addEventListener("keydown",P,!1),this.update()},t.OrbitControls.prototype=Object.create(t.EventDispatcher.prototype),t.OrbitControls.prototype.constructor=t.OrbitControls,Object.defineProperties(t.OrbitControls.prototype,{center:{get:function(){return console.warn("THREE.OrbitControls: .center has been renamed to .target"),this.target}},noZoom:{get:function(){return console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),!this.enableZoom},set:function(t){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),this.enableZoom=!t}},noRotate:{get:function(){return console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),!this.enableRotate},set:function(t){console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),this.enableRotate=!t}},noPan:{get:function(){return console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),!this.enablePan},set:function(t){console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),this.enablePan=!t}},noKeys:{get:function(){return console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),!this.enableKeys},set:function(t){console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),this.enableKeys=!t}},staticMoving:{get:function(){return console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),!this.enableDamping},set:function(t){console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),this.enableDamping=!t}},dynamicDampingFactor:{get:function(){return console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor},set:function(t){console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor=t}}})}).call(e,n("./node_modules/three/build/three.module.js"))},"./node_modules/three/examples/js/controls/VRControls.js":function(t,e,n){(function(t){t.VRControls=function(e,n){function r(t){o=t,t.length>0?i=t[0]:n&&n("VR input not available.")}var i,o,s=this,a=new t.Matrix4,u=null;"VRFrameData"in window&&(u=new VRFrameData),navigator.getVRDisplays&&navigator.getVRDisplays().then(r).catch(function(){console.warn("THREE.VRControls: Unable to get VR Displays")}),this.scale=1,this.standing=!1,this.userHeight=1.6,this.getVRDisplay=function(){return i},this.setVRDisplay=function(t){i=t},this.getVRDisplays=function(){return console.warn("THREE.VRControls: getVRDisplays() is being deprecated."),o},this.getStandingMatrix=function(){return a},this.update=function(){if(i){var t;i.getFrameData?(i.getFrameData(u),t=u.pose):i.getPose&&(t=i.getPose()),null!==t.orientation&&e.quaternion.fromArray(t.orientation),null!==t.position?e.position.fromArray(t.position):e.position.set(0,0,0),this.standing&&(i.stageParameters?(e.updateMatrix(),a.fromArray(i.stageParameters.sittingToStandingTransform),e.applyMatrix(a)):e.position.setY(e.position.y+this.userHeight)),e.position.multiplyScalar(s.scale)}},this.resetPose=function(){i&&i.resetPose()},this.resetSensor=function(){console.warn("THREE.VRControls: .resetSensor() is now .resetPose()."),this.resetPose()},this.zeroSensor=function(){console.warn("THREE.VRControls: .zeroSensor() is now .resetPose()."),this.resetPose()},this.dispose=function(){i=null}}}).call(e,n("./node_modules/three/build/three.module.js"))},"./node_modules/three/examples/js/effects/VREffect.js":function(t,e,n){(function(t){t.VREffect=function(e,n){function r(t){c=t,t.length>0?u=t[0]:n&&n("HMD not available")}function i(){var t=m.isPresenting;if(m.isPresenting=void 0!==u&&u.isPresenting,m.isPresenting){var n=u.getEyeParameters("left"),r=n.renderWidth,i=n.renderHeight;t||(y=e.getPixelRatio(),v=e.getSize(),e.setPixelRatio(1),e.setSize(2*r,i,!1))}else t&&(e.setPixelRatio(y),e.setSize(v.width,v.height,g))}function o(t){var e=2/(t.leftTan+t.rightTan),n=(t.leftTan-t.rightTan)*e*.5,r=2/(t.upTan+t.downTan);return{scale:[e,r],offset:[n,(t.upTan-t.downTan)*r*.5]}}function s(e,n,r,i){n=void 0===n||n,r=void 0===r?.01:r,i=void 0===i?1e4:i;var s=n?-1:1,a=new t.Matrix4,u=a.elements,c=o(e);return u[0]=c.scale[0],u[1]=0,u[2]=c.offset[0]*s,u[3]=0,u[4]=0,u[5]=c.scale[1],u[6]=-c.offset[1]*s,u[7]=0,u[8]=0,u[9]=0,u[10]=i/(r-i)*-s,u[11]=i*r/(r-i),u[12]=0,u[13]=0,u[14]=s,u[15]=0,a.transpose(),a}function a(t,e,n,r){var i=Math.PI/180;return s({upTan:Math.tan(t.upDegrees*i),downTan:Math.tan(t.downDegrees*i),leftTan:Math.tan(t.leftDegrees*i),rightTan:Math.tan(t.rightDegrees*i)},e,n,r)}var u,c,l,p,h=new t.Vector3,f=new t.Vector3,d=null;"VRFrameData"in window&&(d=new window.VRFrameData),navigator.getVRDisplays&&navigator.getVRDisplays().then(r).catch(function(){console.warn("THREE.VREffect: Unable to get VR Displays")}),this.isPresenting=!1,this.scale=1;var m=this,v=e.getSize(),g=!1,y=e.getPixelRatio();this.getVRDisplay=function(){return u},this.setVRDisplay=function(t){u=t},this.getVRDisplays=function(){return console.warn("THREE.VREffect: getVRDisplays() is being deprecated."),c},this.setSize=function(t,n,r){if(v={width:t,height:n},g=r,m.isPresenting){var i=u.getEyeParameters("left");e.setPixelRatio(1),e.setSize(2*i.renderWidth,i.renderHeight,!1)}else e.setPixelRatio(y),e.setSize(t,n,r)};var _=e.domElement,b=[0,0,.5,1],w=[.5,0,.5,1];window.addEventListener("vrdisplaypresentchange",i,!1),this.setFullScreen=function(t){return new Promise(function(e,n){return void 0===u?void n(new Error("No VR hardware found.")):m.isPresenting===t?void e():void e(t?u.requestPresent([{source:_}]):u.exitPresent())})},this.requestPresent=function(){return this.setFullScreen(!0)},this.exitPresent=function(){return this.setFullScreen(!1)},this.requestAnimationFrame=function(t){return void 0!==u?u.requestAnimationFrame(t):window.requestAnimationFrame(t)},this.cancelAnimationFrame=function(t){void 0!==u?u.cancelAnimationFrame(t):window.cancelAnimationFrame(t)},this.submitFrame=function(){void 0!==u&&m.isPresenting&&u.submitFrame()},this.autoSubmitFrame=!0;var x=new t.PerspectiveCamera;x.layers.enable(1);var E=new t.PerspectiveCamera;E.layers.enable(2),this.render=function(t,n,r,i){if(u&&m.isPresenting){var o=t.autoUpdate;o&&(t.updateMatrixWorld(),t.autoUpdate=!1);var s=u.getEyeParameters("left"),c=u.getEyeParameters("right");h.fromArray(s.offset),f.fromArray(c.offset),Array.isArray(t)&&(console.warn("THREE.VREffect.render() no longer supports arrays. Use object.layers instead."),t=t[0]);var v,g,y=e.getSize(),_=u.getLayers();if(_.length){var S=_[0];v=null!==S.leftBounds&&4===S.leftBounds.length?S.leftBounds:b,g=null!==S.rightBounds&&4===S.rightBounds.length?S.rightBounds:w}else v=b,g=w;l={x:Math.round(y.width*v[0]),y:Math.round(y.height*v[1]),width:Math.round(y.width*v[2]),height:Math.round(y.height*v[3])},p={x:Math.round(y.width*g[0]),y:Math.round(y.height*g[1]),width:Math.round(y.width*g[2]),height:Math.round(y.height*g[3])},r?(e.setRenderTarget(r),r.scissorTest=!0):(e.setRenderTarget(null),e.setScissorTest(!0)),(e.autoClear||i)&&e.clear(),null===n.parent&&n.updateMatrixWorld(),n.matrixWorld.decompose(x.position,x.quaternion,x.scale),n.matrixWorld.decompose(E.position,E.quaternion,E.scale);var M=this.scale;return x.translateOnAxis(h,M),E.translateOnAxis(f,M),u.getFrameData?(u.depthNear=n.near,u.depthFar=n.far,u.getFrameData(d),x.projectionMatrix.elements=d.leftProjectionMatrix,E.projectionMatrix.elements=d.rightProjectionMatrix):(x.projectionMatrix=a(s.fieldOfView,!0,n.near,n.far),E.projectionMatrix=a(c.fieldOfView,!0,n.near,n.far)),r?(r.viewport.set(l.x,l.y,l.width,l.height),r.scissor.set(l.x,l.y,l.width,l.height)):(e.setViewport(l.x,l.y,l.width,l.height),e.setScissor(l.x,l.y,l.width,l.height)),e.render(t,x,r,i),r?(r.viewport.set(p.x,p.y,p.width,p.height),r.scissor.set(p.x,p.y,p.width,p.height)):(e.setViewport(p.x,p.y,p.width,p.height),e.setScissor(p.x,p.y,p.width,p.height)),e.render(t,E,r,i),r?(r.viewport.set(0,0,y.width,y.height),r.scissor.set(0,0,y.width,y.height),r.scissorTest=!1,e.setRenderTarget(null)):(e.setViewport(0,0,y.width,y.height),e.setScissorTest(!1)),o&&(t.autoUpdate=!0),void(m.autoSubmitFrame&&m.submitFrame())}e.render(t,n,r,i)},this.dispose=function(){window.removeEventListener("vrdisplaypresentchange",i,!1)}}}).call(e,n("./node_modules/three/build/three.module.js"))},"./node_modules/three/examples/js/vr/WebVR.js":function(t,e){},"./node_modules/webpack/buildin/global.js":function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},"./src/canvas-renderer.ts":function(t,e,n){"use strict";function r(t){return e.CONTENT_ATTR.replace(f,t)}function i(t){return e.HOST_ATTR.replace(f,t)}function o(t,e){if(t.charCodeAt(0)===d)throw new Error("Found the synthetic "+e+" "+t+'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.')}function s(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?s(t,i,n):(i=i.replace(f,t),n.push(i))}return n}function a(t){return function(e){t(e)===!1&&(e.preventDefault(),e.returnValue=!1)}}var u=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),c=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},l=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var p=n("./node_modules/@angular/core/@angular/core.es5.js"),h=n("./node_modules/@angular/platform-browser/@angular/platform-browser.es5.js"),f=/%COMP%/g;e.COMPONENT_VARIABLE="%COMP%",e.HOST_ATTR="_nghost-"+e.COMPONENT_VARIABLE,e.CONTENT_ATTR="_ngcontent-"+e.COMPONENT_VARIABLE,e.shimContentAttribute=r,e.shimHostAttribute=i;var d="@".charCodeAt(0);e.flattenStyles=s;var m=function(){function t(t,e){this.eventManager=t,this.sharedStylesHost=e,this.rendererByCompId=new Map,this.defaultRenderer=new v(t)}return t.prototype.createRenderer=function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case p.ViewEncapsulation.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new g(this.eventManager,this.sharedStylesHost,e),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case p.ViewEncapsulation.Native:return new y(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var r=s(e.id,e.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}},t}();m=c([p.Injectable(),l("design:paramtypes",[h.EventManager,h.ÉµDomSharedStylesHost])],m),e.CanvasDomRendererFactory=m;var v=function(){function t(t){this.eventManager=t,this.data=Object.create(null),this.blacklist=["NGX-SCENE"]}return t.prototype.destroy=function(){},t.prototype.createElement=function(t,e){return e?document.createElementNS(h.ÉµNAMESPACE_URIS[e],t):document.createElement(t)},t.prototype.createComment=function(t){return document.createComment(t)},t.prototype.createText=function(t){return document.createTextNode(t)},t.prototype.appendChild=function(t,e){this.blacklist.indexOf(t.tagName)===-1&&t.appendChild(e)},t.prototype.insertBefore=function(t,e,n){t&&t.insertBefore(e,n)},t.prototype.removeChild=function(t,e){t&&t.removeChild(e)},t.prototype.selectRootElement=function(t){var e="string"==typeof t?document.querySelector(t):t;if(!e)throw new Error('The selector "'+t+'" did not match any elements');return e.textContent="",e},t.prototype.parentNode=function(t){return t.parentNode},t.prototype.nextSibling=function(t){return t.nextSibling},t.prototype.setAttribute=function(t,e,n,r){r?t.setAttributeNS(h.ÉµNAMESPACE_URIS[r],r+":"+e,n):t.setAttribute(e,n)},t.prototype.removeAttribute=function(t,e,n){n?t.removeAttributeNS(h.ÉµNAMESPACE_URIS[n],e):t.removeAttribute(e)},t.prototype.addClass=function(t,e){t.classList.add(e)},t.prototype.removeClass=function(t,e){t.classList.remove(e)},t.prototype.setStyle=function(t,e,n,r){r&p.RendererStyleFlags2.DashCase?t.style.setProperty(e,n,r&p.RendererStyleFlags2.Important?"important":""):t.style[e]=n},t.prototype.removeStyle=function(t,e,n){n&p.RendererStyleFlags2.DashCase?t.style.removeProperty(e):t.style[e]=""},t.prototype.setProperty=function(t,e,n){o(e,"property"),t[e]=n},t.prototype.setValue=function(t,e){t.nodeValue=e},t.prototype.listen=function(t,e,n){return o(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,a(n)):this.eventManager.addEventListener(t,e,a(n))},t}(),g=function(t){function e(e,n,o){var a=t.call(this,e)||this;a.component=o;var u=s(o.id,o.styles,[]);return n.addStyles(u),a.contentAttr=r(o.id),a.hostAttr=i(o.id),a}return u(e,t),e.prototype.applyToHost=function(e){t.prototype.setAttribute.call(this,e,this.hostAttr,"")},e.prototype.createElement=function(e,n){var r=t.prototype.createElement.call(this,e,n);return t.prototype.setAttribute.call(this,r,this.contentAttr,""),r},e}(v),y=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;o.sharedStylesHost=n,o.hostEl=r,o.component=i,o.shadowRoot=r.createShadowRoot(),o.sharedStylesHost.addHost(o.shadowRoot);for(var a=s(i.id,i.styles,[]),u=0;u<a.length;u++){var c=document.createElement("style");c.textContent=a[u],o.shadowRoot.appendChild(c)}return o}return u(e,t),e.prototype.destroy=function(){this.sharedStylesHost.removeHost(this.shadowRoot)},e.prototype.appendChild=function(e,n){return t.prototype.appendChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.insertBefore=function(e,n,r){return t.prototype.insertBefore.call(this,this.nodeOrShadowRoot(e),n,r)},e.prototype.removeChild=function(e,n){return t.prototype.removeChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.parentNode=function(e){return this.nodeOrShadowRoot(t.prototype.parentNode.call(this,this.nodeOrShadowRoot(e)))},e.prototype.nodeOrShadowRoot=function(t){return t===this.hostEl?this.shadowRoot:t},e}(v)},"./src/components/cameras/index.ts":function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n("./src/components/cameras/perspective-camera.component.ts"))},"./src/components/cameras/perspective-camera.component.ts":function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var o=n("./node_modules/@angular/core/@angular/core.es5.js"),s=n("./node_modules/three/build/three.module.js"),a=function(){function t(){this.positions=[0,150,400],this.viewAngle=50,this.near=.1,this.far=1e3,this._height=0,this._width=0}return Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t,this.updateAspect()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t,this.updateAspect()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"aspect",{get:function(){return this.height/this.width},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.camera=new s.PerspectiveCamera(this.viewAngle,this.aspect,this.near,this.far),this.camera.position.set(this.positions[0],this.positions[1],this.positions[2])},t.prototype.updateAspect=function(t){void 0===t&&(t=this.aspect),this.camera&&(this.camera.aspect=t,this.camera.updateProjectionMatrix())},t}();r([o.Input(),i("design:type",Object)],a.prototype,"positions",void 0),r([o.Input(),i("design:type",Number),i("design:paramtypes",[Number])],a.prototype,"height",null),r([o.Input(),i("design:type",Number),i("design:paramtypes",[Number])],a.prototype,"width",null),a=r([o.Component({selector:"ngx-perspective-camera",template:"<ng-content></ng-content>",changeDetection:o.ChangeDetectionStrategy.OnPush})],a),e.PerspectiveCameraComponent=a},"./src/components/controls/index.ts":function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n("./src/components/controls/orbit-controls.component.ts")),r(n("./src/components/controls/vr-controls.component.ts"))},"./src/components/controls/orbit-controls.component.ts":function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var o=n("./node_modules/@angular/core/@angular/core.es5.js"),s=n("./node_modules/three/build/three.module.js");n("./node_modules/three/examples/js/controls/OrbitControls.js");var a=function(){function t(){this.enabled=!0,this.enableRotate=!0,this.enablePan=!0,this.enableKeys=!0,this.enableZoom=!0}return t.prototype.setupControls=function(t,e){this.controls=new s.OrbitControls(t,e.domElement),this.controls.enabled=this.enabled,this.controls.enableKeys=!0,this.controls.enableRotate=this.enableRotate,this.controls.rotateSpeed=1,this.controls.enableZoom=this.enableZoom,this.controls.zoomSpeed=2,this.controls.enablePan=this.enablePan,this.controls.keyPanSpeed=100,this.controls.enableDamping=!0,this.controls.dampingFactor=.25},t.prototype.ngOnDestroy=function(){this.controls.dispose()},t.prototype.updateControls=function(t,e){this.controls.update()},t}();r([o.Input(),i("design:type",Boolean)],a.prototype,"enabled",void 0),r([o.Input(),i("design:type",Boolean)],a.prototype,"enableRotate",void 0),r([o.Input(),i("design:type",Boolean)],a.prototype,"enablePan",void 0),r([o.Input(),i("design:type",Boolean)],a.prototype,"enableKeys",void 0),r([o.Input(),i("design:type",Boolean)],a.prototype,"enableZoom",void 0),a=r([o.Component({selector:"ngx-orbit-controls",template:"<ng-content></ng-content>",changeDetection:o.ChangeDetectionStrategy.OnPush})],a),e.OrbitControlsComponent=a},"./src/components/controls/vr-controls.component.ts":function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var o=n("./node_modules/@angular/core/@angular/core.es5.js"),s=n("./node_modules/three/build/three.module.js");n("./node_modules/three/examples/js/controls/VRControls.js"),n("./node_modules/three/examples/js/effects/VREffect.js"),n("./node_modules/three/examples/js/vr/WebVR.js");var a=function(){function t(){this.enabled=!0}return t.prototype.ngOnDestroy=function(){this.controls&&this.controls.dispose(),this.effect&&this.effect.dispose()},t.prototype.setupControls=function(t,e){this.enabled&&(this.controls=new s.VRControls(t),this.effect=new s.VREffect(e),this.setEffectSize(this.width,this.height),this.requestPresent())},t.prototype.setEffectSize=function(t,e){this.effect&&this.effect.setSize(t,e)},t.prototype.updateControls=function(t,e){this.controls&&this.effect&&(this.controls.update(),this.effect.render(t,e))},t.prototype.requestPresent=function(){var t=this;this.effect&&navigator.getVRDisplays().then(function(e){t.effect.requestPresent(e[0]),t.controls.setVRDisplay(e[0])})},t.prototype.resetPose=function(){this.controls&&this.controls.resetPose()},t}();r([o.Input(),i("design:type",Boolean)],a.prototype,"enabled",void 0),r([o.Input(),i("design:type",Number)],a.prototype,"height",void 0),r([o.Input(),i("design:type",Number)],a.prototype,"width",void 0),a=r([o.Component({selector:"ngx-vr-controls",template:"<ng-content></ng-content>",changeDetection:o.ChangeDetectionStrategy.OnPush})],a),e.VRControlsComponent=a},"./src/components/index.ts":function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n("./src/components/renderer.component.ts")),r(n("./src/components/scene.component.ts")),r(n("./src/components/stats.component.ts")),r(n("./src/components/cameras/index.ts")),r(n("./src/components/objects/index.ts")),r(n("./src/components/lights/index.ts")),r(n("./src/components/controls/index.ts"))},"./src/components/lights/ambient-light.component.ts":function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var o=n("./node_modules/@angular/core/@angular/core.es5.js"),s=n("./node_modules/three/build/three.module.js"),a=function(){function t(){this.color="#222222",this.position=[1,1,1]}return t.prototype.ngOnInit=function(){this.object=new s.AmbientLight(this.color),this.setPosition(this.position)},t.prototype.setPosition=function(t){this.object.position.set(t[0],t[1],t[2])},t}();r([o.Input(),i("design:type",String)],a.prototype,"color",void 0),r([o.Input(),i("design:type",Array)],a.prototype,"position",void 0),a=r([o.Component({selector:"ngx-ambient-light",template:"<ng-content></ng-content>",changeDetection:o.ChangeDetectionStrategy.OnPush})],a),e.AmbientLightComponent=a},"./src/components/lights/directional-light.component.ts":function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var o=n("./node_modules/@angular/core/@angular/core.es5.js"),s=n("./node_modules/three/build/three.module.js"),a=function(){function t(){this.color="#FFFFFF",this.position=[1,1,1]}return t.prototype.ngOnInit=function(){this.object=new s.DirectionalLight(this.color),this.setPosition(this.position)},t.prototype.setPosition=function(t){this.object.position.set(t[0],t[1],t[2])},t}();r([o.Input(),i("design:type",String)],a.prototype,"color",void 0),r([o.Input(),i("design:type",Array)],a.prototype,"position",void 0),a=r([o.Component({selector:"ngx-directional-light",template:"<ng-content></ng-content>",changeDetection:o.ChangeDetectionStrategy.OnPush})],a),e.DirectionalLightComponent=a},"./src/components/lights/index.ts":function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n("./src/components/lights/point-light.component.ts")),r(n("./src/components/lights/directional-light.component.ts")),r(n("./src/components/lights/ambient-light.component.ts"))},"./src/components/lights/point-light.component.ts":function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var o=n("./node_modules/@angular/core/@angular/core.es5.js"),s=n("./node_modules/three/build/three.module.js"),a=function(){function t(){this.color="#FFFFFF",this.position=[0,250,0]}return t.prototype.ngOnInit=function(){this.object=new s.PointLight(this.color),this.setPosition(this.position)},t.prototype.setPosition=function(t){this.object.position.set(t[0],t[1],t[2])},t}();r([o.Input(),i("design:type",String)],a.prototype,"color",void 0),r([o.Input(),i("design:type",Array)],a.prototype,"position",void 0),a=r([o.Component({selector:"ngx-point-light",template:"<ng-content></ng-content>",changeDetection:o.ChangeDetectionStrategy.OnPush})],a),e.PointLightComponent=a},"./src/components/objects/fog.component.ts":function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var o=n("./node_modules/@angular/core/@angular/core.es5.js"),s=n("./node_modules/three/build/three.module.js"),a=function(){function t(){this.color="#CCCCCC"}return t.prototype.ngOnInit=function(){var t=new s.FogExp2(this.color,.002);this.object=t},t}();r([o.Input(),i("design:type",String)],a.prototype,"color",void 0),a=r([o.Component({selector:"ngx-fog",template:"<ng-content></ng-content>",changeDetection:o.ChangeDetectionStrategy.OnPush})],a),e.FogComponent=a},"./src/components/objects/index.ts":function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n("./src/components/objects/sphere.component.ts")),r(n("./src/components/objects/text.component.ts")),r(n("./src/components/objects/fog.component.ts")),r(n("./src/components/objects/map-mesh.component.ts")),r(n("./src/components/objects/video.component.ts"))},"./src/components/objects/map-mesh.component.ts":function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var o=n("./node_modules/@angular/core/@angular/core.es5.js"),s=n("./node_modules/three/build/three.module.js"),a=function(){function t(){this.scale=[-1,1,1],this.radius=500,this.widthSegments=500,this.heightSegments=500}return t.prototype.ngOnInit=function(){var t=new s.SphereGeometry(this.radius,this.widthSegments,this.heightSegments);t.scale(this.scale[0],this.scale[1],this.scale[2]);var e=new s.MeshBasicMaterial({map:(new s.TextureLoader).load(this.imageSrc)});this.object=new s.Mesh(t,e)},t}();r([o.Input(),i("design:type",String)],a.prototype,"imageSrc",void 0),r([o.Input(),i("design:type",Array)],a.prototype,"scale",void 0),r([o.Input(),i("design:type",Number)],a.prototype,"radius",void 0),r([o.Input(),i("design:type",Number)],a.prototype,"widthSegments",void 0),r([o.Input(),i("design:type",Number)],a.prototype,"heightSegments",void 0),a=r([o.Component({selector:"ngx-map-mesh",template:"<ng-content></ng-content>",changeDetection:o.ChangeDetectionStrategy.OnPush})],a),e.MapMeshComponent=a},"./src/components/objects/sphere.component.ts":function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var o=n("./node_modules/@angular/core/@angular/core.es5.js"),s=n("./node_modules/three/build/three.module.js"),a=function(){function t(){}return t.prototype.ngOnInit=function(){var t=new s.SphereGeometry(3,50,50,0,2*Math.PI,0,2*Math.PI),e=new s.MeshNormalMaterial,n=new s.Mesh(t,e);n.position.y=this.positionY,n.position.x=this.positionX,n.position.z=this.positionZ,this.object=n},t}();r([o.Input(),i("design:type",Number)],a.prototype,"positionX",void 0),r([o.Input(),i("design:type",Number)],a.prototype,"positionY",void 0),r([o.Input(),i("design:type",Number)],a.prototype,"positionZ",void 0),a=r([o.Component({selector:"ngx-sphere",template:"<ng-content></ng-content>",changeDetection:o.ChangeDetectionStrategy.OnPush})],a),e.SphereComponent=a},"./src/components/objects/text.component.ts":function(t,e,n){"use strict";(function(t){var r=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var o=n("./node_modules/@angular/core/@angular/core.es5.js"),s=function(){function e(){this.position=[25,5,0],this.font="Bold 18px Arial",this.fillStyle="rgba(63,63,255,1)"}return e.prototype.ngOnInit=function(){var e=document.createElement("canvas"),n=e.getContext("2d");n.font=this.font,n.fillStyle=this.fillStyle,n.fillText(this.label,0,60);var r=new t.Texture(e);r.needsUpdate=!0;var i=new t.MeshBasicMaterial({map:r,side:t.DoubleSide});i.transparent=!0;var o=new t.Mesh(new t.PlaneGeometry(50,10),i);o.position.set(this.position[0],this.position[1],this.position[2]),this.object=o},e}();r([o.Input(),i("design:type",Array)],s.prototype,"position",void 0),r([o.Input(),i("design:type",String)],s.prototype,"label",void 0),r([o.Input(),i("design:type",String)],s.prototype,"font",void 0),r([o.Input(),i("design:type",String)],s.prototype,"fillStyle",void 0),s=r([o.Component({selector:"ngx-text",template:"<ng-content></ng-content>",changeDetection:o.ChangeDetectionStrategy.OnPush})],s),e.TextComponent=s}).call(e,n("./node_modules/three/build/three.module.js"))},"./src/components/objects/video.component.ts":function(t,e,n){"use strict";(function(t){var r=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var o=n("./node_modules/@angular/core/@angular/core.es5.js"),s=n("./node_modules/three/build/three.module.js"),a=function(){function e(){this.width=480,this.height=204,this.positionX=0,this.positionY=50,this.positionZ=0}return e.prototype.ngOnInit=function(){this.video=document.createElement("video"),this.video.src=this.url,this.video.crossOrigin="anonymous",this.video.load(),this.video.play(),this.videoImage=document.createElement("canvas"),this.videoImage.width=this.width,this.videoImage.height=this.height,this.videoImageContext=this.videoImage.getContext("2d"),this.videoImageContext.fillStyle="#000000",this.videoImageContext.fillRect(0,0,this.videoImage.width,this.videoImage.height),this.videoTexture=new s.Texture(this.videoImage),this.videoTexture.minFilter=s.LinearFilter,this.videoTexture.magFilter=s.LinearFilter;var e=new s.MeshBasicMaterial({map:this.videoTexture,side:t.DoubleSide}),n=new s.PlaneGeometry(100,100,4,4);this.object=new s.Mesh(n,e),this.object.position.set(this.positionX,this.positionY,this.positionZ)},e}();r([o.Input(),i("design:type",String)],a.prototype,"url",void 0),r([o.Input(),i("design:type",Object)],a.prototype,"width",void 0),r([o.Input(),i("design:type",Object)],a.prototype,"height",void 0),r([o.Input(),i("design:type",Number)],a.prototype,"positionX",void 0),r([o.Input(),i("design:type",Number)],a.prototype,"positionY",void 0),r([o.Input(),i("design:type",Number)],a.prototype,"positionZ",void 0),a=r([o.Component({selector:"ngx-video",template:"<ng-content></ng-content>",changeDetection:o.ChangeDetectionStrategy.OnPush})],a),e.VideoComponent=a}).call(e,n("./node_modules/three/build/three.module.js"))},"./src/components/renderer.component.ts":function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var o=n("./node_modules/@angular/core/@angular/core.es5.js"),s=n("./node_modules/three/build/three.module.js"),a=n("./src/components/scene.component.ts"),u=n("./src/components/cameras/index.ts"),c=n("./src/components/controls/index.ts"),l=function(){function t(t,e){this.element=t,this.ngZone=e,this.height=500,this.width=500,this.autoSize=!0}return Object.defineProperty(t.prototype,"vrMode",{set:function(t){t&&this.setupVR()},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.calcSize()},t.prototype.ngAfterContentInit=function(){this.renderer=new s.WebGLRenderer({antialias:!0,clearAlpha:1,alpha:!0,preserveDrawingBuffer:!0,canvas:this.canvas.nativeElement}),this.renderer.autoClear=!0,this.renderer.setClearColor("#16191C",1),this.renderer.setSize(this.width,this.height),this.renderer.setPixelRatio(Math.floor(window.devicePixelRatio)),this.scene.fog&&this.renderer.setClearColor(this.scene.fog.color),this.camera.height=this.height,this.camera.width=this.width,this.orbitControls&&this.orbitControls.setupControls(this.camera.camera,this.renderer),this.vrControls&&(this.vrControls.height=this.height,this.vrControls.width=this.width,this.vrControls.setupControls(this.camera.camera,this.renderer)),this.ngZone.runOutsideAngular(this.render.bind(this))},t.prototype.render=function(){var t=this;if(this.orbitControls&&this.orbitControls.updateControls(this.scene.scene,this.camera.camera),this.vrControls&&this.vrControls.enabled&&(this.vrControls.updateControls(this.scene.scene,this.camera.camera),this.vrControls.effect.requestAnimationFrame(this.render.bind(this))),this.scene.videoComps)for(var e=0,n=this.scene.videoComps.toArray();e<n.length;e++){var r=n[e];r.video.readyState===r.video.HAVE_ENOUGH_DATA&&(r.videoImageContext.drawImage(r.video,0,0),r.videoTexture&&(r.videoTexture.needsUpdate=!0))}this.camera.camera.lookAt(this.scene.scene.position),this.renderer.render(this.scene.scene,this.camera.camera),requestAnimationFrame(function(){return t.ngZone.runOutsideAngular(t.render.bind(t))})},t.prototype.onWindowResize=function(){this.calcSize()},t.prototype.calcSize=function(){this.autoSize&&(this.height=window.innerHeight,this.width=window.innerWidth,this.renderer&&this.renderer.setSize(this.width,this.height),this.camera&&(this.camera.height=this.height,this.camera.width=this.width),this.vrControls&&(this.vrControls.height=this.height,this.vrControls.width=this.width))},t.prototype.setupVR=function(){this.vrControls&&(this.vrControls.controls||(this.vrControls.enabled=!0,this.vrControls.height=this.height,this.vrControls.width=this.width,this.vrControls.setupControls(this.camera,this.renderer)),this.vrControls.requestPresent())},t}();r([o.Input(),i("design:type",Number)],l.prototype,"height",void 0),r([o.Input(),i("design:type",Number)],l.prototype,"width",void 0),r([o.Input(),i("design:type",Boolean)],l.prototype,"autoSize",void 0),r([o.Input(),i("design:type",Boolean),i("design:paramtypes",[Boolean])],l.prototype,"vrMode",null),r([o.ContentChild(a.SceneComponent),i("design:type",a.SceneComponent)],l.prototype,"scene",void 0),r([o.ContentChild(c.OrbitControlsComponent),i("design:type",c.OrbitControlsComponent)],l.prototype,"orbitControls",void 0),r([o.ContentChild(c.VRControlsComponent),i("design:type",c.VRControlsComponent)],l.prototype,"vrControls",void 0),r([o.ContentChild(u.PerspectiveCameraComponent,{descendants:!0}),i("design:type",u.PerspectiveCameraComponent)],l.prototype,"camera",void 0),r([o.ViewChild("canvas"),i("design:type",Object)],l.prototype,"canvas",void 0),r([o.HostListener("window:resize"),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],l.prototype,"onWindowResize",null),l=r([o.Component({selector:"ngx-renderer",template:"\n    <canvas #canvas></canvas>\n    <ng-content></ng-content>\n  ",changeDetection:o.ChangeDetectionStrategy.OnPush}),i("design:paramtypes",[o.ElementRef,o.NgZone])],l),e.RendererComponent=l},"./src/components/scene.component.ts":function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var o=n("./node_modules/@angular/core/@angular/core.es5.js"),s=n("./node_modules/three/build/three.module.js"),a=n("./src/components/cameras/index.ts"),u=n("./src/components/lights/index.ts"),c=n("./src/components/objects/index.ts"),l=function(){function t(){this.scene=new s.Scene}return t.prototype.ngAfterContentInit=function(){this.camera.camera.lookAt(this.scene.position),this.scene.add(this.camera.camera);for(var t=this.ambientLights.toArray().concat(this.pointLights.toArray(),this.directionalLights.toArray(),this.sphereComps.toArray(),this.textComps.toArray(),this.mapComps.toArray(),this.videoComps.toArray()),e=0,n=t;e<n.length;e++){var r=n[e];this.scene.add(r.object)}this.fog&&(this.scene.fog=this.fog.object)},t}();r([o.ContentChild(a.PerspectiveCameraComponent),i("design:type",a.PerspectiveCameraComponent)],l.prototype,"camera",void 0),r([o.ContentChildren(u.PointLightComponent),i("design:type",Object)],l.prototype,"pointLights",void 0),r([o.ContentChildren(u.DirectionalLightComponent),i("design:type",Object)],l.prototype,"directionalLights",void 0),r([o.ContentChildren(c.SphereComponent),i("design:type",Object)],l.prototype,"sphereComps",void 0),r([o.ContentChildren(c.VideoComponent),i("design:type",Object)],l.prototype,"videoComps",void 0),r([o.ContentChildren(c.TextComponent),i("design:type",Object)],l.prototype,"textComps",void 0),r([o.ContentChildren(u.AmbientLightComponent),i("design:type",Object)],l.prototype,"ambientLights",void 0),r([o.ContentChildren(c.MapMeshComponent),i("design:type",Object)],l.prototype,"mapComps",void 0),r([o.ContentChild(c.FogComponent),i("design:type",Object)],l.prototype,"fog",void 0),l=r([o.Component({selector:"ngx-scene",template:"<ng-content></ng-content>",changeDetection:o.ChangeDetectionStrategy.OnPush})],l),e.SceneComponent=l},"./src/components/stats.component.ts":function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var o=n("./node_modules/@angular/core/@angular/core.es5.js"),s=n("./node_modules/stats.js/build/stats.min.js"),a=function(){function t(t,e){this.element=t,this.renderer=e,this.stats=new s}return t.prototype.ngOnInit=function(){this.stats.showPanel(1),this.renderer.projectNodes(this.element.nativeElement,[this.stats.dom]),this.renderer.setElementStyle(this.stats.dom,"position","relative"),this.render()},t.prototype.render=function(){var t=this;this.stats.update(),requestAnimationFrame(function(){return t.render()})},t}();a=r([o.Component({selector:"ngx-stats",template:"<ng-content></ng-content>",styles:["\n    :host {\n      position: absolute;\n      bottom: 0;\n      right: 0;\n    }\n  "]}),i("design:paramtypes",[o.ElementRef,o.Renderer])],a),e.StatsComponent=a},"./src/index.ts":function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n("./src/ngx-webgl.module.ts")),r(n("./src/canvas-renderer.ts")),r(n("./src/components/index.ts"))},"./src/ngx-webgl.module.ts":function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(e,"__esModule",{value:!0});var i=n("./node_modules/@angular/core/@angular/core.es5.js"),o=n("./node_modules/@angular/common/@angular/common.es5.js"),s=n("./src/canvas-renderer.ts"),a=n("./src/components/index.ts"),u=function(){function t(){}return t}();u=r([i.NgModule({imports:[o.CommonModule],declarations:[a.RendererComponent,a.SceneComponent,a.PerspectiveCameraComponent,a.FogComponent,a.VRControlsComponent,a.AmbientLightComponent,a.PointLightComponent,a.VideoComponent,a.DirectionalLightComponent,a.TextComponent,a.StatsComponent,a.OrbitControlsComponent,a.SphereComponent,a.MapMeshComponent],exports:[a.RendererComponent,a.SceneComponent,a.AmbientLightComponent,a.FogComponent,a.PerspectiveCameraComponent,a.VideoComponent,a.DirectionalLightComponent,a.PointLightComponent,a.StatsComponent,a.TextComponent,a.SphereComponent,a.OrbitControlsComponent,a.VRControlsComponent,a.MapMeshComponent],providers:[s.CanvasDomRendererFactory,{provide:i.RendererFactory2,useClass:s.CanvasDomRendererFactory}]})],u),e.NgxWebGlModule=u}},["./demo/bootstrap.ts"]);